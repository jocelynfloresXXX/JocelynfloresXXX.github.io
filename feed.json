{
    "version": "https://jsonfeed.org/version/1",
    "title": "I",
    "subtitle": "",
    "icon": "https://2memos.xyz/images/favicon.ico",
    "description": "",
    "home_page_url": "https://2memos.xyz",
    "items": [
        {
            "id": "https://2memos.xyz/2021/03/09/Flag/",
            "url": "https://2memos.xyz/2021/03/09/Flag/",
            "title": "实习目标计划",
            "date_published": "2021-03-09T12:28:22.188Z",
            "content_html": "<h1 id=\"38315\"><a class=\"anchor\" href=\"#38315\">#</a> 3/8——3/15</h1>\n<div class=\"note info\">\n<p>如下如下</p>\n</div>\n<ul>\n<li>1) 学习并掌握《HCIA-Routing &amp; Switching V2.5 入门培训教材》。</li>\n<li>2）复习深信服实验部分。</li>\n<li>3）学习并掌握《IPv6 网络 —— 基础、安全、过渡与部署。》前三章：IPv6 基础知识，IPv6 协议首部结构，IPv6 地址结构。</li>\n</ul>\n<h1 id=\"316323\"><a class=\"anchor\" href=\"#316323\">#</a> 3/16——3/23</h1>\n<div class=\"note info\">\n<p>如下如下</p>\n</div>\n",
            "tags": []
        },
        {
            "id": "https://2memos.xyz/2021/03/07/IPv6%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E3%80%81%E5%AE%89%E5%85%A8%E3%80%81%E8%BF%87%E6%B8%A1%E4%B8%8E%E9%83%A8%E7%BD%B2/",
            "url": "https://2memos.xyz/2021/03/07/IPv6%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E3%80%81%E5%AE%89%E5%85%A8%E3%80%81%E8%BF%87%E6%B8%A1%E4%B8%8E%E9%83%A8%E7%BD%B2/",
            "title": "IPv6网络基础、安全、过渡与部署",
            "date_published": "2021-03-07T11:49:27.621Z",
            "content_html": "<h1 id=\"第一章ipv6基础知识\"><a class=\"anchor\" href=\"#第一章ipv6基础知识\">#</a> 第一章【IPv6 基础知识】</h1>\n<h1 id=\"第二章ipv6协议首部结构\"><a class=\"anchor\" href=\"#第二章ipv6协议首部结构\">#</a> 第二章【IPv6 协议首部结构】</h1>\n<h1 id=\"第三章ipv6地址结构\"><a class=\"anchor\" href=\"#第三章ipv6地址结构\">#</a> 第三章【IPv6 地址结构】</h1>\n<h1 id=\"第四章icmpv6协议和邻居发现协议\"><a class=\"anchor\" href=\"#第四章icmpv6协议和邻居发现协议\">#</a> 第四章【ICMPv6 协议和邻居发现协议】</h1>\n<h1 id=\"第五章ipv6路由协议\"><a class=\"anchor\" href=\"#第五章ipv6路由协议\">#</a> 第五章【IPv6 路由协议】</h1>\n<h1 id=\"第六章ipv6安全机制\"><a class=\"anchor\" href=\"#第六章ipv6安全机制\">#</a> 第六章【IPv6 安全机制】</h1>\n<h1 id=\"第七章移动ipv6技术\"><a class=\"anchor\" href=\"#第七章移动ipv6技术\">#</a> 第七章【移动 IPv6 技术】</h1>\n<h1 id=\"第八章ipv6过渡技术\"><a class=\"anchor\" href=\"#第八章ipv6过渡技术\">#</a> 第八章【IPv6 过渡技术】</h1>\n<h1 id=\"第九章ipv6网络协议栈应用\"><a class=\"anchor\" href=\"#第九章ipv6网络协议栈应用\">#</a> 第九章【IPv6 网络协议栈应用】</h1>\n<h1 id=\"第十章ipv6技术配置实验\"><a class=\"anchor\" href=\"#第十章ipv6技术配置实验\">#</a> 第十章【IPv6 技术配置实验】</h1>\n<h1 id=\"第十一章ipv6部署\"><a class=\"anchor\" href=\"#第十一章ipv6部署\">#</a> 第十一章【IPv6 部署】</h1>\n",
            "tags": [
                "技术",
                "IPV6"
            ]
        },
        {
            "id": "https://2memos.xyz/2021/03/07/HCIA-Routing%20&%20Switching/",
            "url": "https://2memos.xyz/2021/03/07/HCIA-Routing%20&%20Switching/",
            "title": "HCIA-Routing & Switching",
            "date_published": "2021-03-07T05:52:40.240Z",
            "content_html": "<h1 id=\"第一章传输介质简介\"><a class=\"anchor\" href=\"#第一章传输介质简介\">#</a> 第一章【传输介质简介】</h1>\n<details class=\"primary\"><summary>前言</summary><div>\n<ul>\n<li>通信网络除了包含通信设备本身之外，还包含连接这些设备的传输介质，如，同轴电缆，双绞线和光纤等。不同的传输介质具有不同的特性，这些特性直接影响到通信的诸多方面，如，线路编码方式，传输速度和传输距离等。</li>\n</ul>\n</div></details>\n<p class=\"red\">1，简单网络：</p>\n<div class=\"note info\">\n<p>如下如下</p>\n</div>\n<ul>\n<li>[1] 如图：</li>\n<li><img data-src=\"https://s3.ax1x.com/2021/03/07/6MGv3d.png\" alt=\"图片\"></li>\n<li>上图，两个终端，用一条能够承载数据传输的物理介质 (也称传输介质) 连接起来，就组成了一个简单网络。</li>\n<li>[2] 终端相互传递信息和资源共享的需求是网络产生的主要原因。</li>\n<li>[3] 终端可以产生，发送和接收数据，网络是终端建立通信的媒介，终端通过网络建立连接，用来传输数据的载体称为介质，网络可以使用各种介质进行数据传送，包括物理线缆，无线电波等。</li>\n<li>[4] 网络就是通过介质把终端互联而成的一个规模大，功能强的系统，从而使得众多的终端可以方便地互相传递信息，共享信息资源。</li>\n</ul>\n<p class=\"red\">2，介质 —— 同轴电缆：</p>\n<div class=\"note info\">\n<p>如下如下</p>\n</div>\n<ul>\n<li>[1] 简介如图：</li>\n<li><img data-src=\"https://s3.ax1x.com/2021/03/07/6MYMQA.png\" alt=\"图片\"></li>\n<li>[2] 同轴电缆是一种早期使用的传输介质，同轴电缆的标准分为两种，10BASE2 和 10BASE5. 这两种标准都支持 10Mbps 的传输数据，最长传输距离分别为 184m 和 500m 一般情况下，10BASE2 同轴电缆使用 BNC 接头，10BASE5 使用 N 型接头。</li>\n<li>[3] 10BASE5 和 10BASE2 是早期的两种以太网标准，它们均采用同轴电缆作为传输介质。10BASE5 和 10BASE2 所使用的同轴电缆的直径分别为 9.5mm 和 5mm，所以前者又称为粗电缆，后者又称为细电缆。</li>\n<li>[4] 现在 10Mbps 的传输速率早已不满足目前企业网络的需求，因此同轴电缆在目前企业网络中很少应用。</li>\n</ul>\n<p class=\"red\">3，介质 —— 交叉线：</p>\n<div class=\"note info\">\n<p>如下如下</p>\n</div>\n<ul>\n<li>[1] 如图</li>\n<li><img data-src=\"https://s3.ax1x.com/2021/03/07/6MsexK.png\" alt=\"图片\"></li>\n<li>[2] 与同轴电缆相比双绞线 (Twisted Pair) 具有更低的制造和部署成本，因此在企业网络中被广泛应用。</li>\n<li>[3] 双绞线可分为屏蔽双绞线 (Shielded Twisted Pair STP) 和非屏蔽双绞线 (Unshielded Twisted Pair UTP)。</li>\n<li>[4] 屏蔽双绞线在双绞线与外层绝缘封套之间有一个金属屏蔽层，可以屏蔽电磁干扰。</li>\n<li>[5] 双绞线有很多种类型，不同类型的双绞线所支持的传输速率一般也不相同，例如，3 类双绞线支持 10Mbps 传输速率，5 类双绞线支持 100Mbps 传输速率，超 5 类双绞线及更高级别的双绞线支持千兆以太网传输。</li>\n<li>[6] 双绞线使用 RJ-45 接头连接网络设备，为了保证终端能够正常收发数据，RJ-45 的针脚必须按照一定的线序排列。</li>\n<li>[7] 排序：</li>\n<li>568A 排线顺序：绿白，绿，橙白，蓝，蓝白，橙，棕白，棕。</li>\n<li>568B 排线顺序：橙白，橙，绿白，蓝，蓝白，绿，棕白，棕。</li>\n</ul>\n<p class=\"red\">4，介质 —— 光纤：</p>\n<div class=\"note info\">\n<p>如下如下</p>\n</div>\n<ul>\n<li>[1] 如图：</li>\n<li><img data-src=\"https://s3.ax1x.com/2021/03/07/6M6hCR.png\" alt=\"图片\"></li>\n<li>[2] 双绞线和同轴电缆传输数据时使用的是电信号，而光纤传输数据时使用的是光信号。</li>\n<li>[3] 光纤支持的传输速率包括：10Mbps，100Mbps，1Gbps，10Gbps 甚至更高。</li>\n<li>[4] 根据光纤传输光信号模式的不同，光纤又可以分为单模光纤和多模光纤。</li>\n<li>[5] 单模光纤只能传输一种模式的光，不存在膜间色散，因此适用于长距离高速传输。</li>\n<li>[6] 多模光纤允许不同模式的光在一根光纤上传输，由于膜间色散较大而导致信号脉冲展宽严重，因此多模光纤主要用于局域网中短距离传输。</li>\n<li>[7] 光纤连接器种类很多，常用的连接器包括 ST，FC，SC，LC 连接器。</li>\n</ul>\n<p class=\"red\">5，介质 —— 串口电缆：</p>\n<div class=\"note info\">\n<p>如下如下</p>\n</div>\n<ul>\n<li>[1] 如图：</li>\n<li><img data-src=\"https://s3.ax1x.com/2021/03/07/6M2cb8.png\" alt=\"图片\"></li>\n<li>[2] 网络通信中常常会用到各种各样的串口电缆，常用的串口电缆标准为 RS-232，同时也是推荐的标准。但是 RS-232 的传输速率有限，传输距离仅为 6m。</li>\n<li>[3] 其他的串口电缆标准可以支持更长的传输距离，例如：RS-422 和 RS-485 的传输距离可达到 1200m，RS-422 和 RS-485 串口电缆通常使用 V.35 接头，这种接头在上世纪 80 年代已被淘汰，但是，现在仍在帧中继，ATM 等传统网络上使用。</li>\n<li>[4] V.24 是 RS-232 标准的欧洲版，RS-232 本身没有定义接头标准，常用的接头类型为 DB-9 和 DB-25.</li>\n<li>[5] 现在，RS-232 已逐渐被 FireWire，USB 等新标准取代，新产品和新设备已普遍使用 USB 标准。</li>\n</ul>\n<p class=\"red\">6，冲突域：</p>\n<div class=\"note info\">\n<p>如下如下</p>\n</div>\n<ul>\n<li>\n<p>[1] 如图：</p>\n</li>\n<li>\n<p><img data-src=\"https://s3.ax1x.com/2021/03/07/6MWFO0.png\" alt=\"图片\"></p>\n</li>\n<li>\n<p>注：共享式网络中可能会出现信号冲突现象。</p>\n</li>\n<li>\n<p>[2] 上图是一个 10BASE5 以太网，每个主机都使用同一根同轴电缆来与其他主机进行通信，因此，这里的同轴电缆又被称为共享介质，相应的网络被称为共享介质网络，或称为共享式网络，在共享式网络中，不同的主机同时发送数据时，就会产生信号冲突的问题，解决这一问题的方法一般是采用<ins class=\"wavy\"> CSMA/CD (载波侦听多路访问 / 冲突检测技术)。</ins></p>\n</li>\n<li>\n<p>[3]<ins class=\"wavy success\"> CSMA/CD 的基本工作过程如下：</ins></p>\n</li>\n<li>\n<p><ins class=\"wavy success\">终端设备不停地检测共享线路的状态，如果线路空闲，则可以发送数据，如果线路不空闲，则等待一段时间后继续检测 (延时时间由退避算法决定)。</ins></p>\n</li>\n<li>\n<p><ins class=\"wavy success\">如果有另一台设备同时发送数据，两个设备发送的数据会产生冲突。</ins></p>\n</li>\n<li>\n<p><ins class=\"wavy success\">终端设备检测到冲突之后，会马上停止发送自己的数据，并发送特殊阻塞信息，以强化冲突信号，使线路上其他站点能够尽早检测到冲突。</ins></p>\n</li>\n<li>\n<p><ins class=\"wavy success\">终端设备检测到冲突后，等一段时间之后再进行数据发送 (延时时间有退避算法决定)。</ins></p>\n</li>\n<li>\n<p><ins class=\"wavy success\">CSMA/CD 的工作原理可简单总结为：先听后发，边发边听，冲突停发，随机延迟后重发。</ins></p>\n</li>\n</ul>\n<p class=\"red\">7，双工模式：</p>\n<div class=\"note info\">\n<p>如下如下</p>\n</div>\n<ul>\n<li>[1] 如图：</li>\n<li><img data-src=\"https://s3.ax1x.com/2021/03/07/6M4Q6s.png\" alt=\"图片\"></li>\n<li>注：两种双工模式都支持双向数据传输。</li>\n<li>[2] 半双工：</li>\n<li>在半双工 (Half-duplex mode) 下，通信双方都能发送和接收数据，但不能同时进行。当一台设备发送时，另一台只能接收，反之亦然。对讲机就是半双工的典型例子。</li>\n<li>[3] 全双工：</li>\n<li>在全双工 (Full-duplex mode) 下，通信双方都能同时接收和发送数据，电话网络是典型的全双工例子。</li>\n<li>[4] 以太网上的通信模式包括全双工和半双工两种。</li>\n<li>[5] 半双工模式下，共享物理介质的通信双方必须采用 CSMA/CD 机制来避免冲突，例如，10BASE5 以太网的通信模式就必须是半双工模式。</li>\n<li>[6] 全双工模式下，通信双方可以同时实现双向通信，这种模式不会产生冲突，因此，不需要使用 CSMA/CD 机制，例如，10BASE-T 以太网的通信模式就可以是全双工模式。</li>\n<li>[7] 同一物理链路上相连的两台设备的双工模式必须保持一致。</li>\n</ul>\n<p class=\"red\">8，总结：</p>\n<div class=\"note info\">\n<p>如下如下</p>\n</div>\n<ul>\n<li>千兆以太网传输必须使用超 5 类标准及以上的双绞线，或者使用千兆级更高等级的光纤。</li>\n<li>冲突域是一个通过共享物理介质进行双向传输的所有节点的集合，当同一个冲突与域中的主机同时发送数据时，数据到达目的地之前可能会发生冲突。</li>\n<li>CSMA/CD 是一种在共享式网络上检测并避免冲突的机制。</li>\n</ul>\n<h1 id=\"第二章以太网帧结构\"><a class=\"anchor\" href=\"#第二章以太网帧结构\">#</a> 第二章【以太网帧结构】</h1>\n<details class=\"primary\"><summary>前言</summary><div>\n<ul>\n<li>网络中传输数据时需要定义并遵循一些标准，以太网是根据 IEEE 802.3 标准来管理和控制数据帧的。了解 IEEE 802.3 标准是充分了解以太网中链路层通信的基础。</li>\n</ul>\n</div></details>\n<p class=\"red\">1，网络通信协议：</p>\n<div class=\"note info\">\n<p>如下如下</p>\n</div>\n<ul>\n<li>[1] 如图：</li>\n<li><img data-src=\"https://s3.ax1x.com/2021/03/07/6MTD2D.png\" alt=\"图片\"></li>\n<li>注：不同的协议栈用于定义和管理不同网络的数据转发规则。</li>\n<li>[2] 网络通信中，“协议” 和 “标准” 这两个词汇常常可以混用，同时，协议或标准本身又常常具有层次的特点。</li>\n<li>[3] 一般地，关注于逻辑数据关系的协议通常被称为上层协议，而关注于物理数据流的协议通常被称为底层协议。</li>\n<li>[4] IEEE 802 就是一套用来管理物理数据流在局域网中传输的标准，包括在局域网中传输物理数据的 802.3 以太网标准。除此之外，还有一些用来管理物理数据流在广域网中传输的标准，如，PPP (Point-To-Point Protocol)，高级数据链路控制 HDLC (High-Level Data Link Control)。</li>\n</ul>\n<p class=\"red\">2，分层模型 ——OSI：</p>\n<div class=\"note info\">\n<p>如下如下</p>\n</div>\n<ul>\n<li>[1] 如图：</li>\n<li><img data-src=\"https://s3.ax1x.com/2021/03/07/6M7oY6.png\" alt=\"图片\"></li>\n<li>[2] OSI 参考模型具有以下优点：</li>\n<li>简化了相关的网络操作。</li>\n<li>提供了不同厂商之间的兼容性。</li>\n<li>促进了标准化工作。</li>\n<li>结构上进行了分层。</li>\n<li>易于学习和操作。</li>\n<li>[3] OSI 各个层次的基本功能如下：</li>\n<li><ins class=\"dot\">物理层：</ins></li>\n<li>在设备之间传输比特流，规定了电平，速度和电缆针脚。</li>\n<li><ins class=\"dot\">数据链路层：</ins></li>\n<li>将比特组合成字节，再将字节组合成帧，使用链路层地址 (以太网使用 MAC 地址) 来访问介质，并进行差错检测。</li>\n<li><ins class=\"dot\">网络层：</ins></li>\n<li>提供逻辑地址，供路由器确认路径。</li>\n<li><ins class=\"dot\">传输层</ins></li>\n<li>提供面向连接或非面向连接的数据传递以及进行重传前的差错检测。</li>\n<li><ins class=\"dot\">会话层</ins></li>\n<li>负责建立，管理，终止表示层实体之间的通信会话。该层的通信由不同设备中的应用程序之间的服务请求和相应组成。</li>\n<li><ins class=\"dot\">表示层</ins></li>\n<li>提供各种用于应用层数据的编码和转换功能，确保一个系统的应用层发送的数据能被另一个系统的应用层识别。</li>\n<li><ins class=\"dot\">应用层</ins></li>\n<li>OSI 参考模型中最靠近用户的一层，为应用程序提供网络服务。</li>\n</ul>\n<p class=\"red\">3，分层模型 ——TCP/IP：</p>\n<div class=\"note info\">\n<p>如下如下</p>\n</div>\n<ul>\n<li>[1] 如图：</li>\n<li><img data-src=\"https://s3.ax1x.com/2021/03/07/6MqezT.png\" alt=\"图片\"></li>\n<li>[2] TCP/IP 模型同样采用了分层结构，层与层相对独立但是相应之间也具备非常密切的协作关系。</li>\n<li>[3] TCP/IP 模型将网络分为四层，TCP/IP 模型不关注底层物理介质，主要关注于终端之间的逻辑数据流转发，</li>\n<li>[4] TCP/IP 模型的核心是网络层和传输层，网络层解决网络之间的逻辑转发问题，传输层保证源端到目的端之间的可靠传输。最上层的应用层通过各种协议向终端用户提供业务应用。</li>\n</ul>\n<p class=\"red\">4，数据封装：</p>\n<div class=\"note info\">\n<p>如下如下</p>\n</div>\n<ul>\n<li>[1] 如图：</li>\n<li><img data-src=\"https://s3.ax1x.com/2021/03/08/6QC5WQ.png\" alt=\"图片\"></li>\n<li>[2] 应用数据需要经过 TCP/IP 每一层处理之后才能通过网络传输到目的端，每一层上都是用该层的数据单元 PDU (Protocol Data Unit) 彼此交换信息。不同层的 PDU 中包含有不同的信息，因此 PDU 在不同层被赋予了不同的名称。</li>\n<li>[3] 如上层数据在传输层添加 TCP 报头后得到的 PDU 被称为数据段 (Segmet), 数据段被传递给网络层，网络层添加 IP 报头得到的 PDU 被称为数据包 (Packet), 数据包被传递到数据链路层，封装数据链路层报头得到的 PDU 被称为数据帧 (Frame), 最后，帧被转换为比特，通过网络介质传输，这种协议栈逐层向下传递数据，并添加报头和报尾的过程称为封装。</li>\n</ul>\n<p class=\"red\">5，终端之间的通信：</p>\n<div class=\"note info\">\n<p>如下如下</p>\n</div>\n<ul>\n<li>[1] 如图：</li>\n<li><img data-src=\"https://s3.ax1x.com/2021/03/08/6QPkTK.png\" alt=\"图片\"></li>\n<li>注：数据链路层控制数据帧在物理线路上传输。</li>\n<li>[2] 数据包在以太网物理介质传播之前必须封装头部和尾部信息，封装后的数据包被称为数据帧，数据帧中封装的信息决定了数据如何传输，以太网中传输的数据帧有两种格式。选择哪种格式，由 TCP/IP 协议族中的网络层决定。</li>\n</ul>\n<p class=\"red\">6，帧格式：</p>\n<div class=\"note info\">\n<p>如下如下</p>\n</div>\n<ul>\n<li>[1] 如图：</li>\n<li><img data-src=\"https://s3.ax1x.com/2021/03/08/6QPQmt.png\" alt=\"图片\"></li>\n<li>[2] 以太网上使用两种标准帧格式，第一种是上世纪八十年代提出的 DIX v2 格式，即 Ethernet II 帧格式，Ethernet II 后来被 IEEE 802 标准接纳，并写进了 IEEE 802.3\tX-1997 的 3.2.6 节。</li>\n<li>[3] 第二种是 1983 年提出的 IEEE 802.3 格式，这两种格式的主要区别在与 Ethernet II 格式中包含一个 Type 字段，标识以太帧处理完成之后将被发送到哪个上层协议进行处理，IEEE 802.3 格式中，同样的位置是长度字段。</li>\n<li>[4] 不同的 Type 字段值可以用来区别这两种帧的类型，当 Type 字段值小于等于 1500 (或者 16 进制的 0x05DC) 时，帧使用的是 IEEE 802.3 格式。当 Type 值大于等于 1536 (或者 16 进制 0x0600) 时，帧使用的是 Ethernet II 格式。<ins class=\"wavy\">以太网中大多数的数据帧使用的是 Ethernet II 格式。</ins></li>\n<li>[5]<ins class=\"wavy\"> 以太帧中还包括源和目的 MAC 地址，分别代表发送者的 MAC 和接收者的 MAC，此外还有帧校验序列字段，用于校验传输过程中帧的完整性。</ins></li>\n</ul>\n<p class=\"red\">7，Ethernet II 帧格式：</p>\n<div class=\"note info\">\n<p>如下如下</p>\n</div>\n<ul>\n<li>[1] 如图：</li>\n<li><img data-src=\"https://s3.ax1x.com/2021/03/08/6QzZoF.png\" alt=\"图片\"></li>\n<li><ins class=\"wavy\">注：Ethernet II 帧类型值大于等于 1536 (0x0600)，以太网数据帧的长度在 64-1518 字节之间。</ins></li>\n<li>[2] Ethernet II 的帧中各种字段说明如下：</li>\n<li><ins class=\"wavy\">DMAC(Destination MAC)：</ins></li>\n<li>是目的 MAC 地址，DMAC 字段长度为 6 个字节，标识帧的接收者。</li>\n<li><ins class=\"wavy\">SMAC(Source MAC)：</ins></li>\n<li>是源 MAC 地址，SMAC 字段长度为 6 个字节，标识帧的发送者。</li>\n<li><ins class=\"wavy\">Type (类型字段)：</ins></li>\n<li>用于标识数据字段中包含的高层协议，该字段长度为 2 个字节，<ins class=\"wavy\">类型字段取值为 0x0800 的帧代表 IP 协议帧。类型字段取值为 0x0806 的帧代表 ARP 协议帧。</ins></li>\n<li><ins class=\"wavy\">Data (数据字段)：</ins></li>\n<li>是网络层数据，最小长度必须为 46 字节以保证帧长至少为 64 字节，数据字段的最大长度为 1500 字节。</li>\n<li><ins class=\"wavy\">FCS (循环冗余检验字段)：</ins></li>\n<li>提供了一种错误检测机制，该字段长度为 4 个字节。</li>\n</ul>\n<p class=\"red\">8，IEEE 802.3 帧格式：</p>\n<div class=\"note info\">\n<p>如下如下</p>\n</div>\n<ul>\n<li>[1] 如图：</li>\n<li><img data-src=\"https://s3.ax1x.com/2021/03/08/6lFCAP.png\" alt=\"图片\"></li>\n<li><ins class=\"wavy\">注：IEEE 802.3 帧长度字段值小于等于 1500 (0x05DC)。</ins></li>\n<li>[2] IEEE 802.3 帧格式类似于 Ethernet II 帧，只是 Ethernet II 帧的 type 域被 802.3 帧的 Length 域取代，并且占用了 Data 字段的 8 个字节作为 LLC 和 SNAP 字段。</li>\n<li><ins class=\"wavy\">Leagth 字段：</ins></li>\n<li>定义了 Data 字段包含的字节数。</li>\n<li><ins class=\"wavy\">逻辑链路控制 LLC (Logical Link Control)：</ins></li>\n<li>由目的服务访问点 DSAP (Destination Service Access Point)，源服务访问点 SSAP (Source Service Access Point) 和 Control 字段组成。</li>\n<li><ins class=\"wavy\">SNAP(Sub-network Access Point)：</ins></li>\n<li>由机构代码 (Org Code) 和类型 (Type) 字段组成，Org Code 三个字节都为零，Type 字段的含义与 Ethernet II 帧中的 Type 字段相同。</li>\n<li><ins class=\"wavy\">IEEE 802.3 帧根据 DSAP，SSAP 字段的取值又可以分为以下几类：</ins></li>\n<li>1) 当 DSAP 和 SSAP 都取特定值 0xff 时，802.3 帧就变成了 Netware-ETHERNET 帧，用来承载 NetWare 类型的数据。</li>\n<li>2) 当 DSAP 和 SSAP 都取特定值 0xaa 时，802.3 帧就变成了 ETHERNET-SNAP 帧，ETHERNER_SNAP 帧可以用于传输多种协议。</li>\n<li>3)<ins class=\"wavy\"> DSAP 和 SSAP 其他的取值均为纯 IEEE 802.3 帧。</ins></li>\n</ul>\n<p class=\"red\">9，数据帧传输：</p>\n<div class=\"note info\">\n<p>如下如下</p>\n</div>\n<ul>\n<li>[1] 如图：</li>\n<li><img data-src=\"https://s3.ax1x.com/2021/03/08/6lVFVs.png\" alt=\"图片\"></li>\n<li><ins class=\"wavy\">注：数据链路层基于 MAC 地址进行帧的传输。</ins></li>\n<li>[2] 以太网在二层链路上通过 MAC 地址来唯一标识网络设备，并且实现局域网上网络设备之间的通信。</li>\n<li>[3] MAC 地址也叫物理地址，大多数网卡厂商把 MAC 地址烧入了网卡的 ROM 中，发送端使用接收端的 MAC 地址作为目的地址，以太帧封装完成之后会通过物理层转换成比特流在物理介质上传输。</li>\n</ul>\n<p class=\"red\">10，以太网的 MAC 地址：</p>\n<div class=\"note info\">\n<p>如下如下</p>\n</div>\n<ul>\n<li>[1] 如图：</li>\n<li><img data-src=\"https://s3.ax1x.com/2021/03/08/6lek90.png\" alt=\"图片\"></li>\n<li>++ 注：MAC 地址由两部分组成，分别是供应商代码和序列号。其中前 24 位代表该供应商代码，由 IEEE 管理和分配，剩下的 24 位序列号由厂商自己分配。</li>\n<li>[2] 网络设备的 MAC 地址是全球唯一的，MAC 地址长度为 48 比特，通常用 16 进制标识。</li>\n<li>[3] MAC 地址包含两个部分：前 24 比特是组织唯一标识符 (OUI) 由 IEEE 统一分配给设备制造商，例如，华为网络产品的 MAC 地址前 24 比特是 0x00e0fc。后 24 位序列号是厂商厂商分配给每个产品的唯一数值，由各个厂商自行分配。</li>\n</ul>\n<p class=\"red\">11，单播：</p>\n<div class=\"note info\">\n<p>如下如下</p>\n</div>\n<ul>\n<li>[1] 如图：</li>\n<li><img data-src=\"https://s3.ax1x.com/2021/03/08/6ln06f.png\" alt=\"图片\"></li>\n<li>[2] 局域网中的帧可以通过三种方式发送，第一种是单播，指从单一的源端单一的目的端，每个主机接口由一个 MAC 地址唯一标识，<ins class=\"wavy\">MAC 地址的 OUI 中，第一个字节第八个比特标识比特类型。</ins></li>\n<li>[3] 对于主机 MAC 地址，这个比特固定为零，表示目的 MAC 地址为此 MAC 地址的帧都是发送到某个唯一的目的端。</li>\n<li>[4] 在冲突与中，所有主机都能接收到源主机发送的单播帧，都是其他主机发现目的地址与本地 MAC 地址不一致后会丢弃收到的帧，只有真正的目的主机才会接收并处理收到的帧。</li>\n</ul>\n<p class=\"red\">12，广播：</p>\n<div class=\"note info\">\n<p>如下如下</p>\n</div>\n<ul>\n<li>[1] 如图：</li>\n<li><img data-src=\"https://s3.ax1x.com/2021/03/08/6lKLy6.png\" alt=\"图片\"></li>\n<li>[2] 第二种方式是广播，表示帧从单一的源发送到共享以太网上的所有主机。广播帧的目的 MAC 地址为十六进制的 FF:FF:FF:FF:FF:FF，所有收到该广播帧的主机都要接收并处理这个帧。</li>\n<li>[3]<ins class=\"wavy\"> 广播方式会产生大量流量，导致带宽利用率降低，进而影响整个网络的性能。</ins></li>\n<li>[4]<ins class=\"wavy\"> 当需要网络中的所有主机都能接收到相同的信息并进行处理的情况下，通常会使用广播方式。</ins></li>\n</ul>\n<p class=\"red\">13，组播：</p>\n<div class=\"note info\">\n<p>如下如下</p>\n</div>\n<ul>\n<li>[1] 如图：</li>\n<li><img data-src=\"https://s3.ax1x.com/2021/03/08/6lQQ4H.png\" alt=\"图片\"></li>\n<li>[2] 第三种发送方式为组播，组播比广播更加高效，组播转发可以理解为选择性的广播，主机侦听特定组播地址，接收并处理目的 MAC 地址为该组播 MAC 地址的帧。</li>\n<li>[3] 组播 MAC 地址和单播 MAC 地址是通过<ins class=\"wavy\">第一个字节中的第八个比特区分的。组播 MAC 地址的第八个比特为 1，而单播 MAC 地址的第八个比特为 0。</ins></li>\n<li>[4] 当需要网络上的一组主机 (而不是全部主机) 接收相同的信息，并且其他主机不受影响的情况下通常会使用组播方式。</li>\n</ul>\n<p class=\"red\">14，数据帧的发送和接收：</p>\n<div class=\"note info\">\n<p>如下如下</p>\n</div>\n<ul>\n<li>[1] 如图：</li>\n<li><img data-src=\"https://s3.ax1x.com/2021/03/08/6l3GvR.png\" alt=\"图片\"></li>\n<li><ins class=\"wavy\">注：当主机接收到数据帧所包含的目的 MAC 地址是自己时，会把以太网封装剥掉后送往上层协议。</ins></li>\n<li>[2] 帧从主机的物理口发送出来后，通过传输介质传输到目的端，共享网络中，这个帧可能到达多个主机，主机检测帧头中的目的 MAC 地址，如果目的 MAC 地址不是本机 MAC 地址，也不是本机侦听的组播或广播 MAC 地址，则主机会丢弃收到的帧。</li>\n<li>[3] 如果目的 MAC 地址是本机 MAC 地址，则接收该帧，检测帧检验序列 (FCS) 字段，并于本机计算的值对比来确定帧在传输过程中是否保存了完整性。如果帧的 FCS 值与本机计算的值不同，主机会认为帧已被破坏，并会丢弃该帧。如果该帧通过了 FCS 校验，则主机会根据帧头部的 Type 字段来确定将帧发送给上层哪一个协议处理，本列中，Type 字段的值为 0x0800，表明该帧需要发送到 IP 协议上处理，在发送给 IP 协议之前，帧的头部和尾部会被剥掉。</li>\n</ul>\n<p class=\"red\">15，本章总结：</p>\n<div class=\"note info\">\n<p>如下如下</p>\n</div>\n<ul>\n<li>[1] 网络设备如何确定以太网数据帧的上层协议？</li>\n<li>以太网帧中包含一个 Type 字段，表示帧中的数据应该发送到上层哪个协议处理，比如，IP 协议对应的 Type 值为 0x0800，ARP 协议对应的 Type 值为 0x0806。</li>\n<li>[2] 终端设备接收到数据帧时，会如何处理？</li>\n<li>主机检查帧头中的目的 MAC 地址，如果目的 MAC 地址不是本机 MAC 地址，也不是本机侦听的组播或广播 MAC 地址，则主机会丢掉收到的帧，如果目的 MAC 地址是本机 MAC 地址，则接收该帧，检查帧校验序列 (FCS) 字段，并于本机计算的值对比来确定帧在传输过程中是否保持了完整性。如果检查通过，就会剥离帧头和帧尾，然后根据帧头中的 Type 字段来决定把数据发送到哪个上层协议进行后续处理。</li>\n</ul>\n<h1 id=\"第三章ip编址\"><a class=\"anchor\" href=\"#第三章ip编址\">#</a> 第三章【IP 编址】</h1>\n<details class=\"primary\"><summary>前言</summary><div>\n<ul>\n<li>网络层位于数据链路层与传输层之间，网络层包含了许多协议其中最为重要的就是 IP 协议，网络层提供了 IP 路由功能，理解 IP 路由除了要熟悉 IP 协议的工作机制外，还必须理解 IP 编址以及如何合理地使用 IP 地址来设计网络。</li>\n</ul>\n</div></details>\n<p class=\"red\">1，上层协议类型：</p>\n<div class=\"note info\">\n<p>如下如下</p>\n</div>\n<ul>\n<li>[1] 如图：</li>\n<li><img data-src=\"https://s3.ax1x.com/2021/03/08/61SXYF.png\" alt=\"图片\"></li>\n<li>++ 注：以太网帧中的 Type 字段值为 0x0800，表示该帧的网络层协议为 IP 协议。</li>\n<li>[2] 在剥掉帧的头部和尾部之前网络设备需要根据帧头中 Type 字段来确定下一步将帧发送到哪个上层协议进行处理。本列中的帧头部 Type 字段表示该帧需要上送到 IP 协议进行处理，以下将介绍帧的头部和尾部剥离之后，IP 协议将如何处理帧中的数据。</li>\n</ul>\n<p class=\"red\">2，IP 报文头部：</p>\n<div class=\"note info\">\n<p>如下如下</p>\n</div>\n<ul>\n<li>[1] 如图：</li>\n<li><img data-src=\"https://s3.ax1x.com/2021/03/08/619nCF.png\" alt=\"图片\"></li>\n<li>[2] IP 报文头部信息用于指导网络设备对报文进行路由和分片。同一个网段内的数据转发通过数据链路层即可实现，而跨网段的数据转发需要使用网络设备的路由功能。分片是指数据包超过一定长度时，需要被划分成不同的片段使其能够在网络中传输。</li>\n<li>[3] IP 报文头部长度为 20——60 字节，报文头部中的信息可以用来指导网络设备如何将报文从原设备发送到目的设备，其中，版本字段表示当前支持的 IP 协议版本，当前的版本号为 4。DS 字段早期用来表示业务类型，现在用于支持 QoS 中的差分服务模型，实现网络流量优化。</li>\n<li>[4] 源和目的 IP 地址是分配给自己的逻辑地址，用于在网络层标识报文的发送方和接收方，根据源和目的 IP 地址可以判断目的端是否与发送端位于同一网段，如果二者不在同一网段，则需要采用<ins class=\"wavy\">路由机制</ins>进行跨网段转发。</li>\n</ul>\n<p class=\"red\">3，IP 编址：</p>\n<div class=\"note info\">\n<p>如下如下</p>\n</div>\n<ul>\n<li>[1] 如图：</li>\n<li><img data-src=\"https://s3.ax1x.com/2021/03/08/61Pd0I.png\" alt=\"图片\"></li>\n<li><ins class=\"wavy\">注：IP 地址分为网络部分和主机部分</ins></li>\n<li><ins class=\"wavy\">注：IP 地址由 32 个二进制位组成，通常用点分十进制来表示</ins></li>\n</ul>\n<p class=\"red\">4，二进制，十进制，十六进制 ———— 略</p>\n<p class=\"red\">5，IP 地址分类：</p>\n<div class=\"note info\">\n<p>如下如下</p>\n</div>\n<ul>\n<li>[1] 如图：</li>\n<li><img data-src=\"https://s3.ax1x.com/2021/03/08/61iGEq.png\" alt=\"图片\"></li>\n<li>[2] IP 地址被划分为 A,B,C,D,E 五类，每类地址的网络号包含不同的字节数。A，B，C 类地址可以分配 IP 地址。每类地址支持的网络数和主机数不同，例如：A 类地址可支持 126 个网络每个网络支持 2*24 (16777216) 个主机地址，另外每个网段中的网络地址和广播地址不能分配给主机，C 类地址支持 200 多万个网络，每个网络支持 256 个主机地址，其中 254 个地址可以分配给主机使用。</li>\n<li>[3] D 类地址为组播地址，主机收到以 D 类地址为目的地址的报文后，且该主机是该组播组的成员，就会接收并处理该报文。</li>\n</ul>\n<p class=\"red\">6，IP 地址类型：</p>\n<div class=\"note info\">\n<p>如下如下</p>\n</div>\n<ul>\n<li>[1] 如图：</li>\n<li><img data-src=\"https://s3.ax1x.com/2021/03/08/61FzlD.png\" alt=\"图片\"></li>\n</ul>\n<h1 id=\"第五章arp协议\"><a class=\"anchor\" href=\"#第五章arp协议\">#</a> 第五章【ARP 协议】</h1>\n<h1 id=\"第六章传输层协议\"><a class=\"anchor\" href=\"#第六章传输层协议\">#</a> 第六章【传输层协议】</h1>\n<h1 id=\"第七章数据转发过程\"><a class=\"anchor\" href=\"#第七章数据转发过程\">#</a> 第七章【数据转发过程】</h1>\n<h1 id=\"第八章vrp基础\"><a class=\"anchor\" href=\"#第八章vrp基础\">#</a> 第八章【VRP 基础】</h1>\n<h1 id=\"第九章命令行基础\"><a class=\"anchor\" href=\"#第九章命令行基础\">#</a> 第九章【命令行基础】</h1>\n<h1 id=\"第十章文件系统基础\"><a class=\"anchor\" href=\"#第十章文件系统基础\">#</a> 第十章【文件系统基础】</h1>\n<h1 id=\"第十一章vrp系统管理\"><a class=\"anchor\" href=\"#第十一章vrp系统管理\">#</a> 第十一章【VRP 系统管理】</h1>\n<h1 id=\"第十二章交换网络基础\"><a class=\"anchor\" href=\"#第十二章交换网络基础\">#</a> 第十二章【交换网络基础】</h1>\n<h1 id=\"第十三章stp原理与配置\"><a class=\"anchor\" href=\"#第十三章stp原理与配置\">#</a> 第十三章【STP 原理与配置】</h1>\n<h1 id=\"第十四章rstp原理与配置\"><a class=\"anchor\" href=\"#第十四章rstp原理与配置\">#</a> 第十四章【RSTP 原理与配置】</h1>\n<h1 id=\"第十五章ip路由基础\"><a class=\"anchor\" href=\"#第十五章ip路由基础\">#</a> 第十五章【IP 路由基础】</h1>\n<h1 id=\"第十六章静态路由基础\"><a class=\"anchor\" href=\"#第十六章静态路由基础\">#</a> 第十六章【静态路由基础】</h1>\n<h1 id=\"第十七章链路状态路由协议ospf\"><a class=\"anchor\" href=\"#第十七章链路状态路由协议ospf\">#</a> 第十七章【链路状态路由协议 ——OSPF】</h1>\n<h1 id=\"第十八章dhcp原理与配置\"><a class=\"anchor\" href=\"#第十八章dhcp原理与配置\">#</a> 第十八章【DHCP 原理与配置】</h1>\n<h1 id=\"第十九章ftp原理与配置\"><a class=\"anchor\" href=\"#第十九章ftp原理与配置\">#</a> 第十九章【FTP 原理与配置】</h1>\n<h1 id=\"第二十章telnet原理与配置\"><a class=\"anchor\" href=\"#第二十章telnet原理与配置\">#</a> 第二十章【Telnet 原理与配置】</h1>\n",
            "tags": [
                "技术",
                "HUAWEI"
            ]
        },
        {
            "id": "https://2memos.xyz/2021/03/06/%E6%95%B0%E6%8D%AE%E9%80%9A%E4%BF%A1%E4%B8%8E%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/",
            "url": "https://2memos.xyz/2021/03/06/%E6%95%B0%E6%8D%AE%E9%80%9A%E4%BF%A1%E4%B8%8E%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/",
            "title": "数据通信与计算机网络",
            "date_published": "2021-03-06T15:39:28.474Z",
            "content_html": "<h1 id=\"第一章-概述\"><a class=\"anchor\" href=\"#第一章-概述\">#</a> 第一章 【概述】</h1>\n<h2 id=\"数据通信概述\"><a class=\"anchor\" href=\"#数据通信概述\">#</a> 数据通信概述</h2>\n<p class=\"red\">1，通信 (Communication)</p>\n<div class=\"note info\">\n<p>如下如下</p>\n</div>\n<details class=\"primary\"><summary>通信简介</summary><div>\n<ul>\n<li>[1] 通信是指人与人或人与自然之间，通过某种行为或媒体进行的信息交流与传递。不同的环境对通信有着不同的解释，在出现电波传递信息后，通信被单一解释为信息的传递，是指一地向另一地进行信息的传输与交换的过程。其目的是传递消息 (messgae) 中包含的信息 (Information)。</li>\n<li>[2] 通信传递的消息有多种形式，如，符号，文字，数据，语音，图形，图像等。他们大致可以归纳为两种类型：连续消息和离散消息。</li>\n<li>[3] 连续消息是指：消息的状态是随时间 l 连续变化的，如强弱变化的语音。</li>\n<li>[4] 离散消息是指：消息的状态是可数的或离散的，如，文字，符号和数据等。</li>\n<li>[5] 通常，我们把连续消息和离散消息分别称为模拟消息和数字消息。</li>\n<li>[6] 模拟信号：其信号的波形可以表示为时间的连续函数，通常，以模拟信号来传送消息的通信方式称为模拟通信，而传输模拟信号的通信系统称为模拟通信系统，</li>\n<li>[7] 数字信号：其特征是幅度不随时间连续变化，只能取有限个离散值。通常以两个离散值 (0,1) 来表示二进制数字信号。</li>\n<li><img data-src=\"https://s3.ax1x.com/2021/03/07/6K7OKJ.png\" alt=\"图片\"></li>\n<li>[8] 注意：模拟信号和数字信号虽然是两种不同形式的信号，但他们在传输过程中可以相互变换的，模拟信号可以采用模数转换技术变换为离散的数字信号，而数字信号可以通过数模转换技术变换为连续的模拟信号。</li>\n<li>[9] 与模拟通信相比，数字信号具有以下优点：抗干扰性强，保密性好，设备易于集成化和便于使用计算技术对其进行处理等。缺点是占用的信道频带比模拟通信宽的多，降低了信道的使用率。但随着信道技术的改善，这一问题将会得到解决。</li>\n<li>[10] 数据通信是通信技术和计算机技术相结合而产生的一种新的通信方式。从某种意义上来说，数据通信可看成是数字通信的案例，具有数字通信的一切优点，</li>\n<li>[11] 数据通信主要是 “人 (通过终端)—— 机 (计算机)” 通信或 “机 —— 机” 通信。它以数据传输为基础，包括数据传输和数据交换，以及在数据传输前后的数据处理过程。由于数据通信离不开计算机，因此人们常把数据通信与计算机通信这两个名词混用。</li>\n</ul>\n</div></details>\n<h2 id=\"数据通信系统\"><a class=\"anchor\" href=\"#数据通信系统\">#</a> 数据通信系统</h2>\n<p class=\"red\">1，数据通信系统的模型</p>\n<div class=\"note info\">\n<p>如下如下</p>\n</div>\n<ul>\n<li>下面以两台 PC 通过电话线，在经公用电话网进行通信的简单例子，来说明任何一个通信系统都可以用一个简单的通信模型来抽象地描述其内在含义。</li>\n<li><img data-src=\"https://s3.ax1x.com/2021/03/07/6KXUv8.png\" alt=\"图片\"></li>\n<li>该模型包括：源系统，传输系统和目的系统三个部分，有以下五个组成要素。</li>\n<li>[1] 源点：它是生成传输数据的设备，如，PC。</li>\n<li>[2] 发送器：通常，源点生成的数据要通过发送器编码后才能成为在传输系统中进行传输的电信号，如，调制解调器从相连的 PC 获得数字比特流，并变换成能在电话网上传输的模拟信号。</li>\n<li>[3] 传输系统：它是简单的传输线或复杂的网络系统。</li>\n<li>[4] 接收器：接收来自传输系统的信号并转换为终点能处理的信息，如，调制解调器接收来自传输系统的模拟信号，并将其转换成数字比特流。</li>\n<li>[5] 终点：它是获取来自接收器数据的设备。</li>\n</ul>\n<p class=\"red\">2，数据通信系统的组成</p>\n<div class=\"note info\">\n<p>如下如下</p>\n</div>\n<ul>\n<li>如前所述，数据通信主要是 “人 —— 机” 通信或 “机 —— 机” 通信，而，数据传输又是实现数据通信的基础。</li>\n<li>因此：凡是将终端设备与计算机经由模拟或数字传输系统连接起来，并以收集，传输，分配和处理数据为目的的系统都称为数据通信系统。它是实现数据通信的功能性物理实体。</li>\n</ul>\n<details class=\"primary\"><summary>具体组成</summary><div>\n<ul>\n<li>数据通信系统的具体组成可以从不同的角度给予不同的描述，从该系统设备级的构成，可认为数据通信系统由以下三个子系统组成。</li>\n</ul>\n<h1 id=\"第二章-数据通信基础知识\"><a class=\"anchor\" href=\"#第二章-数据通信基础知识\">#</a> 第二章 【数据通信基础知识】</h1>\n<h1 id=\"第三章-数据传输信道\"><a class=\"anchor\" href=\"#第三章-数据传输信道\">#</a> 第三章 【数据传输信道】</h1>\n<h1 id=\"第四章-数据传输技术\"><a class=\"anchor\" href=\"#第四章-数据传输技术\">#</a> 第四章 【数据传输技术】</h1>\n<h1 id=\"第五章-物理层\"><a class=\"anchor\" href=\"#第五章-物理层\">#</a> 第五章 【物理层】</h1>\n<h1 id=\"第六章-数据链路层\"><a class=\"anchor\" href=\"#第六章-数据链路层\">#</a> 第六章 【数据链路层】</h1>\n<h1 id=\"第七章-网络层\"><a class=\"anchor\" href=\"#第七章-网络层\">#</a> 第七章 【网络层】</h1>\n<h1 id=\"第八章-传输层\"><a class=\"anchor\" href=\"#第八章-传输层\">#</a> 第八章 【传输层】</h1>\n<h1 id=\"第九章-应用层\"><a class=\"anchor\" href=\"#第九章-应用层\">#</a> 第九章 【应用层】</h1>\n<h1 id=\"第十章-因特网的多媒体应用服务\"><a class=\"anchor\" href=\"#第十章-因特网的多媒体应用服务\">#</a> 第十章 【因特网的多媒体应用服务】</h1>\n<h1 id=\"第十一章-无线网络\"><a class=\"anchor\" href=\"#第十一章-无线网络\">#</a> 第十一章 【无线网络】</h1>\n<h1 id=\"第十二章-计算机网络的管理与安全\"><a class=\"anchor\" href=\"#第十二章-计算机网络的管理与安全\">#</a> 第十二章 【计算机网络的管理与安全】</h1>\n<h1 id=\"附录\"><a class=\"anchor\" href=\"#附录\">#</a> 附录</h1>\n</div></details>\n",
            "tags": [
                "技术",
                "数通"
            ]
        },
        {
            "id": "https://2memos.xyz/2021/01/21/%E6%96%B0%E5%8D%8E%E4%B8%89H3C%E5%88%B7%E9%A2%98/",
            "url": "https://2memos.xyz/2021/01/21/%E6%96%B0%E5%8D%8E%E4%B8%89H3C%E5%88%B7%E9%A2%98/",
            "title": "新华三H3C刷题",
            "date_published": "2021-01-21T13:04:39.266Z",
            "content_html": "<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><h1 id=\"写再前面\"><a class=\"anchor\" href=\"#写再前面\">#</a> 写再前面</h1>\n<div class=\"note warning\">\n<p>注意注意</p>\n</div>\n<ul>\n<li>这是不同的题库，所以没有顺序。</li>\n<li>可能会有重复的题或解析。</li>\n</ul>\n<h1 id=\"第一章\"><a class=\"anchor\" href=\"#第一章\">#</a> 第一章</h1>\n<p>1，AAA 作为一种网络安全管理机制，可以通过如下哪些协议来实现？（选择一项或多项）<br>\nA：TACACS+<br>\nB: 802.1X<br>\nC: RADIUS+<br>\nD: EAPOL<br>\n<span class=\"red\"> 答案：AC</span></p>\n<div class=\"note info\">\n<p>提示提示</p>\n</div>\n<ul>\n<li>AAA 包括三种功能：认证、授权、计费，常用 RADIUS 协议和 TACACS + 协议使用远程服务器，或交换机设备本身作为认证服务器.</li>\n</ul>\n<details class=\"primary\"><summary>AAA简介</summary><div>\n<ul>\n<li>\n<p>AAA 是认证（Authentication）、授权（Authorization）和计费（Accounting）的简称，是网络安全中进行访问控制的一种安全管理机制，提供认证、授权和计费三种安全服务。</p>\n</li>\n<li>\n<p>认证（Authentication）：是对用户的身份进行验证，判断其是否为合法用户。</p>\n</li>\n<li>\n<p>授权（Authorization）：是对通过认证的用户，授权其可以使用哪些服务。</p>\n</li>\n<li>\n<p>计费（Accounting）：是记录用户使用网络服务的资源情况，这些信息将作为计费的依据。</p>\n</li>\n<li>\n<p>AAA 一般采用 C/S（客户端 / 服务器）模式，这种模式结构简单、扩展性好，且便于集中管理用户信息，如图所示。</p>\n</li>\n<li>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/21/s47bT0.png\" alt=\"图片\"></p>\n</li>\n<li>\n<p>AAA 客户端运行于 NAS（Network Access Server，网络接入服务器）上，AAA 服务器用于集中管理用户信息。</p>\n</li>\n<li>\n<p>远程接入用户通过网络（如 ISDN、PSTN 等）与 NAS 建立连接，从而获得访问其它网络（如 Internet）的权利或取得网络资源。</p>\n</li>\n<li>\n<p>NAS 负责把用户的认证、授权、计费信息透传给 AAA 服务器。</p>\n</li>\n<li>\n<p>AAA 服务器负责接收用户的连接请求，并对用户身份进行验证，返回用户配置信息给 NAS。</p>\n</li>\n<li>\n<p>NAS 根据服务器的返回信息进行配置并告知用户结果。</p>\n</li>\n</ul>\n</div></details>\n<p>2，园区网中可以采取如下那些措施来保证网络或者设备的安全？<br>\nA：对于非法访问网络资源，可以部署 ACL 来进行访问控制<br>\n B: 在网络中的交换机上配置 BPDU 保护功能<br>\n C: 部署 IPSEC VPN 来构建专用网络<br>\n D：园区网络通过 NAT 转换访问 INTERNET<br>\n<span class=\"red\"> 答案：ABCD</span></p>\n<div class=\"note info\">\n<p>提示提示</p>\n</div>\n<details class=\"primary\"><summary>ACL简介</summary><div>\n<ul>\n<li>\n<p>访问控制列表 (ACL)：是一种基于包过滤的访问控制技术，它可以根据设定的条件对接口上的数据包进行过滤，允许其通过或丢弃。访问控制列表被广泛地应用于路由器和三层交换机，借助于访问控制列表，可以有效地控制用户对网络的访问，从而最大程度地保障网络安全。</p>\n</li>\n<li>\n<p>功能：限制网络流量、提高网络性能；通信流量的控制，在网络设备接口处，决定哪种类型的通信流量被转发、哪种类型的通信流量被阻塞。</p>\n</li>\n</ul>\n</div></details>\n<details class=\"primary\"><summary>BPDU简介</summary><div>\n<ul>\n<li>\n<p>网桥协议数据单元 (BPDU,Bridge Protocol Data Unit) 生成树协议是一种桥嵌套协议，在 IEEE 802.1d 规范里定义，可以用来消除桥回路。它的工作原理是这样的：生成树协议定义了一个数据包，叫做桥协议数据单元 BPDU。</p>\n</li>\n<li>\n<p>网桥用 BPDU 来相互通信，并用 BPDU 的相关机能来动态选择根桥和备份桥。但是因为从中心桥到任何网段只有一个路径存在，所以桥回路被消除。</p>\n</li>\n<li>\n<p>在一个生成树环境里，桥不会立即开始转发功能，它们必须首先选择一个桥为根桥，然后建立一个指定路径。在一个网络里边拥有最低桥 ID 的将变成一个根桥，全部的生成树网络里面只有一个根桥。</p>\n</li>\n<li>\n<p>功能：根桥的主要职责是定期发送配置信息，然后这种配置信息将会被所有的指定桥发送。这在生成树网络里面是一种机制，一旦网络结构发生变化，网络状态将会重新配置。</p>\n</li>\n</ul>\n</div></details>\n<details class=\"primary\"><summary>IPSEC VPN简介</summary><div>\n<ul>\n<li>\n<p>指采用 IPSec 协议来实现远程接入的一种 VPN 技术，IPSec 全称为 Internet Protocol Security，是由 Internet Engineering Task Force (IETF) 定义的安全标准框架，在公网上为两个私有网络提供安全通信通道，通过加密通道保证连接的安全 —— 在两个公共网关间提供私密数据封包服务</p>\n</li>\n<li>\n<p>IPSEC 是一套比较完整成体系的 VPN 技术，它规定了一系列的协议标准。</p>\n</li>\n<li>\n<p>相关协议：</p>\n</li>\n<li>\n<p>1，VPN 作为一项成熟的技术，广泛应用于组织总部和分支机构之间的组网互联，其利用组织已有的互联网出口，虚拟出一条 “专线”，将组织的分支机构和总部连接起来，组成一个大的局域网。</p>\n</li>\n<li>\n<p>2，VPN 用户访问内网资源还需为拨入到 UTM25 的用户分配一个虚拟的私有 IP，使 SSL VPN 客户端的用户可以像局域网用户一样能正常访问局域网内的资源。</p>\n</li>\n<li>\n<p>导入 IPsec 协议原因：</p>\n</li>\n<li>\n<p>1，原因有 2 个，一个是原来的 TCP/IP 体系中间，没有包括基于安全的设计，任何人，只要能够搭入线路，即可分析所有的通讯数据。IPSEC 引进了完整的安全机制，包括加密、认证和数据防篡改功能。</p>\n</li>\n<li>\n<p>2，IPSEC 协议通过包封装技术，能够利用 Internet 可路由的地址，封装内部网络的 IP 地址，实现异地网络的互通。</p>\n</li>\n</ul>\n</div></details>\n<p>3，SSH 协议作为一种安全的远程登录协议，被广泛应用，关于 SSH 的描述正确的是____<br>\nA：SSH 采用额外的加密技术确保登录安全性<br>\n B:SSH 采用 TCP 端口 22 传输数据，端口 23 建立连接<br>\n C：SSH 还可以为 FTP 提供安全的传输通道<br>\n D：SSH 即 Secure Shell，可以采用 DES 认证方式保证数据的安全性<br>\n<span class=\"red\">答案：ACD</span></p>\n<div class=\"note info\">\n<p>提示提示</p>\n</div>\n<details class=\"primary\"><summary>SSH简介</summary><div>\n<ul>\n<li>\n<p>SSH (Secure Shell) 是一种安全远程登录协议，SSH 协议基于 TCP 进行传输，端口是 22。</p>\n</li>\n<li>\n<p>通过使用 SSH 协议，远程登录访问的安全性得到了很大提升，此外，SSH 还提供 SFTP (SSH File Transfer Protocol)，对在公共的 Internet 上的数据传输进行了安全保护。</p>\n</li>\n<li>\n<p>SSH 协议的特点：</p>\n</li>\n<li>\n<p>1，支持 DES、3DES 数据加密算法</p>\n</li>\n<li>\n<p>2，支持公钥验证方式、密钥改变、不验证方式</p>\n</li>\n<li>\n<p>3，支持 RSA 认证，具有防篡改功能</p>\n</li>\n</ul>\n</div></details>\n<p>4，关于 POE 系统，说法正确的是_____________<br>\nA：POE 系统包含 PSE 设备和 PD 设备两部分，其中 PD 为供电设备，PSE 为受电设备<br>\n B：POE 通常采用 mid-span 和 end-span 两种供电方法<br>\n C：通常 PSE 可以支持 mid-span 和 end-span 两种方法，PD 只能支持一种<br>\n D：POE 电源提供的电压为 48V，输出功率通常不超过 13W<br>\n<span class=\"red\"> 答案：BD</span></p>\n<div class=\"note info\">\n<p>提示提示</p>\n</div>\n<details class=\"primary\"><summary>POE简介</summary><div>\n<ul>\n<li>\n<p>POE (Power Over Ethernet) 指的是在现有的以太网 Cat.5 布线基础架构不作任何改动的情况下，在为一些基于 IP 的终端（如 IP 电话机、无线局域网接入点 AP、网络摄像机等）传输数据信号的同时，还能为此类设备提供直流供电的技术。POE 技术能在确保现有结构化布线安全的同时保证现有网络的正常运作，最大限度地降低成本。</p>\n</li>\n<li>\n<p>POE 也被称为基于局域网的供电系统 (PoL, Power over LAN) 或有源以太网 (ActiveEthernet)，有时也被简称为以太网供电。</p>\n</li>\n<li></li>\n<li>\n<p>PSE 供电设备，PD 受电设备</p>\n</li>\n<li>\n<p>mid-span 和 end-span 的区别在于</p>\n</li>\n<li>\n<p>1，mid-span 是普通交换机（无内置 POE 模块），需要外接 POE 电源的方式。</p>\n</li>\n<li>\n<p>2，end-span 是具有 POE 功能的交换机供电模式。</p>\n</li>\n</ul>\n</div></details>\n<p>5，在 NTP 客户端 / 服务器模式中，有关配置验证的说法正确的有____<br>\nA：在使能验证的同时必须同时配置验证密钥和可信密钥，否则无法正常启动验证<br>\n B：应在客户端上将制定密钥玉服务器关联，才可以成功完成验证<br>\n C：客户端未使能验证，而服务器使能验证的情况下，客户端的时钟也能同步<br>\n D: 客户端和服务器端的验证必须保持一致，否则时钟同步失败<br>\n<span class=\"red\">答案：ABC</span></p>\n<div class=\"note info\">\n<p>提示提示</p>\n</div>\n<details class=\"primary\"><summary>NTP简介</summary><div>\n<ul>\n<li>\n<p>NTP 服务器【Network Time Protocol（NTP）】是用来使计算机时间同步化的一种协议，它可以使计算机对其服务器或时钟源（如石英钟，GPS 等等) 做同步化，它可以提供高精准度的时间校正（LAN 上与标准间差小于 1 毫秒，WAN 上几十毫秒），且可介由加密确认的方式来防止恶毒的协议攻击。时间按 NTP 服务器的等级传播。按照离外部 UTC 源的远近把所有服务器归入不同的 Stratum（层）中。</p>\n</li>\n<li>\n<p>NTP 验证功能可以分为客户端的 NTP 验证和服务器端的 NTP 验证两个部分。在应用 NTP 验证功能时，应注意以下原则：</p>\n</li>\n<li>\n<p>1、对于所有同步模式，如果使能了 NTP 验证功能，应同时配置验证密钥并将密钥设为可信密钥，否则，无法正常启动 NTP 验证功能。</p>\n</li>\n<li>\n<p>对于客户端 / 服务器模式和对等体模式，还应在客户端（对等体模式中的主动对等体）将指定密钥与对应的 NTP 服务器（对等体模式的被动对等体）关联；对于广播服务器模式和组播服务器模式，应在广播服务器或组播服务器上将指定密钥与对应的 NTP 服务器关联。否则，无法正常启动 NTP 验证功能。</p>\n</li>\n<li>\n<p>对于客户端 / 服务器同步模式，如果客户端没有成功启动 NTP 验证功能，不论服务器端是否使能 NTP 验证，客户端均可以与服务器同步；如果客户端上成功启用了 NTP 验证功能，则客户端只会同步到提供可信密钥的服务器，如果服务器提供的密钥不是可信的密钥，那么客户端不会与其同步。</p>\n</li>\n<li>\n<p>对于所有同步模式，服务器端的配置与客户端的配置应保持一致。</p>\n</li>\n</ul>\n</div></details>\n<p>6，路由器 IGMP 协议的版本可以在___视图中配置<br>\n A：用户视图<br>\n B：系统全局视图<br>\n C：IGMP 视图<br>\n D：接口视图<br>\n<span class=\"red\">答案：CD</span></p>\n<div class=\"note info\">\n<p>提示提示</p>\n</div>\n<details class=\"primary\"><summary>IGMP协议简介</summary><div>\n<ul>\n<li>\n<p>Internet 组管理协议称为 IGMP 协议（Internet Group Management Protocol），是因特网协议家族中的一个组播协议。该协议运行在主机和组播路由器之间。IGMP 协议共有三个版本，即 IGMPv1、v2 和 v3。</p>\n</li>\n<li>\n<p>IGMP（Internet Group Management Protocol）因特网组管理协议，是 TCP/IP 协议族中负责 IPv4 组播成员管理的协议，用来在 IP 主机和与其直接相邻的组播路由器之间建立、维护组播组成员关系。</p>\n</li>\n<li>\n<p>在配置路由器的 IGMP 具体参数之前，需要指定 IGMP 协议的版本，IGMP 的版本可以在 IGMP 视图配置也可以在接口视图配置。</p>\n</li>\n<li>\n<p>在 IGMP 视图配置全局 IGMP 版本的命令为：</p>\n</li>\n<li>\n<p>[H3C-igmp]version version-number</p>\n</li>\n<li>\n<p>在接口视图配置 IGMP 版本的命令为：</p>\n</li>\n<li>\n<p>[H3C-Vlan-interface100]igmp version version-number</p>\n</li>\n</ul>\n</div></details>\n<p>7，关于交换机的端口模式和 IP 电话语音流类型的配合关系，说法正确的有___<br>\nA: 如果 IP 电话语音流为 tagged 语音流，则交换机端口可以工作在自动和手动模式 B：如果 IP 电话语音流在 untagged 语音流，则交换机端口只能工作在手动模式<br>\n C：自动模式下，端口不能为 access 端口<br>\n D：手动模式下，端口只能为 trunk 端口<br>\n<span class=\"red\">答案：ABC</span></p>\n<div class=\"note info\">\n<p>提示提示</p>\n</div>\n<details class=\"primary\"><summary>端口模式和IP电话语音流类型的配合关系简介</summary><div>\n<ul>\n<li>端口模式与 IP 电话语音流类型配合关系：</li>\n<li>1，自动模式：</li>\n<li>(1) 如果是 tagged 语音流 ：</li>\n<li>access: 不支持，</li>\n<li>trunk: 支持，但接入端口的缺省 VLAN 必须存在且不能是 voice VLAN，同时接入端口允许缺省 VLAN 通过</li>\n<li>hybrid: 支持，但是接入端口的缺省 VLAN 必须存在且不能是 voice VLAN，同时缺省 VLAN 应在接入端口允许通过的 tagged VLAn 列表中。</li>\n<li>(2) 如果是 untagged 语音流：</li>\n<li>access、Trunk、hybrid: 不支持</li>\n<li>2，手动模式：</li>\n<li>(1) 如果是 tagged 语音流</li>\n<li>access；不支持</li>\n<li>trunk: 支持，但接入端口的缺省 VLAN 必须存在，且不能那个是 voice vlan，同时接入端口允许该缺省 VLAN 通过</li>\n<li>hybrid: 支持，但接入端口的缺省 VLAN 必须存在且不能是 voice vlan，同时 voice vlan 应在接入端口允许通过的 tagged vlan 列表中</li>\n<li>(2) 如果是 untagged 语音流</li>\n<li>access: 支持，但接入端口的缺省 VLAN 必须是 voice vlan</li>\n<li>trunk: 支持，但接入端口的缺省 VLAN 必须是 voice vlan，且接入端口允许 voice vlan 通过</li>\n<li>hybrid: 支持，但接入端口的缺省 VLAN 必须是 voice vlan, 且在接入端口允许通过 untagged vlan 列表中</li>\n</ul>\n</div></details>\n<p>8，下面说法正确的是__（选择一项或多项）<br>\nA.MSTP 和 RSTP 能够互相识别对方的协议报文，可以互相兼容<br>\n B. 在 STP 兼容模式下，设备的各个端口将向外发送 STP BPDU 报文<br>\n C. 在 RSTP 模式下，设备的各个端口将向外发送 RSTP BPDU 报文，当发现与 STP 设备相连时，该端口会自动迁移到 STP 兼容模式下工作<br>\n D. 在 MSTP 模式下，设备的各个端口将向外发送 MSTP BPDU 报文，当发现某端口与 STP 设备相连时，该端口会自动迁移到 STP 兼容模式下工作<br>\n<span class=\"red\">答案：BCD</span></p>\n<div class=\"note info\">\n<p>提示提示</p>\n</div>\n<details class=\"primary\"><summary>MSTP与RSTP，STP的简介</summary><div>\n<ul>\n<li>MSTP-RSTP-STP  这样的兼容顺序，不能从 STP 向 MSTP 兼容。</li>\n<li>MSTP 是多生成树协议，是在有多个 vlan 的情况下使用的一种生成树协议</li>\n<li>RSTP 是快速生成树协议，是从 STP 生成树协议简化升级而来，去掉了 2 种状态，从而提高计算时间。</li>\n</ul>\n</div></details>\n<details class=\"primary\"><summary>MSTP简介</summary><div>\n<ul>\n<li>\n<p>MSTP 是多生成树协议，允许一个交换环境中运行多个生成树，每个生成树称为一个实例，MSTP 将路由环路网络修剪成一个无环的树形网络，避免广播风暴的产生，同时还提供了数据转发的多个冗余路径，在数据转发过程中实现 VLAN 数据的负载均衡，MSTP 还兼容 STP 和 RSTP。</p>\n</li>\n<li>\n<p>MSTP 的基本原理：</p>\n</li>\n<li>\n<p>1，MSTP 的网络层次：</p>\n</li>\n<li>\n<p>一个二层交换网络可以划分多个 MST 域，每个生成树域可以划分多个 MSTI，每个实例中可以映射多个 VLAN</p>\n</li>\n<li>\n<p>2，MST 域：</p>\n</li>\n<li>\n<p>MST 域是多生成树域，由局域网中的多台交换机他们之间的网段构成一个局域网可以存在多个 MST 域，各 MST 域之间在物理上直接或间接相连。</p>\n</li>\n<li>\n<p>3，MSTI：</p>\n</li>\n<li>\n<p>一个 MSTI 域内可以运行多个 MSTI，MSTI 之间彼此独立，MSTI 可以与一个或者多个 VLAN 对应，但一个 VLAN 只能与一个 MSTI 对应。</p>\n</li>\n<li>\n<p>4，端口角色：</p>\n</li>\n<li>\n<p>MSTP 中的角色主要有根端口，指定端口，预备端口，备份端口和边缘端口，除边缘端口外其他端口角色都参与 MSTP 的计算过程。</p>\n</li>\n<li>\n<p>5，MSTP 的端口状态主要有三种：</p>\n</li>\n<li>\n<p>Forwarding：转发状态</p>\n</li>\n<li>\n<p>Learning：学习状态</p>\n</li>\n<li>\n<p>Discarding：阻塞状态</p>\n</li>\n</ul>\n</div></details>\n<details class=\"primary\"><summary>RSTP简介</summary><div>\n<ul>\n<li>\n<p>RSTP（rapid spanning Tree Protocol ），即快速生成树协议，这种协议在网络结构发生变化时，能更快的收敛网络。它比 802.1d 多了一种端口类型：备份端口（backup port）类型，用来做指定端口的备份。 STP（Spanning Tree Protocol ）是生成树协议的英文缩写。该协议可应用于环路网络，通过一定的算法实现路径冗余，同时将环路网络修剪成无环路的树型网络，从而避免报文在环路网络中的增生和无限循环。</p>\n</li>\n<li>\n<p>快速生成树协议（Rapid Spanning Tree Protocol ，RSTP） 用于在局域网中消除数据链路层物理环路，其核心是快速生成树算法。</p>\n</li>\n<li>\n<p>RSTP 完全向下兼容 STP 协议除了和传统的 STP 协议一样具有避免回路、动态管理冗余链路的功能外，RSTP 极大的缩短了拓扑收敛时间，在理想的网络拓扑规模下，所有交换设备均支持 RSTP 协议且配置得当时，拓扑发生变化（链路 UP/DOWN）后恢复稳定的时间可以控制在秒级，而传统的拓扑稳定且能正常工作所需时间为 50 秒。</p>\n</li>\n<li>\n<p>RSTP 的主要功能可以归纳如下：</p>\n</li>\n<li>\n<p>1、 发现并生成局域网的一个最佳树型拓扑结构；</p>\n</li>\n<li>\n<p>2、 发现拓扑故障并随之进行恢复，自动更新网络拓扑结构，启用备份链路，同时保持最佳树型结构；</p>\n</li>\n<li>\n<p>运行 RSTP 协议的网络交换设备通过对自身网桥信息和接收到的 BPDU 中来自其他网桥的信息进行比较，利用 RSTP 算法进行计算，更新系统状态机，选举端口角色并阻塞某些端口，将环形网络裁剪成树形网络，防止环形网络中的报文增生和无限循环产生的广播风暴，避免因此带来的报文处理能力下降问题的发生</p>\n</li>\n</ul>\n</div></details>\n<details class=\"primary\"><summary>STP简介</summary><div>\n<ul>\n<li>\n<p>STP（Spanning Tree Protocol）是生成树协议的英文缩写，可应用于计算机网络中树形拓扑结构建立，主要作用是防止网桥网络中的冗余链路形成环路工作。但某些特定因素会导致 STP 失败，要排除故障可能非常困难，这取决于网络设计 [1]  。生成树协议适合所有厂商的网络设备，在配置上和体现功能强度上有所差别，但是在原理和应用效果是一致的。</p>\n</li>\n<li>\n<p>STP 的基本原理是，通过在交换机之间传递一种特殊的协议报文，网桥协议数据单元（Bridge Protocol Data Unit，简称 BPDU），来确定网络的拓扑结构。BPDU 有两种，配置 BPDU（Configuration BPDU）和 TCN BPDU。前者是用于计算无环的生成树的，后者则是用于在二层网络拓扑发生变化时产生用来缩短 MAC 表项的刷新时间的（由默认的 300s 缩短为 15s）。</p>\n</li>\n<li>\n<p>Spanning Tree Protocol（STP）是在 IEEE 802.1D 文档中定义，该协议的原理是按照树的结构来构造网络拓扑，消除网络中的环路，避免由于环路的存在而造成广播风暴问题。</p>\n</li>\n</ul>\n</div></details>\n<p>9，以太网交换机的二层转发基本流程包括__<br>\nA. 根据接收到的以太网帧的源 MAC 地址和 VLAN ID 信息添加或刷新 MAC 地址表项；<br>\nB. 根据目的 MAC 地址查找 MAC 地址表如果没有找到匹配项，那么在报文对应的 VLAN 内广播；<br>\nC. 如果找到匹配项，但是表项对应的端口并不属于报文对应的 VLAN，那么丢弃该帧；<br>\nD. 如果找到匹配项，且表项对应的端口属于报文对应的 VLAN，那么将报文转发到该端口，但是如果表项对应端口与收到以太网帧的端口相同，则丢弃该帧。</p>\n",
            "tags": [
                "技术",
                "H3C"
            ]
        },
        {
            "id": "https://2memos.xyz/2021/01/18/Python%E7%88%AC%E8%99%AB%E5%85%A5%E9%97%A8%E5%88%B0%E9%AB%98%E7%BA%A7/",
            "url": "https://2memos.xyz/2021/01/18/Python%E7%88%AC%E8%99%AB%E5%85%A5%E9%97%A8%E5%88%B0%E9%AB%98%E7%BA%A7/",
            "title": "Python爬虫入门到高级",
            "date_published": "2021-01-18T11:36:46.777Z",
            "content_html": "<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><h1 id=\"第一章爬虫的概念\"><a class=\"anchor\" href=\"#第一章爬虫的概念\">#</a> 第一章【爬虫的概念】</h1>\n<p class=\"red\">1，什么是爬虫？</p>\n<div class=\"note info\">\n<p>提示提示</p>\n</div>\n<ul>\n<li>\n<p>1，程序员：写程序，然后去互联网上<em><strong>抓取数据</strong></em>的过程。</p>\n</li>\n<li>\n<p>2，互联网：庞大的网，有好多 a 链接组成的，网的节点就是一个 a 链接 ——&gt;URL (统一资源定位符)。</p>\n</li>\n</ul>\n<p class=\"red\">2，哪些语言可以实现爬虫？</p>\n<div class=\"note info\">\n<p>提示提示</p>\n</div>\n<ul>\n<li>\n<p>1，PHP：可以做，但对多进程，多线程支持的不好。</p>\n</li>\n<li>\n<p>2，JAVA：可以做，做的不错，最主要的竞争对手。但，代码臃肿，重构成本大。</p>\n</li>\n<li>\n<p>3，C，C++：可以做，但对个人能力要求高。</p>\n</li>\n<li>\n<p>4，Python：可以做，语法简单，代码优美，成本低，支持的模块多，强大的框架 Scrapy，最好的选择。</p>\n</li>\n</ul>\n<p class=\"red\">3，爬虫的两个概念</p>\n<div class=\"note info\">\n<p>通用爬虫</p>\n</div>\n<ul>\n<li>1，有：</li>\n<li>百度，360，谷歌，搜狐，Bing。</li>\n<li>2，原理：</li>\n<li>抓取网页</li>\n<li>采集数据</li>\n<li>数据处理</li>\n<li>提供检索服务</li>\n<li>3，通用爬虫如何抓取新网站？</li>\n<li>主动提交 URL</li>\n<li>设置友情链接</li>\n<li>百度会和 DNS 服务商合作，抓取新网站</li>\n<li>4，检索排名：</li>\n<li>竞价排名</li>\n<li>根据 pagerank 值，访问量，点击量 (SEO: 负责提升网站排名）</li>\n<li>5，robots.txt:</li>\n<li>限制哪些可以爬取，哪些不可以爬取，<span>是一个口头上的协议。自己写的爬虫程序不需要遵循。</span>{.red</li>\n</ul>\n<div class=\"note info\">\n<p>聚焦爬虫</p>\n</div>\n<ul>\n<li>1，简介：</li>\n<li>根据特定的需求，抓取指定的数据。</li>\n<li>2，思路：</li>\n<li>代替浏览器上网</li>\n<li>给一个 URL</li>\n<li>写程序，模拟浏览器访问 URL</li>\n<li>解析内容，提取数据</li>\n<li>3，网页的特点：</li>\n<li>网页都有自己唯一的 URL</li>\n<li>网页内容都是 HTML 结构</li>\n<li>使用的都是 http，https 协议</li>\n<li></li>\n</ul>\n",
            "tags": [
                "技术",
                "爬虫"
            ]
        },
        {
            "id": "https://2memos.xyz/2021/01/18/Python%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/",
            "url": "https://2memos.xyz/2021/01/18/Python%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/",
            "title": "Python高级编程",
            "date_published": "2021-01-18T11:34:34.882Z",
            "content_html": "",
            "tags": [
                "技术",
                "Python"
            ]
        },
        {
            "id": "https://2memos.xyz/2021/01/14/%E6%B7%B1%E4%BF%A1%E6%9C%8DSCSA/",
            "url": "https://2memos.xyz/2021/01/14/%E6%B7%B1%E4%BF%A1%E6%9C%8DSCSA/",
            "title": "深信服SCSA",
            "date_published": "2021-01-14T12:46:30.884Z",
            "content_html": "<h1 id=\"第一章信息安全概念\"><a class=\"anchor\" href=\"#第一章信息安全概念\">#</a> 第一章【信息安全概念】</h1>\n<h2 id=\"写在前面\"><a class=\"anchor\" href=\"#写在前面\">#</a> 写在前面</h2>\n<div class=\"note success\">\n<p>提示</p>\n</div>\n<ul>\n<li>第一章关于伦理基础，只是截屏概括。</li>\n</ul>\n<h2 id=\"安全概念与网络层攻击\"><a class=\"anchor\" href=\"#安全概念与网络层攻击\">#</a> <strong>安全概念与网络层攻击：</strong></h2>\n<p>1，信息安全：通过采用<em><strong>软硬件技术，网络技术，密钥技术</strong></em>等安全技术和各种组织管理措施，来保护信息在其生命周期内的产生，传输，交换，处理和存储的各个环节中，信息的<em><strong>机密性，完整性和可用性</strong></em>不被破环。</p>\n<p>2，信息安全四个阶段：<em><strong>1，通信保密阶段。2，计算机安全阶段。3，信息技术安全阶段。4，信息保障阶段。</strong></em></p>\n<p>3，信息安全五要素：<em><strong>保密性，完整性，可用性，可控性，不可否认性。</strong></em></p>\n<p>4，五要素具体介绍：<br>\n- 保密性：确保信息不暴露给未授权的实体或进程。目的：即使信息被窃听或者截获，攻击者也无法知晓信息的真实内容，可以对抗网络攻击中的被动攻击。通过加密技术保障信息的保密性。<br>\n- 完整性：只有得到允许的人才能修改实体或进程，并且能够判别出实体或进程是否以被修改。完整性鉴别机制，保障只有允许的人才能修改数据，可以防篡改。靠 HASH。<br>\n- 可用性：得到授权的实体可获得服务，用访问控制机制，阻止非授权用户进入网络，使静态・信息可见，动态信息可操作，防止业务突然中断。<br>\n- 可控性：对信息进行监视审查，实现对网络资源及信息的可控性。<br>\n- 不可否认性：对出现的安全问题提供调查的依据和手段，使用审计，监控，防抵赖等安全机制，实现信息安全法的可审查性。</p>\n<p class=\"red\">5，信息安全风险有：</p>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/15/s0UmD0.png\" alt=\"图片\"><br>\n<img data-src=\"https://s3.ax1x.com/2021/01/15/s0wkCD.png\" alt=\"图片\"></p>\n<p>6，网络安全：</p>\n<div class=\"note info\">\n<p>提示提示</p>\n</div>\n<ul>\n<li>计算机网络环境下的信息安全，指<span class=\"red\">网络系统的硬件，软件及其系统中的数据</span>受到保护，不因偶然的或者恶意的原因而遭到<span class=\"red\">破坏，更改，泄露，</span>系统连续可靠正常的运行，网络服务不中断。</li>\n</ul>\n<p class=\"red\">7，常见的网络安全风险：</p>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/15/s0woxH.png\" alt=\"图片\"></p>\n<p class=\"red\">8，常见的网络安全术语：</p>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/15/s00AoV.png\" alt=\"图片\"></p>\n<p class=\"red\">9，网络的基本攻击模式：</p>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/17/ssQqcq.png\" alt=\"图片\"></p>\n<p class=\"red\">10，网络的基本攻击模式有：</p>\n<div class=\"note info\">\n<p>提示提示</p>\n</div>\n<ul>\n<li>1，物理攻击</li>\n<li>2，流量型攻击</li>\n<li>3，单包攻击</li>\n</ul>\n<p class=\"red\">物理攻击：</p>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/17/ss1MoF.png\" alt=\"图片\"></p>\n<p class=\"red\">流量型攻击有：</p>\n<div class=\"note info\">\n<p>提示提示</p>\n</div>\n<ul>\n<li>(1)，网络层攻击，</li>\n<li>(2)，应用层攻击。</li>\n</ul>\n<p class=\"red\">流量攻击类型：</p>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/17/ss1yQI.png\" alt=\"图片\"></p>\n<p class=\"red\">单包攻击有：</p>\n<div class=\"note info\">\n<p>提示提示</p>\n</div>\n<ul>\n<li>(1)，畸形报文攻击，</li>\n<li>(2)，特殊报文攻击，</li>\n<li>(3)，扫描窥探攻击。</li>\n</ul>\n<p class=\"red\">单包攻击类型：</p>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/17/ss8lvR.png\" alt=\"图片\"></p>\n<p class=\"red\">单包攻击的种类：</p>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/17/ss8xMR.png\" alt=\"图片\"></p>\n<p class=\"red\">11，地址扫描攻击防范：</p>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/17/ssJKXR.png\" alt=\"图片\"></p>\n<p class=\"red\">12 端口扫描攻击防范：</p>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/17/ssJIEV.png\" alt=\"图片\"></p>\n<p class=\"red\">13，SMURF 攻击防范：</p>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/17/ssYp4O.png\" alt=\"图片\"></p>\n<p class=\"red\">14，LAND 攻击防范：</p>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/17/ssYlvj.png\" alt=\"图片\"></p>\n<p class=\"red\">15，Fraggle 攻击防范：</p>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/17/ssYfRe.png\" alt=\"图片\"></p>\n<p class=\"red\">16，IP Fragment (分片) 攻击防范：</p>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/17/sst1JO.png\" alt=\"图片\"></p>\n<div class=\"note info\">\n<p>提示提示</p>\n</div>\n<ul>\n<li class=\"red\">DF 位为 1 时，表示不能分片。</li>\n</ul>\n<p class=\"red\">17，IP Spoofing 攻击防范：</p>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/17/ssNsN6.png\" alt=\"图片\"></p>\n<p class=\"red\">18，Teardrop (泪滴) 攻击防范：</p>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/17/ssUOJK.png\" alt=\"图片\"></p>\n<p class=\"red\">19，WinNuke 攻击防范：</p>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/17/ssaYy4.png\" alt=\"图片\"></p>\n<div class=\"note info\">\n<p>提示提示</p>\n</div>\n<details class=\"primary\"><summary>参考信息</summary><div>\n<ul>\n<li>1，URG（紧急位）：设置为 1 时，首部中的紧急指针有效；为 0 时，紧急指针没有意义。</li>\n<li>2，PSH（推位）：当设置为 1 时，要求把数据尽快的交给应用层，不做处理。</li>\n<li>3，通常的数据中都会带有 PSH 但 URG 只在紧急数据的时设置，也称 “带外数据”，解释如下：</li>\n<li>URG 标志设置为 1 时，紧急指针才有效，紧急方式是向对方发送紧急数据的一种方式，表示数据要优先处理。</li>\n<li>URG=1，表示紧急指针指向包内数据段的某个字节（数据从第一字节到指针所指向字节就是紧急数据）不进入</li>\n<li>缓冲区（一般不都是待发送的数据要先进入发送缓存吗) 就直接交个上层进程，</li>\n<li>余下的数据都是要进入接收缓冲的；一般来说 TCP 是要等到整个缓存都填满了后在向上交付，</li>\n<li>但是如果 PSH=1 的话，就不用等到整个缓存都填满，直接交付，</li>\n<li>但是这里的交付仍然是从缓冲区交付的，URG 是不要经过缓冲区的。</li>\n</ul>\n</div></details>\n<p class=\"red\">20，超大 ICMP 报文攻击防范：</p>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/20/sRH7h4.png\" alt=\"图片\"></p>\n<p class=\"red\">21，ICMP 重定向与不可达攻击防范：</p>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/20/sRqeMR.png\" alt=\"图片\"></p>\n<div class=\"note info\">\n<p>提示提示</p>\n</div>\n<details class=\"primary\"><summary>参考信息</summary><div>\n<ul>\n<li>1，ICMP 重定向：如上图，攻击者 1.5，被攻击者 100.2。攻击者截获其他主机发往网关 1.1 的数据包，攻击者修改完之后，在转发到互联网上。互联网回包时再发给攻击者 1.5</li>\n<li>2，ICMP 不可达：如上图，攻击者，向其他主机发送目的主机不可达信息，告诉其他主机 100.2 不可达，这样其他主机不会给 100.2 发包。</li>\n</ul>\n</div></details>\n<p class=\"red\">简介：</p>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/20/sW3GyF.png\" alt=\"图片\"></p>\n<p class=\"red\">22，Tracert 报文攻击防范：</p>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/20/sW3HmQ.png\" alt=\"图片\"></p>\n<div class=\"note info\">\n<p>提示提示</p>\n</div>\n<details class=\"primary\"><summary>参考信息</summary><div>\n<ul>\n<li>\n<p>1，Tracert 工作原理：利用 ICMP 协议，Tracert 命令用 IP 生存时间 (TTL) 字段和 ICMP 错误消息来确定从一个主机到网络上其他主机的路由。首先，tracert 送出一个 TTL 是 1 的 IP 数据包到目的地，当路径上的第一个路由器收到这个数据包时，它将 TTL 减 1。此时，TTL 变为 0，所以该路由器会将此数据包丢掉，并送回一个「ICMP time exceeded」消息（包括发 IP 包的源地址，IP 包的所有内容及路由器的 IP 地址），</p>\n</li>\n<li>\n<p>tracert 收到这个消息后，便知道这个路由器存在于这个路径上，接着 tracert 再送出另一个 TTL 是 2 的数据包，发现第 2 个路由器…… tracert 每次将送出的数据包的 TTL 加 1 来发现另一个路由器，这个重复的动作一直持续到某个数据包 抵达目的地。当数据包到达目的地后，该主机则不会送回 ICMP time exceeded 消息，一旦到达目的地，由于 tracert 通过 UDP 数据包向不常见端口 (30000 以上) 发送数据包，因此会收到「ICMP port unreachable」消息，故可判断到达目的地。</p>\n</li>\n<li>\n<p>tracert 有一个固定的时间等待响应 (ICMP TTL 到期消息)。如果这个时间过了，它将打印出一系列的 * 号表明：在这个路径上，这个设备不能在给定的时间内发出 ICMP TTL 到期消息的响应。然后，Tracert 给 TTL 记数器加 1，继续进行。</p>\n</li>\n<li>\n<p>2，Traceruote 工作原理：利用 UDP 协议，通过 traceroute 我们可以知道信息从你的计算机到互联网另一端的主机是走的什么路径。当然每次数据包由某一同样的出发点（source）到达某一同样的目的地 (destination) 走的路径可能会不一样，但基本上来说大部分时候所走的路由是相同的。linux 系统中，我们称之为 traceroute, 在 MS Windows 中为 tracert。 traceroute 通过发送小的数据包到目的设备直到其返回，来测量其需要多长时间。</p>\n</li>\n<li>\n<p>一条路径上的每个设备 traceroute 要测 3 次。输出结果中包括每次测试的时间 (ms) 和设备的名称（如有的话）及其 IP 地址</p>\n</li>\n</ul>\n</div></details>\n<h2 id=\"应用层攻击防护\"><a class=\"anchor\" href=\"#应用层攻击防护\">#</a> <strong>应用层攻击防护：</strong></h2>\n<p class=\"red\">1，URPF 技术：</p>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/20/sWaJaD.png\" alt=\"图片\"></p>\n<div class=\"note info\">\n<p>提示提示</p>\n</div>\n<details class=\"primary\"><summary>参考信息</summary><div>\n<ul>\n<li>1，严格模式： 数据包必须和路由器的路由表中的出接口一一对应，1 号口进 1 号口出。</li>\n<li>2，松散模式：如果是默认路由，由于没有公网的路由表，主要匹配到默认路由 1 号口就行。</li>\n</ul>\n</div></details>\n<div class=\"note info\">\n<p>提示提示</p>\n</div>\n<details class=\"primary\"><summary>URPF简介</summary><div>\n<ul>\n<li>1，基本概念：</li>\n<li>通常情况下，网络中的路由器接收到报文后，获取报文的目的地址，针对目的地址查找路由，如果查找到则进行正常的转发，否则丢弃该报文。由此得知，路由器转发报文时，并不关心数据包的源地址，这就给源地址欺骗攻击有了可乘之机。</li>\n<li>源地址欺骗攻击就是入侵者通过构造一系列带有伪造源地址的报文，频繁访问目的地址所在设备或者主机，即使受害主机或网络的回应报文不能返回到入侵者，也会对被攻击对象造成一定程度的破坏。</li>\n<li>URPF 通过检查数据包中源 IP 地址，并根据接收到数据包的接口和路由表中是否存在源地址路由信息条目，来确定流量是否真实有效，并选择数据包是转发或丢弃。</li>\n<li>2，检查方式：</li>\n<li>uRPF 对报文源地址的合法性检查主要有两种：严格型（strict）和松散型（loose）。另外还支持忽略缺省路由的 uRPF 检查以及配置了 ACL 规则的 uRPF 检查。</li>\n<li>在接口上设置严格模式的 uRPF：路由器对从该接口进入的数据包源地址进行查询，如果报文的源地址在路由表中存在（为正常的源地址路由或者缺省路由），并且报文的入接口等于路由的出接口，则认为该报文合法，否则丢弃该报文。</li>\n<li>在接口上设置松散模式的 uRPF：路由器仅检查报文的源地址是否在路由表中存在（正常的源地址路由或者缺省路由），而不再检查报文的入接口与路由表是否匹配。这使得 uRPF 既可以有效地阻止网络攻击，又可以避免错误的拦截合法用户的报文。</li>\n<li>当路由器上配置了缺省路由后，会导致 uRPF 根据路由表检查源地址路由时，对查不到源地址路由的报文自动检查到缺省路由。针对这种情况，用户可以配置 uRPF 忽略缺省路由的检查。</li>\n<li>通过 ACL 规则的引入，uRPF 给用户提供了一种更加灵活的定制方案。配置了 ACL 后，在 uRPF 检查失败的情况下，路由器按照 ACL 规则 permit 或者 deny 报文进行操作。</li>\n<li>3，作用：</li>\n<li>通信网络中，诸如 DoS 攻击、TCP SYN 洪泛攻击、UDP 洪泛攻击和 ICMP 洪泛攻击等，都可能通过借助源地址欺骗的方式攻击目标设备或者主机，造成被攻击者系统性能严重的降低，甚至导致系统崩溃。uRPF 技术就是网络设备为了防范此类攻击而使用的一种常用技术。</li>\n</ul>\n</div></details>\n<p class=\"red\">2，链路层 ——MAC 泛洪攻击：</p>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/20/sWDiHP.png\" alt=\"图片\"></p>\n<p class=\"red\">3，DDOS 通用攻击防范技术：</p>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/20/sWss6H.png\" alt=\"图片\"></p>\n<p class=\"red\">还可以使用阻断和限流来防范：</p>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/20/sWsOA0.png\" alt=\"图片\"></p>\n<p class=\"red\">还可以使用过滤器来防范：</p>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/20/sWyKud.png\" alt=\"图片\"></p>\n<p class=\"red\">还可以使用黑白名单来防范：</p>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/20/sWygv4.png\" alt=\"图片\"></p>\n<p class=\"red\">4，SYN Flood 攻击防范：</p>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/20/sW6BsH.png\" alt=\"图片\"></p>\n<div class=\"note info\">\n<p>提示提示</p>\n</div>\n<ul>\n<li>预防：限制断开连接数。</li>\n</ul>\n<p class=\"red\">5，SYN-ACK Flood 攻击防范：</p>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/20/sWgiHs.png\" alt=\"图片\"></p>\n<p class=\"red\">6，ACK Flood 攻击防范：</p>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/20/sWcx9f.png\" alt=\"图片\"></p>\n<p class=\"red\">7，一个完整的网络攻击链：</p>\n<div class=\"note info\">\n<p>提示提示</p>\n</div>\n<ul>\n<li>情报收集 —— 工具准备 —— 载荷投递 —— 漏洞利用 —— 释放载荷 —— 建立通道 —— 目标达成。</li>\n</ul>\n<p class=\"red\">8，协议栈自身的脆弱性：</p>\n<div class=\"note info\">\n<p>提示提示</p>\n</div>\n<ul>\n<li>缺乏数据源验证机制</li>\n<li>缺乏机密性保障机制</li>\n<li>缺乏完整性验证机制</li>\n</ul>\n<p class=\"red\">9，DDOS 攻击风险防护方案：</p>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/23/sTcsoD.png\" alt=\"图片\"></p>\n<p class=\"red\">10，应用层 ——DNS 欺骗攻击：</p>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/23/sTcRSA.png\" alt=\"图片\"></p>\n<p class=\"red\">11，缓冲区溢出攻击：</p>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/23/sTc7Fg.png\" alt=\"图片\"></p>\n<p>防范：{.red}<br>\n<img data-src=\"https://s3.ax1x.com/2021/01/23/sTcOln.png\" alt=\"图片\"></p>\n<p class=\"red\">12，勒索病毒攻击链分析：</p>\n<div class=\"note info\">\n<p>提示提示</p>\n</div>\n<ul>\n<li>感染媒介：钓鱼软件，蠕虫病毒，恶意邮件。</li>\n<li>C&amp;C 通信：匿名通信，下载载荷，DGA 通信。</li>\n<li>文件加密：混合加密体系，弹出勒索对话框。</li>\n<li>横向移动：弱点横向探测，蠕虫式传播，MS17-010 永恒之蓝漏洞。</li>\n</ul>\n<p class=\"red\">13，勒索病毒特点：</p>\n<div class=\"note info\">\n<p>提示提示</p>\n</div>\n<ul>\n<li>针对攻击者：传播入口多，传播技术隐蔽，勒索产业化发展。</li>\n<li>针对受害者：安全状况看不清，安全设备防不住，问题处置不及时。</li>\n</ul>\n<p class=\"red\">14，终端安全防范措施：</p>\n<div class=\"note info\">\n<p>提示提示</p>\n</div>\n<ul>\n<li>不点击来历不明的邮件附件，不从不明的网站下载软件。</li>\n<li>及时给主机打补丁，修复相应的高危病毒。</li>\n<li>对重要的数据进行定期备份。</li>\n<li>关闭不必要的端口。</li>\n<li>RDP 远程服务器等连接尽量使用强密码。</li>\n<li>安装专业的防病毒软件，定期检查。</li>\n</ul>\n<h2 id=\"整体安全解决方案\"><a class=\"anchor\" href=\"#整体安全解决方案\">#</a> <strong>整体安全解决方案</strong></h2>\n<p class=\"red\">1，企业信息安全建设规划目标：</p>\n<div class=\"note info\">\n<p>提示提示</p>\n</div>\n<ul>\n<li>风险可视化</li>\n<li>防御主动化</li>\n<li>运行自动化</li>\n<li>安全智能化</li>\n</ul>\n<p class=\"red\">2，网络安全行业对风险的应对：</p>\n<div class=\"note info\">\n<p>提示提示</p>\n</div>\n<ul>\n<li>检测</li>\n<li>相应</li>\n<li>防御</li>\n</ul>\n<p class=\"red\">3，深信服 ARDRO 智安全架构：</p>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/23/sT28C4.png\" alt=\"图片\"></p>\n<p class=\"red\">4，企业级安全体系整体框架：</p>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/23/sT2UDx.png\" alt=\"图片\"></p>\n<p class=\"red\">5，安全产品矩阵及说明：</p>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/23/sT2y2d.png\" alt=\"图片\"></p>\n<p class=\"red\">6，网络安全 —— 设备规划：</p>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/23/sTRis1.png\" alt=\"图片\"></p>\n<p class=\"red\">7，网络安全 —— 减少内部风险：</p>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/23/sTRnRH.png\" alt=\"图片\"></p>\n<p class=\"red\">8，网络安全 —— 边界最佳实践：</p>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/23/sTRlLt.png\" alt=\"图片\"></p>\n<p class=\"red\">9，网络安全 —— 构建统一的安全接入平台：</p>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/23/sTRwyn.png\" alt=\"图片\"></p>\n<p class=\"red\">10，端点安全 —— 巩固最后一道防线：</p>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/23/sTRhO1.png\" alt=\"图片\"></p>\n<p class=\"red\">11，网络安全 —— 端到端的安全重构：</p>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/23/sTRX6A.png\" alt=\"图片\"></p>\n<p class=\"red\">12，网络安全 —— 构建安全大脑：</p>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/23/sTRxmt.png\" alt=\"图片\"></p>\n<p class=\"red\">13，网络安全拓扑参考：</p>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/23/sTW9k8.png\" alt=\"图片\"></p>\n<h1 id=\"第二章数据传输安全\"><a class=\"anchor\" href=\"#第二章数据传输安全\">#</a> 第二章【数据传输安全】</h1>\n<h2 id=\"vpn技术概念\"><a class=\"anchor\" href=\"#vpn技术概念\">#</a> <strong>VPN 技术概念：</strong></h2>\n<h3 class=\"blue\" id=\"vpn需求背景\"><a class=\"anchor\" href=\"#vpn需求背景\">#</a> VPN 需求背景</h3>\n<p class=\"red\">1，VPN 需求场景：</p>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/24/sHbi5j.png\" alt=\"图片\"></p>\n<p class=\"red\">2，需求背景：</p>\n<div class=\"note info\">\n<p>提示提示</p>\n</div>\n<ul>\n<li>[1] 企业，组织，商家等，对专用网有强大的需求。</li>\n<li>[2] 高性能，高速度和高安全性是专用网明显的优势。</li>\n<li>[3] 物理专用网价格昂贵，物理架构实施有难度，传统的通过租用专线或拨号网络的方式越来越不适用。(性价比较低)</li>\n<li>[4] TCP/IP 协议的本身的局限性，不能保障信息直接传输的保密性，存在许多固有的安全缺陷。</li>\n<li>[5] VPN = 对专用网的需求越来越高 + 物理专用网络架设难，性价比低。</li>\n</ul>\n<p class=\"red\">3，VPN 概述：</p>\n<div class=\"note info\">\n<p>提示提示</p>\n</div>\n<ul>\n<li>\n<p>[1] VPN (虚拟专用网)：指依靠 ISP 或其他 NSP 在公用网络基础设施之上构建专用的安全数据通信网络。只不过这个专线网络是逻辑上的而不是物理的。所以称为虚拟专用网。</p>\n</li>\n<li>\n<p>[2] 虚拟：用户不再需要拥有实际的长途数据线路，而是使用公共网络资源建立自己的私有网络。</p>\n</li>\n<li>\n<p>[3] 专用：用户可以定制最符合自身需求的网络。</p>\n</li>\n<li>\n<p>[4] 核心技术：隧道技术。</p>\n</li>\n</ul>\n<h3 class=\"blue\" id=\"vpn分类\"><a class=\"anchor\" href=\"#vpn分类\">#</a> VPN 分类</h3>\n<p class=\"red\">1，按业务型分类有：</p>\n<div class=\"note info\">\n<p>提示提示</p>\n</div>\n<ul>\n<li class=\"red\">\n<p>1，Client——LAN VPN(Access VPN)</p>\n</li>\n<li>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/25/sL2h9K.png\" alt=\"图片\"></p>\n</li>\n<li class=\"red\">\n<p>2，LAN——LAN VPN</p>\n</li>\n<li>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/25/sLRCHs.png\" alt=\"图片\"></p>\n</li>\n</ul>\n<p class=\"red\">2，按网络层次分类有：</p>\n<div class=\"note info\">\n<p>提示提示</p>\n</div>\n<ul>\n<li>[1] 应用层 ——SSL VPN 等</li>\n<li>[2] 传输层 ——Sangfor VPN</li>\n<li>[3] 网络层 ——IPSec，GRE 等</li>\n<li>[4] 物理接口层 ——L2F/L2TP，PPTP 等</li>\n</ul>\n<h3 class=\"blue\" id=\"vpn常用技术\"><a class=\"anchor\" href=\"#vpn常用技术\">#</a> VPN 常用技术</h3>\n<p class=\"red\">1，常用技术有：</p>\n<div class=\"note info\">\n<p>提示提示</p>\n</div>\n<ul>\n<li>[1] 隧道技术</li>\n<li>[2] 加解密技术</li>\n<li>[3] 身份认证技术</li>\n<li>[4] 数据认证技术</li>\n<li>[5] 密钥管理技术</li>\n</ul>\n<p class=\"red\">2，隧道技术详解：</p>\n<div class=\"note info\">\n<p>提示提示</p>\n</div>\n<ul>\n<li>\n<p>[1] 隧道：是在公共通信网络上构建的一条数据路径，可以提供与专用通信线路等同的连接特性。</p>\n</li>\n<li>\n<p>[2] 隧道技术：指在隧道的两端通过封装以及解封装技术在公网上建立的一条数据通道，使用这条通道对数据报文进行传输，隧道是由隧道协议构建形成的，<ins class=\"wavy\">隧道技术是 VPN 技术中最关键的技术。</ins></p>\n</li>\n<li>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/25/sLhwVJ.png\" alt=\"图片\"></p>\n</li>\n<li>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/25/sLhIPI.png\" alt=\"图片\"></p>\n</li>\n</ul>\n<p class=\"red\">3，加解密技术详解：</p>\n<div class=\"note info\">\n<p>提示提示</p>\n</div>\n<ul>\n<li>[1] 目的：即使信息被窃听或者截取，攻击者也无法知晓信息的真实内容。<ins class=\"wavy\">可以对抗网络攻击中的被动攻击。</ins></li>\n<li>[2] 通常使用<ins class=\"wavy\">加密机制</ins>来保护信息的<ins class=\"wavy\">保密性</ins>，防止信息泄露。<ins class=\"wavy\">信息的加密机制通常是建立在密码学的基础上。</ins></li>\n<li><img data-src=\"https://s3.ax1x.com/2021/01/25/sLICbF.png\" alt=\"图片\"></li>\n</ul>\n<p class=\"red\">4，密码学基础：</p>\n<div class=\"note info\">\n<p>提示提示</p>\n</div>\n<ul>\n<li>[1] 从明文到密文的过程，一般是通过加密算法加密进行的。</li>\n<li>[2] 从变明文到密文，称为脱密 (解密) 变换。</li>\n<li>[3] 主流的加密算法有：</li>\n<li>对称加密算法</li>\n<li>非对称加密算法 (公钥加密算法)</li>\n</ul>\n<p class=\"red\">5，对称加密算法详解：</p>\n<div class=\"note info\">\n<p>提示提示</p>\n</div>\n<ul>\n<li>\n<p>1, 对称加密过程：</p>\n</li>\n<li>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/25/sLoOlq.png\" alt=\"图片\"></p>\n</li>\n<li>\n<p>2，常见的对称加密算法有：</p>\n</li>\n<li>\n<p>[1] IDEA: 国际数据加密算法，使用 128 位密钥提供非常强的安全性。</p>\n</li>\n<li>\n<p>[2] DES/3DES 算法: DES 加密采用的是<ins class=\"wavy\">分组加密</ins>的方法，<ins class=\"wavy\">使用 56 位密钥加密 64 位明文，最后产生 64 位密文。</ins></p>\n</li>\n<li>\n<p>[3] RC 系列算法：包括<ins class=\"wavy\"> RC2，RC4，RC5，RC6 算法，</ins>其中<ins class=\"wavy\"> RC4 是序列密码算法，其他三种是分组序列算法。</ins></p>\n</li>\n<li>\n<p>[4] AES 算法: AES 为分组密码：<ins class=\"wavy\">分组密码也就是把明文分层一组一组的，每组长度相等，每次加密一组数据，直到加密完整个明文。高级加密标准，是下一代的加密算法标准，速度快，安全级别高，在 21 世纪 AES 标准的一个实现是 Rijndael 算法。</ins></p>\n</li>\n<li>\n<p>3，对称算法的缺陷：</p>\n</li>\n<li>\n<p>[1] 密钥传输风险</p>\n</li>\n<li>\n<p>[2] 密钥多，难管理。</p>\n</li>\n<li>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/25/sOipf1.png\" alt=\"图片\"></p>\n</li>\n</ul>\n<p class=\"red\">6，弥补对称加密的缺陷思路：</p>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/25/sOinfI.png\" alt=\"图片\"></p>\n<p class=\"red\">7，非对称加密算法详解：</p>\n<div class=\"note info\">\n<p>提示提示</p>\n</div>\n<ul>\n<li>\n<p>1，简介：</p>\n</li>\n<li>\n<p>加密和解密使用的是不同的密钥 (公钥，私钥)，<ins class=\"wavy\">两个密钥之间存在相互依存关系。(用其中任一个密钥加密的信息只能用另一个密钥进行解密：即用公钥加密，用私钥解密就可以得到明文。)</ins></p>\n</li>\n<li>\n<p>这使得通信双方<ins class=\"wavy\">无需事先交换密钥</ins>就可以进行保密通信。</p>\n</li>\n<li>\n<p>2，非对称加密过程：</p>\n</li>\n<li>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/25/sOF6r8.png\" alt=\"图片\"></p>\n</li>\n<li>\n<p>3，常见的非对称加密算法：</p>\n</li>\n<li>\n<p>[1] ECC: 椭圆曲线加密。</p>\n</li>\n<li>\n<p>[2] RSA: 是一个<ins class=\"wavy\">支持变长密钥的公共密钥算法，需要加密的文件块的长度也是可变的</ins>，非对称算法。</p>\n</li>\n<li>\n<p>[3] Rabin: 基于计算模合数平方根困难性问题的公钥密码算法。</p>\n</li>\n<li>\n<p>[4] Elgamal: 其基础是 Diffie—Hellman 密钥交换算法，后者使通信双方能通过公开通信来推导出只有他们知道的密钥。</p>\n</li>\n</ul>\n<p class=\"red\">8，对称加密 VS 非对称加密：</p>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/25/sOkweU.png\" alt=\"图片\"></p>\n<p class=\"red\">9，身份认证技术：</p>\n<div class=\"note info\">\n<p>提示提示</p>\n</div>\n<ul>\n<li>\n<p>1，简介：</p>\n</li>\n<li>\n<p>身份认证：<ins class=\"wavy\">通过标识和鉴别用户的身份</ins>，防止攻击者假冒合法用户来获取访问权限。</p>\n</li>\n<li>\n<p>身份认证技术：是在网络中确认操作者身份的过程而产生的有效解决方法。</p>\n</li>\n<li>\n<p>2，应用场景：</p>\n</li>\n<li>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/25/sOAwct.png\" alt=\"图片\"></p>\n</li>\n<li>\n<p>上图 Alice 生成数字签名过程：</p>\n</li>\n<li>\n<p>原始信息 + HASH 生成信息摘要。信息摘要 + Alice 的私钥签名 生成数字签名。</p>\n</li>\n<li>\n<p>复杂情况出现：</p>\n</li>\n<li>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/25/sOe9ET.png\" alt=\"图片\"></p>\n</li>\n<li>\n<p>Bob 无法确认公钥的真实性。</p>\n</li>\n<li>\n<p>3，解决方案：</p>\n</li>\n<li>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/25/sOmZWQ.png\" alt=\"图片\"></p>\n</li>\n<li>\n<p>BOb 使用 CA 的公钥解开数字证书，这样得到的 Alice 的公钥才是 Alice 的。</p>\n</li>\n<li>\n<p>4，PKI 体系 (CA)：</p>\n</li>\n<li>\n<p>[1] PKI (公开密钥体系) 是一种遵循标准的利用<ins class=\"wavy\">非对称加密</ins>技术为电子商务的开展提供一套安全基础平台的技术和防范。</p>\n</li>\n<li>\n<p>[2] 简单来说，<ins class=\"wavy\">PKI 就是利用公钥理论和技术建立的提供安全服务的基础设施，</ins>用户可以利用 PKI 平台提供的服务进行安全的电子交易，通信和互联网上的各种活动。</p>\n</li>\n<li>\n<p>[3] PKI 技术采用证书管理公钥，通过第三方的可信任机构 ——CA 认证中心，<ins class=\"wavy\">把用户的公钥和用户的其他标识信息捆绑在一起放在用户证书中</ins>，在互联网上验证用户的身份。</p>\n</li>\n<li>\n<p>[4] 目前，通用的办法是采用建立在 PKI 基础之上的数字证书，通过把要传输的数字信息进行加密何签名，保证信息传输的机密性，真实性，完整性和不可否认性，从而保证信息的安全传输。</p>\n</li>\n<li>\n<p>5，PKI 体系的组成：</p>\n</li>\n<li>\n<p>[1] PKI 是创建，颁发，管理，注销公钥证书所涉及到的所以软件，硬件的集合体。其核心元素是<ins class=\"wavy\">数字证书</ins>，核心执行者是<ins> CA 认证机构</ins> {}。</p>\n</li>\n<li>\n<p><img data-src=\"https://s3.ax1x.com/2021/03/06/6uVlKs.png\" alt=\"tp\"></p>\n</li>\n<li>\n<p>6，CA 中心：</p>\n</li>\n<li>\n<p>[1] 简介：</p>\n</li>\n<li>\n<p>证书授权中心或称证书授权机构，作为电子商务交易中受信用的第三方。</p>\n</li>\n<li>\n<p><img data-src=\"https://s3.ax1x.com/2021/03/06/6uVRRe.png\" alt=\"图片\"></p>\n</li>\n<li>\n<p>[2] 作用：</p>\n</li>\n<li>\n<p>颁发证书，规定证书的有效期和通过发布证书废除列表 (CRL) 确保必要时可以废除证书，以及对证书和密钥进行管理。</p>\n</li>\n<li>\n<p>CA 中心为每个使用公开密钥的用户发放一个数字证书，数字证书的作用是证明证书中列出的用户合法拥有证书中列出的公钥。</p>\n</li>\n<li>\n<p>CA 中心的数字签名使得攻击者不能伪造和篡改证书</p>\n</li>\n<li>\n<p>7，数字证书认证技术原理：</p>\n</li>\n<li>\n<p>[1] 数字证书：</p>\n</li>\n<li>\n<p>一个经证书授权中心数字签名的包含公开密钥拥有者信息和公开密钥的文件。</p>\n</li>\n<li>\n<p><img data-src=\"https://s3.ax1x.com/2021/03/06/6uZndx.png\" alt=\"图片\"></p>\n</li>\n<li>\n<p>[2] 数字证书是一般包含：</p>\n</li>\n<li>\n<p>用户身份信息。</p>\n</li>\n<li>\n<p>用户公钥信息</p>\n</li>\n<li>\n<p>身份验证机构数字签名的数据</p>\n</li>\n<li>\n<p>[3] 从证书的用途来看，数字证书可分为签名证书和加密证书。</p>\n</li>\n<li>\n<p>签名证书：</p>\n</li>\n<li>\n<p>主要用于对用户信息进行签名，以保证信息的真实性和不可否认性。</p>\n</li>\n<li>\n<p>加密证书：</p>\n</li>\n<li>\n<p>主要用于对用户传送的信息进行加密，以保证信息的机密性和完整性。</p>\n</li>\n<li>\n<p>8，常见的证书类型：</p>\n</li>\n<li>\n<p>数字证书</p>\n</li>\n<li>\n<p>根证书</p>\n</li>\n<li>\n<p>用户证书</p>\n</li>\n<li>\n<p>设备证书</p>\n</li>\n<li>\n<p>9，数据传输安全案例：</p>\n</li>\n<li>\n<p><img data-src=\"https://s3.ax1x.com/2021/03/06/6uefHI.png\" alt=\"图片\"></p>\n</li>\n<li>\n<p>10，数字证书实列 ——HTTPS 协议：</p>\n</li>\n<li>\n<p>[1] HTTP 是常用的 eb 协议，用来交互网页数据。</p>\n</li>\n<li>\n<p>[2] 由于 HTTP 是不加密的，在公网上明文传输，缺少保密性。所以出现安全加密的 HTTP 协议 ————HTTPS 协议。</p>\n</li>\n<li>\n<p>[3] HTTPS 是在 SSL 协议的基础上的 HTTP 协议。</p>\n</li>\n<li>\n<p>[4] SSL 协议的握手过程需要传输服务器的证书，并验证证书的可靠性。</p>\n</li>\n<li>\n<p>11，证书的请求和发送：</p>\n</li>\n<li>\n<p><img data-src=\"https://s3.ax1x.com/2021/03/06/6ulJaj.png\" alt=\"图片\"></p>\n</li>\n</ul>\n<h2 id=\"ipsec协议详解\"><a class=\"anchor\" href=\"#ipsec协议详解\">#</a> <strong>IPSec 协议详解：</strong></h2>\n<h3 class=\"blue\" id=\"ipsec协议族安全框架\"><a class=\"anchor\" href=\"#ipsec协议族安全框架\">#</a> IPSEC 协议族安全框架</h3>\n<p class=\"red\">1，需求背景：</p>\n<ul>\n<li>[1] 对保密性的需求越来越高。</li>\n<li>[2] GRE，L2TP 等 VPN 技术不支持保密性的要求。</li>\n<li class=\"red\">[3] 所以产生了 IPSEC 技术。<br>\n2，IPSec VPN 简介：</li>\n<li>[1] IPSec (Internet Protocol Security): 是一组基于<ins class=\"wavy\">网络层</ins>的，应用密码学的安全通信协议族，<ins class=\"wavy\">IPSec 不是具体指哪一个协议，而是一个开放的协议族。</ins></li>\n<li>[2] IPSec 协议的设计目标：是在 IPV4 和 IPV6 环境中为网络层流量提供灵活的安全服务。</li>\n<li>[3] IPSec VPN：是基于 IPSec 协议族构建的在 IP 层实现的安全虚拟专用网，通过在数据包中插入一个预定义头部的方式，来保障 OSI 上层协议数据的安全，主要用于保护 TCP，UDP，ICMP 和隧道的 IP 数据包。<br>\n3，IPSec 提供的安全服务：{.red</li>\n<li>[1] 机密性</li>\n<li>[2] 完整性</li>\n<li>[3] 数据源鉴别</li>\n<li>[4] 重传攻击保护</li>\n<li>[5] 不可否认性</li>\n<li class=\"red\">[6] 访问控制，有限的流量保密等其他安全服务。<br>\n4，IPSec 协议族安全体系框架：</li>\n<li><img data-src=\"https://s3.ax1x.com/2021/03/06/6uGuTg.png\" alt=\"图片\"></li>\n</ul>\n<p class=\"red\">5，IPSec 协议族：</p>\n<ul>\n<li>[1] 两种工作模式：</li>\n<li>传输模式 (transport)</li>\n<li>隧道模式 (Tunnel)</li>\n<li>[2] 两个通信保护协议：</li>\n<li>鉴别头 (AH)</li>\n<li>封装安全载荷 (ESP)</li>\n<li>[3] 密钥交换管理协议：</li>\n<li>阶段一 (两种基本模式)：主模式，野蛮模式</li>\n<li>阶段二：快速模式 (Quick mode)</li>\n<li>[4] 两个数据库：</li>\n<li>安全策略数据库 SPD</li>\n<li>安全关联数据库 SAD</li>\n<li>[5] 解释域 DOI</li>\n</ul>\n<h3 class=\"blue\" id=\"ipsec工作模式\"><a class=\"anchor\" href=\"#ipsec工作模式\">#</a> IPSEC 工作模式：</h3>\n<p class=\"red\">1，传输模式 (Transport mode)：</p>\n<ul>\n<li>[1] 应用场景：</li>\n<li>经常用于主机和主机之间端到端通信的数据保护。</li>\n<li>[2] 封装方式：</li>\n<li>不改变原有的 IP 包头，在数据包头后面插入 IPsec 包头，将原来的数据封装成被保护的数据。</li>\n<li><img data-src=\"https://s3.ax1x.com/2021/03/06/6utG6I.png\" alt=\"图片\"></li>\n</ul>\n<p class=\"red\">2，隧道模式 (Tunnel mode)：</p>\n<ul>\n<li>[1] 应用场景：</li>\n<li>经常用于私网与私网之间通过公网进行通信，建立安全 VPN 通道。</li>\n<li>[2] 封装方式：</li>\n<li>增加新的 IP (外网 IP) 头，其后是 IPSec 包头，之后再将原来的整个数据包封装。</li>\n<li><img data-src=\"https://s3.ax1x.com/2021/03/06/6utz3d.png\" alt=\"图片\"></li>\n</ul>\n<h3 class=\"blue\" id=\"ipsec通信协议\"><a class=\"anchor\" href=\"#ipsec通信协议\">#</a> IPSEC 通信协议：</h3>\n<p class=\"red\">1，AH 协议：</p>\n<ul>\n<li>[1] 通信保护协议 AH-AH (Authentication Header，认证报头)。</li>\n<li>[2] AH 提供的安全服务有：</li>\n<li>无连接数据完整性 ———— 通过哈希函数 (如 MD5，SHA1) 产生的校验来保证。</li>\n<li>数据源认证 ———— 通过在计算验证码时加入一个共享密钥来实现。</li>\n<li>抗重放服务 ————AH 报头中的序列号可以防止重放攻击。</li>\n<li>[3] AH 不提供任何保密性服务，它不加密所保护的数据包。</li>\n<li>[4]<ins class=\"wavy\"> 无论是传输模式还是隧道模式下，AH 提供对数据包的保护时，它保护的是整个 IP 数据包 (易变的字段除外，如 IP 头中的 TTL 和 TOS 字段)。</ins></li>\n<li>[5] AH 头：</li>\n<li><img data-src=\"https://s3.ax1x.com/2021/03/06/6uU6oT.png\" alt=\"图片\"></li>\n<li>[6] AH 在传输模式下封装：</li>\n<li><img data-src=\"https://s3.ax1x.com/2021/03/06/6uaU76.png\" alt=\"图片\"></li>\n<li>[7] AH 在隧道模式下封装：</li>\n<li><img data-src=\"https://s3.ax1x.com/2021/03/06/6uacnI.png\" alt=\"图片\"></li>\n</ul>\n<p class=\"red\">2，ESP 协议：</p>\n<ul>\n<li>[1] ESP (Encapsulating Security Payload, 封装安全有效载荷)。</li>\n<li>[2] ESP 提供的安全服务有：</li>\n<li>无连接数据完整性 ———— 通过哈希函数 (如 MD5，SHA1) 产生的校验来保证。</li>\n<li>数据源认证 ———— 通过在计算验证码时加入一个共享密钥来实现。</li>\n<li>抗重放服务 ————AH 报头中的序列号可以防止重放攻击。</li>\n<li>数据保密</li>\n<li>有限的数据流保护</li>\n<li>[3] 保密服务通过使用密码算法加密 IP 数据包的相关部分来实现。</li>\n<li>[4] 数据流保密由隧道模式下的保密服务提供。</li>\n<li>[5] ESP 通常使用 DES，3DES，AES 等加密算法实现数据加密，使用 MD5 或 SHA1 来实现数据完整性认证。</li>\n<li>[6] ESP 头：</li>\n<li><img data-src=\"https://s3.ax1x.com/2021/03/06/6udLMd.png\" alt=\"图片\"></li>\n<li>[7] ESP 在传输模式下封装：</li>\n<li><img data-src=\"https://s3.ax1x.com/2021/03/06/6uw9JS.png\" alt=\"图片\"></li>\n<li>[8] ESP 在隧道模式下封装：</li>\n<li><img data-src=\"https://s3.ax1x.com/2021/03/06/6uwFMj.png\" alt=\"图片\"></li>\n</ul>\n<p class=\"red\">3，AH 与 ESP 对比：</p>\n<ul>\n<li><img data-src=\"https://s3.ax1x.com/2021/03/06/6uwKWF.png\" alt=\"图片\"></li>\n</ul>\n<h3 class=\"blue\" id=\"ipsec建立阶段\"><a class=\"anchor\" href=\"#ipsec建立阶段\">#</a> IPSEC 建立阶段：</h3>\n<p class=\"red\">1，IKE (Internet Key Exchange) 协商阶段：</p>\n<ul>\n<li>\n<p>[1] 安全联盟 SA：</p>\n</li>\n<li>\n<p>是通信对等体间对某些要素的约定，通信的双方符合 SA 约定的内容，就可以建立 SA。</p>\n</li>\n<li>\n<p>[2] SA 由三元组来唯一标识，包括：</p>\n</li>\n<li>\n<p>安全参数索引，目的 IP 地址，安全协议号。</p>\n</li>\n<li>\n<p>[3] IKE 的产生背景：</p>\n</li>\n<li>\n<p>用 IPSec 保护一个 IP 包之前，必须先建立安全联盟 SA</p>\n</li>\n<li>\n<p>IPSec 的安全联盟可以通过手工配置的方式建立，但是当网络中节点较多时，手工配置将非常困难，而且难以保证安全性，这时就可以使用 IKE 自动进行安全联盟建立与密钥交换的过程，Internet 密钥交换 (IKE) 就用于动态建立 SA，代表 IPsec 对 SA 进行协商。</p>\n</li>\n<li>\n<p>[4] IKE 的用途：</p>\n</li>\n<li>\n<p>IKE 为 IPSEC 协商生成密钥，供 AH/ESP 加解密和验证使用。</p>\n</li>\n<li>\n<p>在 IPSEC 通信双方之间，动态地建立安全关联 (SA), 对 SA 进行管理和维护。</p>\n</li>\n<li>\n<p>[5] IKE 的工作过程：</p>\n</li>\n<li>\n<p>IKE 经过两个阶段为 IPSEc 进行密钥协商并建立安全联盟。</p>\n</li>\n<li>\n<p><ins class=\"dot\">第一阶段交换：</ins></p>\n</li>\n<li>\n<p>通信各方彼此间建立了一个已通过身份验证和安全保护的通道，此阶段的交换建立了一个 ISAKMP 安全联盟，即 ISAKMP SA (也可称为 IKE SA)。第一阶段有两种协商模式：<ins class=\"wavy\">主模式协商与野蛮模式协商。</ins></p>\n</li>\n<li>\n<p><ins class=\"dot\">第二阶段交换：</ins></p>\n</li>\n<li>\n<p>用已经建立的安全联盟 (IKE SA) 为 IPSec 协商安全服务，即为 IPSec 协商具体的安全联盟，建立 IPSec SA，产生真正可以用来加密数据流的密钥，IPSec SA 用于最终的 IP 数据安全传送。</p>\n</li>\n<li>\n<p>[6] IKE 阶段一：</p>\n</li>\n<li>\n<p><ins class=\"dot\">主模式：</ins></p>\n</li>\n<li>\n<p>默认使用 IP 地址作为身份标识，默认是传递自己的出口地址做身份标识，校验对端的公网 IP 做对端身份识别。(自动生成双方的身份 ID)</p>\n</li>\n<li>\n<p><ins class=\"dot\">野蛮模式：</ins></p>\n</li>\n<li>\n<p>可以使用用户名或 IP 等作为双方身份识别，即可手动配置身份 ID。</p>\n</li>\n<li>\n<p><img data-src=\"https://s3.ax1x.com/2021/03/09/616Jw8.png\" alt=\"图片\"></p>\n</li>\n<li>\n<p>[7] IKE 阶段一协商过程：</p>\n</li>\n<li>\n<p>如图：</p>\n</li>\n<li>\n<p><img data-src=\"https://s3.ax1x.com/2021/03/09/616aWj.png\" alt=\"图片\"></p>\n</li>\n<li>\n<p>[8] IKE 阶段一：主模式协商：</p>\n</li>\n<li>\n<p>如图：</p>\n</li>\n<li>\n<p><img data-src=\"https://s3.ax1x.com/2021/03/09/61cogs.png\" alt=\"图片\"></p>\n</li>\n<li>\n<p>[9] IKE 阶段一：主模式交互过程：</p>\n</li>\n<li>\n<p>主模式下 IKEv1 采用三个步骤 6 条 ISAKMP 建立 IKE SA。下面是主动发起 IKE 协商为例的整个构成。</p>\n</li>\n<li>\n<p><img data-src=\"https://s3.ax1x.com/2021/03/09/61cTvn.png\" alt=\"如图\"></p>\n</li>\n<li>\n<p>[10] 野蛮模式 IKE 交互过程：</p>\n</li>\n<li>\n<p><ins class=\"wavy\">野蛮模式下有三个交互包：</ins></p>\n</li>\n<li>\n<p>1) 第一个交互包发起方建议 SA，发起 DH 交换</p>\n</li>\n<li>\n<p>2) 第二个交互包接收方接受 SA</p>\n</li>\n<li>\n<p>3) 第三个交互包发起方认证接收方</p>\n</li>\n<li>\n<p>++ 注：野蛮模式交互过程少，所以在传输过程中，其传输的数据比较多，并且，前两个数据为明文传输，仅消息三为加密传输。</p>\n</li>\n<li>\n<p>[11] 野蛮模式 IKE 交互过程：</p>\n</li>\n<li>\n<p><img data-src=\"https://s3.ax1x.com/2021/03/09/61gNxs.png\" alt=\"图片\"></p>\n</li>\n<li>\n<p>[12] IKE 阶段一两张模式对比：</p>\n</li>\n<li>\n<p><img data-src=\"https://s3.ax1x.com/2021/03/09/61gfqx.png\" alt=\"图片\"></p>\n</li>\n<li>\n<p>[13] IKE 阶段二协商过程：</p>\n</li>\n<li>\n<p><img data-src=\"https://s3.ax1x.com/2021/03/09/63V0o9.png\" alt=\"图片\"></p>\n</li>\n<li>\n<p>[14] 标准 IPsec VPN 建立过程：</p>\n</li>\n<li>\n<p>IKE 阶段 2</p>\n</li>\n<li>\n<p>双方协商 IPSec 安全参数，称为变换集 transform set，包括：</p>\n</li>\n<li>\n<p>加密算法</p>\n</li>\n<li>\n<p>Hash 算法</p>\n</li>\n<li>\n<p>安全协议</p>\n</li>\n<li>\n<p>封装模式</p>\n</li>\n<li>\n<p>存活时间</p>\n</li>\n<li>\n<p>[15] 标准 IPSEc 第二阶段：</p>\n</li>\n<li>\n<p>ISAKMP/IKE 阶段只有一种消息交换模式 - 快速模式，它定义了受保护数据链接是如何在两个 IPSE 对等体之间构成的。</p>\n</li>\n<li>\n<p>深信服的标准 IPSECyo 有几对的 chu 出站如站，在 DLANyu 运行状态里面 jiu 就会显示几条链接，<ins class=\"wavy\">每一对快快速模式交互的包都是三个，第一个包由主链接发起方发起响应.</ins></p>\n</li>\n<li>\n<p><ins class=\"dot\">快速模式有两个主要的功能：</ins></p>\n</li>\n<li>\n<p>1）协商安全参数来保护数据连接。</p>\n</li>\n<li>\n<p>2）周期性的对数据连接更新密钥信息。第二阶段的效果为协商出 IPsec 单项 SA，为保护 IPSec 数据流而创建，第二阶段整个协商过程受第一阶段 ISAKMP/IKE SA 保护。</p>\n</li>\n<li>\n<p><ins class=\"wavy\">注：第二阶段数据都经过了加密，在公网抓取的数据如下：</ins></p>\n</li>\n<li>\n<p><img data-src=\"https://s3.ax1x.com/2021/03/09/63VtMT.png\" alt=\"图片\"></p>\n</li>\n</ul>\n<p class=\"red\">2，数据传输阶段：</p>\n<div class=\"note info\">\n<p>如下如下</p>\n</div>\n<ul>\n<li>[1] 数据传输阶段是通过 AH 或者 ESP 通信协议进行数据的传输。</li>\n<li>[2] 数据传输建立在网络层</li>\n<li>[3] VPN 黑洞的产生：</li>\n<li>可能情况：</li>\n<li>1）对端的 VPN 连接已经断开而我方还处在 SA 的有效生存时间内，从而形成了 VPN 隧道的黑洞。</li>\n<li>2）我方不停地发送加密后的 VPN 数据过去，但对方拒绝接受。</li>\n<li>[4] DPD 解决 VPN 隧道黑洞：</li>\n<li><ins class=\"wavy\">DPD：死亡对等体检测 (Dead Peer Detevtion), 检测对端的 ISAKMP SA 是否存在，当 VPN 隧道异常的时候，能检测到并重新发送协商，来维持 VPN 隧道。</ins></li>\n<li><ins class=\"wavy\">DPD 主要是为了防止标准 IPSEC 出现 “隧道黑洞”。</ins></li>\n<li><ins wavy>DPD 只对第一阶段生效，如果第一阶段本身已经超时断开，则不会再发 DPD 包。</ins></li>\n<li>[5] DPD 概述：</li>\n<li>1）DPD 包并不是连续发送，而是采用空闲计时器机制。</li>\n<li>2）每接收到一个 IPSec 加密的包后就重置这个包对应 IKE SA 的空闲计时器。</li>\n<li>3）如果空闲定时器计时开始到计时结束 m'y 没有接受到该 SA 对应的加密包，那么下一次有 IP 包要被这个 SA 加密发送或接收到加密包之前就需要使用 DPD 来检测对方是否存活。</li>\n<li>4）DPD 检测主要考超时计时器，超时计时器用于判断是否再次发起请求，默认是发出 5 次请求 (请求 -》超时 -》请求 -》超时 -》请求 -》超时) 都没有收到如何 DPD 应答就会删除 SA。</li>\n</ul>\n<h2 id=\"ipsec-vpn解决方案\"><a class=\"anchor\" href=\"#ipsec-vpn解决方案\">#</a> <strong>IPSec VPN 解决方案：</strong></h2>\n<h3 id=\"ipsec-vpn网关部署场景\"><a class=\"anchor\" href=\"#ipsec-vpn网关部署场景\">#</a> IPSEC VPN 网关部署场景</h3>\n<p class=\"red\">1，网关部署场景：</p>\n<div class=\"note info\">\n<p>如下如下</p>\n</div>\n<ul>\n<li>[1] 如图：</li>\n<li><img data-src=\"https://s3.ax1x.com/2021/03/09/63Mq9H.png\" alt=\"图片\"></li>\n<li>[2] 企业的分支与总部都安放了 VPN 设备，分支机构希望通过 VPN 同步企业总部的研发资源。</li>\n<li>[3] 研发资源属于商业机密，必须要在公网上能够安全保密传输。</li>\n<li><ins class=\"wavy\">解决方案：可以直接用 IPSec VPN 的隧道工作模式进行传输，使用 IPSEc VPN 的 ESP 通信协议来保障数据传输的保密性。</ins></li>\n<li>[4] 具体过程如下：</li>\n<li><img data-src=\"https://s3.ax1x.com/2021/03/09/63lofe.png\" alt=\"图片\"></li>\n<li><img data-src=\"https://s3.ax1x.com/2021/03/09/63lX0P.png\" alt=\"图片\"></li>\n<li><img data-src=\"https://s3.ax1x.com/2021/03/09/63ljTf.png\" alt=\"图片\"></li>\n</ul>\n<p class=\"red\">2，NAT 下的 VPN 部署场景：</p>\n<div class=\"note info\">\n<p>如下如下</p>\n</div>\n<ul>\n<li>[1] 如图：</li>\n<li><img data-src=\"https://s3.ax1x.com/2021/03/09/631QXR.png\" alt=\"图片\"></li>\n<li>[2] 企业为了内部局域网安全考虑，在网络出口安放了防火墙，要求内网所有设备通过防火墙代理上网 (NAT:Network Addess Translation)</li>\n</ul>\n<p class=\"red\">3，SANGFOR IPsec VPN 协商：</p>\n<div class=\"note info\">\n<p>如下如下</p>\n</div>\n<ul>\n<li>[1] 如图：</li>\n<li><img data-src=\"https://s3.ax1x.com/2021/03/09/68GHYV.png\" alt=\"图片\"></li>\n</ul>\n<p class=\"red\">4，IKE 协商总结：</p>\n<div class=\"note info\">\n<p>如下如下</p>\n</div>\n<ul>\n<li>[1] SANGFOR 的 IPSEC VPN 主模式身份 ID 是默认配置的，不能修改，在 NAT 环境下会出现上述协商问题，所以只能选用野蛮模式。</li>\n<li>[2] 其他厂商的 IPSEC 主模式身份 ID 如果可以自由配置，在 NAT 环境下则可以协商成功。</li>\n<li>[3] IKE 第一阶段的身份识别：</li>\n<li>IPV4_ADDR,FQDN,USER_FQDN 只是三种不同类型的身份认证方式，可以理解为 SANGFOR 设备中 VPN 的用户名，主要用来确认对端身份。</li>\n<li><img data-src=\"https://s3.ax1x.com/2021/03/09/68tX6S.png\" alt=\"图片\"></li>\n<li>[4] 协商建立 VPN 隧道：</li>\n<li><img data-src=\"https://s3.ax1x.com/2021/03/09/68Nm79.png\" alt=\"图片\"></li>\n<li><img data-src=\"https://s3.ax1x.com/2021/03/09/68wIi9.png\" alt=\"图片\"></li>\n<li><img data-src=\"https://s3.ax1x.com/2021/03/09/680SJA.png\" alt=\"图片\"></li>\n<li>[5] NAT 下的数据传输可行性：</li>\n<li>1) AH 传输模式：</li>\n<li><img data-src=\"https://s3.ax1x.com/2021/03/09/680Go4.png\" alt=\"图片\"></li>\n<li>2) ESP 传输模式：</li>\n<li><img data-src=\"https://s3.ax1x.com/2021/03/09/68BW4J.png\" alt=\"图片\"></li>\n<li><img data-src=\"https://s3.ax1x.com/2021/03/09/68DBIe.png\" alt=\"图片\"></li>\n<li>[6] TCP/UDP 伪首部校验机制：</li>\n<li>1) 伪首部是为了增加校验和的检错能力。</li>\n<li>2) 伪首部校验 12 个字节的内容，如下：</li>\n<li><img data-src=\"https://s3.ax1x.com/2021/03/09/68BEX6.png\" alt=\"图片\"></li>\n<li>[7] NAT 下的数据传输总结：</li>\n<li><img data-src=\"https://s3.ax1x.com/2021/03/09/68rPQ1.png\" alt=\"图片\"></li>\n</ul>\n<h2 id=\"sangfor-vpn解决方案\"><a class=\"anchor\" href=\"#sangfor-vpn解决方案\">#</a> <strong>SANGFOR VPN 解决方案：</strong></h2>\n<h1 id=\"第三章上网行为安全\"><a class=\"anchor\" href=\"#第三章上网行为安全\">#</a> 第三章【上网行为安全】</h1>\n<h2 id=\"ac概念与部署\"><a class=\"anchor\" href=\"#ac概念与部署\">#</a> <strong>AC 概念与部署：</strong></h2>\n<p>1，什么是上网行为管理？对那些行为管控，为什么要管控？</p>\n<div class=\"note info\">\n<p>提示提示</p>\n</div>\n<ul>\n<li>前提：身份认证。</li>\n<li>1，访问网站：hhttp/https</li>\n<li>2，应用管控</li>\n<li>3，流量管控：流控，以色列 allot，SCE。</li>\n<li>4，行为审计：</li>\n<li>AC —— 全网行为管理。</li>\n</ul>\n<ul>\n<li>\n<p><strong>用户认证技术：</strong></p>\n</li>\n<li>\n<p><strong>应用控制技术：</strong></p>\n</li>\n<li>\n<p><strong>终端与流量管理：</strong></p>\n</li>\n<li>\n<p><strong>审计与 BA 部署：</strong></p>\n</li>\n<li>\n<p><strong>全网行为管理：</strong></p>\n</li>\n<li>\n<p><strong>AC 知识串讲：</strong></p>\n</li>\n</ul>\n<h1 id=\"第四章网络边界安全\"><a class=\"anchor\" href=\"#第四章网络边界安全\">#</a> 第四章【网络边界安全】</h1>\n<h2 id=\"ngaf概述与组网方案\"><a class=\"anchor\" href=\"#ngaf概述与组网方案\">#</a> <strong>NGAF 概述与组网方案：</strong></h2>\n<h3 class=\"blue\" id=\"ngaf概念\"><a class=\"anchor\" href=\"#ngaf概念\">#</a> NGAF 概念</h3>\n<p class=\"red\">1，什么是防火墙？</p>\n<div class=\"note info\">\n<p>提示提示</p>\n</div>\n<ul>\n<li>企业内网隔离</li>\n<li>数据中心隔离</li>\n<li>互联网边界防护</li>\n<li>企业分支互联</li>\n<li><img data-src=\"https://s3.ax1x.com/2021/01/27/svyOmQ.png\" alt=\"图片\"></li>\n</ul>\n<p class=\"red\">2，防火墙分类：</p>\n<div class=\"note info\">\n<p>提示提示</p>\n</div>\n<ul>\n<li>\n<p>1，按物理特性划分：</p>\n</li>\n<li>\n<p>软件防火墙</p>\n</li>\n<li>\n<p>硬件防火墙</p>\n</li>\n<li>\n<p>2，按性能分：</p>\n</li>\n<li>\n<p>百兆级防火墙</p>\n</li>\n<li>\n<p>千兆级防火墙</p>\n</li>\n<li>\n<p>。。。。</p>\n</li>\n<li>\n<p>3，按防火墙结构分：</p>\n</li>\n<li>\n<p>单一主机防火墙</p>\n</li>\n<li>\n<p>路由集成防火墙</p>\n</li>\n<li>\n<p>分布式防火墙</p>\n</li>\n<li>\n<p>。。。。</p>\n</li>\n<li>\n<p>4，按防火墙技术分：</p>\n</li>\n<li>\n<p>包过滤防火墙</p>\n</li>\n<li>\n<p>应用代理防火墙</p>\n</li>\n<li>\n<p>状态检测防火墙</p>\n</li>\n<li>\n<p>。。。。</p>\n</li>\n</ul>\n<p class=\"red\">3，防火墙的功能：</p>\n<div class=\"note info\">\n<p>提示提示</p>\n</div>\n<ul>\n<li>1，访问控制。</li>\n<li>2，地址转换</li>\n<li>3，网络环境支持。</li>\n<li>4，带宽管理功能。</li>\n<li>5，入侵检测和攻击防御。</li>\n<li>6，用户认证。</li>\n<li>7，高可用性。</li>\n</ul>\n<p class=\"red\">4，防火墙安全策略：</p>\n<div class=\"note info\">\n<p>提示提示</p>\n</div>\n<ul>\n<li>\n<p>1，定义：</p>\n</li>\n<li>\n<p><ins class=\"wavy\">安全策略是按一定规则，控制设备对流量转发以及对流量进行内容安全一体化检测的策略。</ins></p>\n</li>\n<li>\n<p><ins class=\"wavy\">规则的本质是包过滤。</ins></p>\n</li>\n<li>\n<p>2，主要应用：</p>\n</li>\n<li>\n<p>对跨防火墙的网络互访进行控制。</p>\n</li>\n<li>\n<p>对设备本身的访问进行控制。</p>\n</li>\n<li>\n<p>3，作用：</p>\n</li>\n<li>\n<p><ins class=\"wavy\">根据定义的规则对经过防火墙的流量进行过滤筛选，在进行下一步操作。</ins></p>\n</li>\n</ul>\n<p class=\"red\">5，防火墙安全策略的原理：</p>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/27/svcVKS.png\" alt=\"图片\"></p>\n<p class=\"red\">6，安全策略分类：</p>\n<div class=\"note info\">\n<p>如下</p>\n</div>\n<ul>\n<li>域间安全策略</li>\n<li>域内安全策略</li>\n<li>接口包过滤</li>\n</ul>\n<p class=\"red\">7，防火墙的发展进程：</p>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/27/svcNVJ.png\" alt=\"图片\"></p>\n<p class=\"red\">8，传统防火墙 (包过滤防火墙)—— 一个严格的规则表：</p>\n<div class=\"note info\">\n<p>简介</p>\n</div>\n<ul>\n<li>\n<p>1，判断信息：</p>\n</li>\n<li>\n<p>数据包的源 IP 地址，目的 IP 地址，源端口，目的端口，协议类型。(五元组)</p>\n</li>\n<li>\n<p>2，工作范围：</p>\n</li>\n<li>\n<p>网络层，传输层。</p>\n</li>\n<li>\n<p>3，和路由器的区别：</p>\n</li>\n<li>\n<p>普通的路由器只检查数据包的目的地址，并选择一个到达目的地址的最佳路径。防火墙除了要解决目的路径以外还需要根据已经设置的规则进行判断 “是与否”。</p>\n</li>\n<li>\n<p>4，技术应用：</p>\n</li>\n<li>\n<p>包过滤技术。</p>\n</li>\n<li>\n<p>5，优势：</p>\n</li>\n<li>\n<p>对于小型站点容易实现，处理速度快，价格便宜。</p>\n</li>\n<li>\n<p>6，劣势：</p>\n</li>\n<li>\n<p>规则表很快变得复杂，难运维，只能基于五元组。</p>\n</li>\n</ul>\n<p class=\"red\">9，传统防火墙 (应用代理防火墙)—— 每个应用添加代理：</p>\n<div class=\"note info\">\n<p>简介</p>\n</div>\n<ul>\n<li>\n<p>1，判断信息：</p>\n</li>\n<li>\n<p>所有应用层的数据包。</p>\n</li>\n<li>\n<p>2，工作范围：</p>\n</li>\n<li>\n<p>应用层。</p>\n</li>\n<li>\n<p>3，和包过滤防火墙的区别：</p>\n</li>\n<li>\n<p>包过滤防火墙工作基于 3-4 层，通过检验报头进行规则表匹配。应用代理防火墙工作在 7 层，检查所有的应用层数据包，每个应用需要添加对应的代理服务。</p>\n</li>\n<li>\n<p>4，技术应用：</p>\n</li>\n<li>\n<p>应用代理技术。</p>\n</li>\n<li>\n<p>5，优势：</p>\n</li>\n<li>\n<p>检查了应用层的数据。</p>\n</li>\n<li>\n<p>6，劣势：</p>\n</li>\n<li>\n<p>检查效率低，配置运维难度极高，可伸缩性差。</p>\n</li>\n</ul>\n<p class=\"red\">10，传统防火墙 (状态检测防火墙)—— 首次检查建立会话表：</p>\n<div class=\"note info\">\n<p>简介</p>\n</div>\n<ul>\n<li>\n<p>1，判断信息：</p>\n</li>\n<li>\n<p>IP 地址，端口号，TCP 标记。</p>\n</li>\n<li>\n<p>2，工作范围：</p>\n</li>\n<li>\n<p>数据链路层，网络层，传输层。</p>\n</li>\n<li>\n<p>3，和包过滤防火墙的区别：</p>\n</li>\n<li>\n<p>包过滤防火墙工作在 3-4 层，通过检查报头进行规则表匹配。<ins class=\"wavy\">是包过滤防火墙的升级版，一次检查建立会话表，后期直接按会话表放行。</ins></p>\n</li>\n<li>\n<p>4，技术应用：</p>\n</li>\n<li>\n<p>状态检测技术。</p>\n</li>\n<li>\n<p>5，优势</p>\n</li>\n<li>\n<p>主要检查 3-4 层，能够保障效率，对 TCP 防御较好。</p>\n</li>\n<li>\n<p>6，劣势：</p>\n</li>\n<li>\n<p>应用层控制较弱，不检查数据区。</p>\n</li>\n</ul>\n<p class=\"red\">11，入侵检测系统 (IDS)—— 网络摄像头：</p>\n<div class=\"note info\">\n<p>简介</p>\n</div>\n<ul>\n<li>\n<p>1，部署方式：</p>\n</li>\n<li>\n<p>旁路部署，可多点部署。</p>\n</li>\n<li>\n<p>2，工作范围：</p>\n</li>\n<li>\n<p>2-7 层。</p>\n</li>\n<li>\n<p>3，工作特点：</p>\n</li>\n<li>\n<p>根据部署位置监控到的流量进行攻击事件监控，<ins class=\"wavy\">属于一个事后呈现的系统，</ins>相当于网络上的摄像头。</p>\n</li>\n<li>\n<p>4，目的：</p>\n</li>\n<li>\n<p>传统防火墙只能基于规则执行 &quot;是&quot; 与 &quot;否&quot; 的策略，IDS 主要为了管理员清晰地了解到网络环境中发生了什么事情。</p>\n</li>\n<li>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/27/svgUOS.png\" alt=\"图片\"></p>\n</li>\n</ul>\n<p class=\"red\">12，入侵防御系统 (IPS)—— 抵御 2-7 层已知威胁：</p>\n<div class=\"note info\">\n<p>简介</p>\n</div>\n<ul>\n<li>\n<p>1，部署方式：</p>\n</li>\n<li>\n<p>串联部署。</p>\n</li>\n<li>\n<p>2，工作范围：</p>\n</li>\n<li>\n<p>2-7 层。</p>\n</li>\n<li>\n<p>3，工作特点：</p>\n</li>\n<li>\n<p>根据已知的安全威胁生成对应的过滤器 (规则)，对于识别为流量的阻断，对于未识别的放通。</p>\n</li>\n<li>\n<p>4，目的：</p>\n</li>\n<li>\n<p><ins class=\"wavy\">IDS 只能对网络环境进行检测，但却无法进行防御，IPS 主要是针对已知的威胁进行防御。</ins></p>\n</li>\n<li>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/27/sv2ets.png\" alt=\"图片\"></p>\n</li>\n</ul>\n<p class=\"red\">13，防病毒网关 (AV)—— 基于网络侧识别病毒文件：</p>\n<div class=\"note info\">\n<p>简介</p>\n</div>\n<ul>\n<li>\n<p>1，判断信息：</p>\n</li>\n<li>\n<p>数据包</p>\n</li>\n<li>\n<p>2，工作范围：</p>\n</li>\n<li>\n<p>2-7 层</p>\n</li>\n<li>\n<p>3，目的：</p>\n</li>\n<li>\n<p>防止病毒文件通过外网络进入到内网环境。</p>\n</li>\n<li>\n<p>和防火墙区别：</p>\n</li>\n<li>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/27/sxI2Af.png\" alt=\"图片\"></p>\n</li>\n</ul>\n<p class=\"red\">14，Web 应用防火墙 (WAF)—— 专门用来保护 web 应用：</p>\n<div class=\"note info\">\n<p>简介</p>\n</div>\n<ul>\n<li>\n<p>1，判断信息：</p>\n</li>\n<li>\n<p>http 协议数据的<ins class=\"wavy\"> request 和 response。</ins></p>\n</li>\n<li>\n<p>2，工作范围：</p>\n</li>\n<li>\n<p>应用层。</p>\n</li>\n<li>\n<p>3，目的：</p>\n</li>\n<li>\n<p>防止基于应用层的攻击・影响 Web 应用系统。</p>\n</li>\n<li>\n<p>4，主要技术原理：</p>\n</li>\n<li>\n<p>(1) 代理服务：会话双向代理，用户与服务器不产生直接连接，对于 DDOS 攻击可以抑制。</p>\n</li>\n<li>\n<p>(2) 特征识别：通过正则表达式的特征库进行特征识别。</p>\n</li>\n<li>\n<p>(3) 算法识别：针对攻击方式进行模糊化识别，如 SQL 注入，DDOS，XSS 等。</p>\n</li>\n<li>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/27/sxT5mn.png\" alt=\"图片\"></p>\n</li>\n</ul>\n<p class=\"red\">15，统一威胁管理 (UTM)—— 多合一安全网关：</p>\n<div class=\"note info\">\n<p>简介</p>\n</div>\n<ul>\n<li>\n<p>1，包含功能：</p>\n</li>\n<li>\n<p>FW，IDS，IPS，AV。</p>\n</li>\n<li>\n<p>2，工作范围：</p>\n</li>\n<li>\n<p>2-7 层，(但不具备 Web 应用防控能力)</p>\n</li>\n<li>\n<p>3，目的：</p>\n</li>\n<li>\n<p>将多种安全问题通过一台设备解决。</p>\n</li>\n<li>\n<p>4，优点：</p>\n</li>\n<li>\n<p>功能多合一，有效降低了硬件成本，人力成本，时间成本。</p>\n</li>\n<li>\n<p>5，缺点：</p>\n</li>\n<li>\n<p>模块串联检测效率低，性能消耗大。</p>\n</li>\n<li>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/27/sx7rjJ.png\" alt=\"图片\"></p>\n</li>\n</ul>\n<p class=\"red\">16，下一代防火墙 (NGFW)—— 升级版的 UTM：</p>\n<div class=\"note info\">\n<p>简介</p>\n</div>\n<ul>\n<li>\n<p>1，包含功能：</p>\n</li>\n<li>\n<p>FW，IDS，IPS，AV，WAF。</p>\n</li>\n<li>\n<p>2，工作范围：</p>\n</li>\n<li>\n<p>2-7 层。</p>\n</li>\n<li>\n<p>3，和 UTM 的区别：</p>\n</li>\n<li>\n<p>与 UTM 相比增加的 Web 应用防控功能。</p>\n</li>\n<li>\n<p>UTM 是串行处理机制，NGFW 是并行处理机制。</p>\n</li>\n<li>\n<p>NGFW 性能更强，管理更高效。</p>\n</li>\n</ul>\n<p class=\"red\">17，防火墙的性能指标：</p>\n<div class=\"note info\">\n<p>简介</p>\n</div>\n<ul>\n<li>\n<p>1，性能指标 1—— 吞吐量：</p>\n</li>\n<li>\n<p>吞吐量：防火墙能同时处理的最大数据量。</p>\n</li>\n<li>\n<p>有效吞吐量：除掉 TCP 因为丢包和超时重发的数据，实际的每秒传输有效速率。</p>\n</li>\n<li>\n<p>衡量标准：吞吐量越大，性能越高。</p>\n</li>\n<li>\n<p>2，性能指标 2—— 时延：</p>\n</li>\n<li>\n<p>定义：数据包的第一个比特进入防火墙到最后一个比特传出防火墙的时间间隔指标。</p>\n</li>\n<li>\n<p>用于测量防火墙处理数据的速度理想情况，测试的是其存储转发的性能。</p>\n</li>\n<li>\n<p>衡量标准：时延越小，性能越高。</p>\n</li>\n<li>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/27/sxjZ26.png\" alt=\"图片\"></p>\n</li>\n<li>\n<p>3，性能指标 3—— 丢包率：</p>\n</li>\n<li>\n<p>定义：在连续负载的情况下，防火墙由于资源不足，应该转发但是未转发的百分比。</p>\n</li>\n<li>\n<p>衡量标准：丢包率越小，防火墙的性能越高。</p>\n</li>\n<li>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/27/sxj6zV.png\" alt=\"图片\"></p>\n</li>\n<li>\n<p>4，性能指标 4—— 背靠背：</p>\n</li>\n<li>\n<p>衡量标准：背靠背主要是指防火墙缓存容量的大小，网络上常会出现一些突发的大流量，(NFS，备份，路由更新等)，而且这样的数据包的丢失可能会产生更多的数据包丢失。强大的缓冲能力可以减小对这种突发网络情况造成的影响。</p>\n</li>\n<li>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/27/sxxS74.png\" alt=\"图片\"></p>\n</li>\n<li>\n<p>5，性能指标 5—— 并发连接数：</p>\n</li>\n<li>\n<p>定义：由于防火墙是针对连接进行处理的，并发连接数目是指防火墙可以同时容纳的最大链接数目，一个连接就是一个 TCP/UDP 的访问。</p>\n</li>\n<li>\n<p>衡量标准：并发链接数指标越大，抗攻击能力越强。</p>\n</li>\n<li>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/27/sxzgQP.png\" alt=\"图片\"></p>\n</li>\n</ul>\n<p class=\"red\">18，传统防火墙防御模式：</p>\n<div class=\"note info\">\n<p>提示提示</p>\n</div>\n<ul>\n<li>通过防御设备划分边界，基于 IP / 端口和特征进行判断。</li>\n<li>以隔离为基础，基于信任原则构建安全框架。</li>\n<li>以防护为核心，基于静态特征的攻击检测。</li>\n</ul>\n<p class=\"red\">19，传统安全产品的形态：</p>\n<div class=\"note info\">\n<p>提示提示</p>\n</div>\n<ul>\n<li>&quot;串糖葫芦式&quot;，&quot;打补丁式&quot; 建设。</li>\n<li>成本高：环境，空间，重复采购。</li>\n<li>管理难：多设备，多厂商，安全风险无法分析。</li>\n<li>效率低：重复解析，单点故障。</li>\n</ul>\n<p class=\"red\">20，深信服 AF 的核心价值：</p>\n<div class=\"note info\">\n<p>提示提示</p>\n</div>\n<ul>\n<li>安全的基础是风险全面可视化。</li>\n<li>安全的目标是保障企业业务安全。</li>\n<li>安全的未来是抵御未知风险。</li>\n</ul>\n<h3 class=\"blue\" id=\"组网方案\"><a class=\"anchor\" href=\"#组网方案\">#</a> 组网方案</h3>\n<p class=\"red\">1，部署模式简介：</p>\n<div class=\"note info\">\n<p>简介</p>\n</div>\n<ul>\n<li>\n<p>1，AF 基本应用场景：</p>\n</li>\n<li>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/27/szPSHK.png\" alt=\"图片\"></p>\n</li>\n<li>\n<p>2，下一代防火墙具备灵活的网络适应能力，支持：<ins class=\"wavy\">路由模式，透明模式，虚拟网线模式，混合模式，旁路模式。</ins></p>\n</li>\n<li>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/27/szQQc6.png\" alt=\"图片\"></p>\n</li>\n</ul>\n<p class=\"red\">2，接口：</p>\n<div class=\"note info\">\n<p>简介</p>\n</div>\n<ul>\n<li>\n<p>1，根据接口属性分为：物理接口，子接口，VLAN 接口，聚合接口。</p>\n</li>\n<li>\n<p>其中物理接口可选择为：路由口，透明口，虚拟网线口，旁路镜像口。</p>\n</li>\n<li>\n<p>2，根据接口不同的工作层面，可以划分为：二层区域，三层区域，虚拟网线区域。</p>\n</li>\n<li>\n<p>3，AF 的部署模式是根据各个接口的属性决定的。</p>\n</li>\n</ul>\n<p class=\"red\">3，物理接口：</p>\n<div class=\"note info\">\n<p>简介</p>\n</div>\n<ul>\n<li>\n<p>1，物理接口与 AF 设备面板上的接口一一对应 (eth0 为 manage 口)，根据网口数据转发特性的不同，可选择路由，透明，虚拟网线和旁路镜像 4 种类型，前三种接口又可设置 WAN 或非 WAN 属性。</p>\n</li>\n<li>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/27/szlxWn.png\" alt=\"图片\"></p>\n</li>\n<li>\n<p>2，物理接口无法删除或新增，物理接口的数目由硬件决定 (个别平台支持可拓展)。</p>\n</li>\n</ul>\n<p class=\"red\">4，路由接口：</p>\n<div class=\"note info\">\n<p>简介</p>\n</div>\n<ul>\n<li>1，路由接口：如果设置为路由接口，则需要给该接口配置 IP 地址，且，该接口具备路由转发功能。</li>\n<li>2，ADSL 拨号：如果设置为路由接口，并且是 ADSL 拨号，需要选上添加默认路由选项，默认勾选。</li>\n<li>3，管理口：Eth0 为固定的管理口，接口类型为路由口，无法修改，Eth0 可增加管理 IP 地址，<ins class=\"wavy\">默认的管理 IP 10.251.251.251/24. 如需修改，AF8.0.13 版本后，可在 [系统]-[通用配置]-[网络参数] 中进行修改。</ins></li>\n<li><img data-src=\"https://s3.ax1x.com/2021/01/27/sz1mS1.png\" alt=\"图片\"></li>\n</ul>\n<p class=\"red\">5，透明接口：</p>\n<div class=\"note info\">\n<p>简介</p>\n</div>\n<ul>\n<li>透明接口：相当于普通的交换网口，不需要配置 IP 地址，不支持路由转发，根据 MAC 地址表转发数据。</li>\n</ul>\n<p class=\"red\">6，虚拟网线接口：</p>\n<div class=\"note info\">\n<p>简介</p>\n</div>\n<ul>\n<li>1，虚拟网线接口：也是普通的交换接口，不能配置 IP 地址，不支持路由转发，转发数据时，也无需检查 MAC 表，直接从虚拟网线配对的接口转发。</li>\n<li>2，<ins class=\"wavy\">虚拟网线口的转发性能高于透明接口，单进单出，双进双出等成对的网桥的环境下，推荐使用虚拟网线接口部署。</ins></li>\n</ul>\n<p class=\"red\">7，旁路镜像接口：</p>\n<div class=\"note info\">\n<p>简介</p>\n</div>\n<ul>\n<li>1，<ins class=\"wavy\">不能配置 IP 地址，也不支持数据转发。</ins>只是用来接收从外部镜像过来的镜像数据。</li>\n<li>2，镜像接口可以配置多个，根据现场实际业务场景，需要接受的数据情况进行选择。</li>\n</ul>\n<p class=\"wavy\">8，聚合接口：</p>\n<div class=\"note info\">\n<p>简介</p>\n</div>\n<ul>\n<li>将多个以太网接口捆绑在一起所形成的逻辑接口，创建的聚合接口成为一个逻辑接口，而不是底层的物理接口。</li>\n</ul>\n<p class=\"wavy\">9，子接口：</p>\n<div class=\"note info\">\n<p>简介</p>\n</div>\n<ul>\n<li>1，<ins class=\"wavy\">应用于路由接口，需要启用 VLAN 或 TRUNK 的场景。</ins></li>\n<li>2，<ins class=\"wavy\">子接口是逻辑接口，只能在路由口下添加子接口。</ins></li>\n<li>3，子接口的下一跳网关和链路状态检测根据实际情况进行配置。</li>\n</ul>\n<p class=\"red\">10，VLAN 接口：</p>\n<div class=\"note info\">\n<p>简介</p>\n</div>\n<ul>\n<li>1，为 VLAN 定义 IP 地址，则会产生 VLAN 接口，VLAN 接口也是逻辑接口。</li>\n<li>2，根据实际情况配置。</li>\n</ul>\n<p class=\"red\">11，接口设置注意事项：</p>\n<div class=\"note info\">\n<p>简介</p>\n</div>\n<ul>\n<li>1，设备支持配置多个 WAN 属性的路由接口连接多条外网线路，但是，需要开通多条线路的授权。</li>\n<li>2，管理口不支持设置成透明接口或虚拟网线接口，如果要设置两对或两对以上的虚拟网线接口，则必须要求设备不少于五个物理接口，预留一个专门的管理口 Eth0。</li>\n<li>3，一个路由接口下可以配置多个子接口，路由接口的 IP 地址不能与子接口的 IP 地址在同一网段。</li>\n</ul>\n<p class=\"red\">12，区域：</p>\n<div class=\"note info\">\n<p>简介</p>\n</div>\n<ul>\n<li>1，什么是区域？</li>\n<li>是本地逻辑安全区域的概念</li>\n<li>一个或多个接口所连接的网络</li>\n<li>用于定义和归类接口，以供各类安全策略等模块调用</li>\n<li><img data-src=\"https://s3.ax1x.com/2021/01/28/ySPPJg.png\" alt=\"图片\"></li>\n<li>2，定义区域时，需根据控制的需求来规划，可以将一个接口划分到一个区域，或将几个相同需求接口划分到同一区域。</li>\n<li>3，<ins class=\"wavy\">一个接口只能属于一个区域，而，一个区域可以有多个接口。</ins></li>\n<li>4，可以在区域中选择接口，也可以预先设置好区域名称，在接口中选择区域。</li>\n<li>5，二层区域 —— 只能选择所有的透明接口</li>\n<li>6，三层区域 —— 只能选择所有的三层接口</li>\n<li>7，虚拟网线区域 —— 只能选择所有的虚拟网线接口</li>\n</ul>\n<p class=\"red\">13，路由模式组网：</p>\n<div class=\"note info\">\n<p>简介</p>\n</div>\n<ul>\n<li>\n<p>1，需求背景：</p>\n</li>\n<li>\n<p>现有的拓扑图如下，使用 AF 代替现有防火墙，部署在出口，实现内网用户和服务器安全防护。</p>\n</li>\n<li>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/28/y9b5kj.png\" alt=\"图片\"></p>\n</li>\n<li>\n<p>2，需求分析 —— 部署前我们需要做哪些准备工作？</p>\n</li>\n<li>\n<p>现有设备的接口配置。</p>\n</li>\n<li>\n<p>内网网段规划，好写回包路由。</p>\n</li>\n<li>\n<p>是否有服务器要映射。</p>\n</li>\n<li>\n<p>是否需要代理内网用户上网。</p>\n</li>\n<li>\n<p>进行内外网哪些访问权限的控制。</p>\n</li>\n<li>\n<p>进行哪些安全策略配置，实现用户需求。</p>\n</li>\n<li>\n<p>现在拓扑是否完整。</p>\n</li>\n</ul>\n<p class=\"red\">14，单臂路由模式：</p>\n<div class=\"note info\">\n<p>简介</p>\n</div>\n<ul>\n<li>单臂路由时指在路由器的一个接口上通过配置子接口 (逻辑接口，并不存在真正物理接口) 的方式，实现原来相互隔离的不同 VLAN (虚拟局域网) 之间的通信。</li>\n<li><img data-src=\"https://s3.ax1x.com/2021/01/28/y9qt4s.png\" alt=\"图片\"></li>\n</ul>\n<p class=\"red\">15，路由模式总结：</p>\n<div class=\"note info\">\n<p>简介</p>\n</div>\n<ul>\n<li>1，在此组网方式时，防火墙位于内部网络和外部网络之间，负责在内部网络，外部网络进行路由寻址，相当于路由器，与其内部网络，外部网络相连的上下行业务接口均工作在三层，需要分别配置不同网段的 IP 地址。</li>\n<li>2，此组网方式支持更多的安全特性，如：NAT，策略路由选择，动态路由协议 (OSPF,BGP,RIP 等)。</li>\n<li>需要修改原网络拓扑，对现有环境改动大。</li>\n<li>一般部署在需要进行路由转发的位置，如，出口路由器，或替换已有路由器，老防火墙等场景。</li>\n</ul>\n<p class=\"red\">16，透明模式组网：</p>\n<div class=\"note info\">\n<p>简介</p>\n</div>\n<ul>\n<li>\n<p>1，需求背景：</p>\n</li>\n<li>\n<p>部署一台 AF 设备进行安全防护，但是，又不改动现有的网络环境。</p>\n</li>\n<li>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/28/y9xBK1.png\" alt=\"图片\"></p>\n</li>\n<li>\n<p>2，需求分析 —— 部署前我们需要做哪些准备工作？</p>\n</li>\n<li>\n<p>接口定义</p>\n</li>\n<li>\n<p>管理地址配置</p>\n</li>\n<li>\n<p>配置路由，一般缺省路由用作防火墙上网，回程路由用作防火墙管理。</p>\n</li>\n<li>\n<p><ins class=\"wavy\">不用配置地址转换。</ins></p>\n</li>\n<li>\n<p>应用控制，进行访问权限控制。</p>\n</li>\n<li>\n<p>安全防护策略实现用户安全防护需求。</p>\n</li>\n</ul>\n<p class=\"red\">17，虚拟网线部署：</p>\n<div class=\"note info\">\n<p>简介</p>\n</div>\n<ul>\n<li>\n<p>1，用户需求：</p>\n</li>\n<li>\n<p>路由器和交换机聚合口对接，要求透明部署防火墙设备，即，从 1 号口进来的数据，只能从 2 号口出，不再转发到其他接口，其他接口的效果也一样，同时，防火墙设备可以被日常管理。</p>\n</li>\n<li>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/28/y9zeqx.png\" alt=\"图片\"></p>\n</li>\n<li>\n<p>2，虚拟网线部署是透明部署中另外一种特殊情况：</p>\n</li>\n<li>\n<p>和透明部署一样，接口也是二层接口，但是被定义为虚拟网线接口</p>\n</li>\n<li>\n<p><ins class=\"wavy\">虚拟网线接口必须成对存在，转发数据时无需检查 MAC 表，直接从虚拟网线配的的接口转发。</ins></p>\n</li>\n<li>\n<p><ins class=\"wavy\">虚拟网线接口的转发性能高于透明接口。</ins>单进单出网桥的环境下，推荐使用虚拟网线接口部署。</p>\n</li>\n</ul>\n<p class=\"wavy\">18，混合模式组网：</p>\n<div class=\"note info\">\n<p>简介</p>\n</div>\n<ul>\n<li>\n<p>1，用户需求：</p>\n</li>\n<li>\n<p>某用户内网有服务器群，服务器均配置公网 IP 地址，提供所有用户直接通过公网 IP 地址接入访问，内网用户使用私网地址，通过 NAT 转换代理上网，希望将 AF 设备部署在公网出口的位置，实现内外部数据通信的同时，保护服务器群和内网上网数据的安全。</p>\n</li>\n<li>\n<p>2，部署方式推荐：</p>\n</li>\n<li>\n<p>推荐使用混合模式部署，AF 设备连接公网和服务器群的 2 个接口使用透明 access 口，连接内网网段使用路由接口。</p>\n</li>\n<li>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/29/yCUdW6.png\" alt=\"图片\"></p>\n</li>\n<li>\n<p>3，部署分析：</p>\n</li>\n<li>\n<p>用于服务器均有公网 IP 地址，所以 AF 连接公网线路的接口 Eth1 与连接服务器群的 Eth2 接口，使用透明 acces 口，并设置相同的 VLAN ID。皆可实现所有用户使用公网 IP 直接访问服务器群。</p>\n</li>\n<li>\n<p>新增 VLAN1 口，分配一个公网 IP，划分区域为外网区。</p>\n</li>\n<li>\n<p>AF 设备与内网相连的接口 Eth3 使用路由接口，设置与内网交换机同网段的 IP 地址，并设置静态路由，与内网通信。</p>\n</li>\n<li>\n<p>内网用户上网时，转换原 IP 地址为 VLAN1 接口的 IP 地址，根据需求划分一个二层区域选择网口 eth1 和 eth2，划分两个三层区域，其中，” 外网区域 “选择 VLAN 接口 VLAN1，“内网区域” 选择接口 eth3。</p>\n</li>\n</ul>\n<p class=\"red\">19，旁路模式组网：</p>\n<div class=\"note info\">\n<p>简介</p>\n</div>\n<ul>\n<li>\n<p>1，需求背景：</p>\n</li>\n<li>\n<p>使用 AF 来实现对各区域之前数据进行安全分析，同时不改动已有环境。</p>\n</li>\n<li>\n<p><img data-src=\"https://s3.ax1x.com/20sz21/01/29/yCav4I.png\" alt=\"图片\"></p>\n</li>\n<li>\n<p>2，思考总结：</p>\n</li>\n<li>\n<p>设备旁挂在现有的网络设备上，不影响现有的网络结构，通过端口镜像技术，把流量镜像到下一代防护，实现对数据的分析与处理。</p>\n</li>\n<li>\n<p>需要另外设置单独管理接口才能对设备进行管理。</p>\n</li>\n<li>\n<p><ins class=\"wavy\">启用管理口 reset 功能</ins></p>\n</li>\n<li>\n<p>旁路模式支持的功能仅有：</p>\n</li>\n<li>\n<p>APT (僵尸网络)。</p>\n</li>\n<li>\n<p>PVS (实时漏洞分析)。</p>\n</li>\n<li>\n<p>WAF (web 应用防护)。</p>\n</li>\n<li>\n<p>入侵防御系统。</p>\n</li>\n<li>\n<p>DLP (数据泄密防护)。</p>\n</li>\n<li>\n<p>网站防篡改部分功能 (客户端保护)。</p>\n</li>\n</ul>\n<p class=\"red\">20，策略路由解决方案：</p>\n<div class=\"note info\">\n<p>简介</p>\n</div>\n<ul>\n<li>\n<p>1，策略路由：</p>\n</li>\n<li>\n<p>是路由的一种。</p>\n</li>\n<li>\n<p>静态路由的匹配条件相对较少：匹配目的 IP，子网掩码与下一跳网关。</p>\n</li>\n<li>\n<p>策略路由可以弥补静态路由的不足，更灵活多样的匹配条件，根据相应策略来进行匹配，包括：匹配源，目的，协议，应用等。出口在外网多条线路情况下，建议匹配策略路由。</p>\n</li>\n<li>\n<p>2，策略路由分为：</p>\n</li>\n<li>\n<p>源地址策略路由：可指定内网哪些 IP 地址走指定线路出公网。</p>\n</li>\n<li>\n<p>多线路负载路由：可指定多条线路进行负载选路。</p>\n</li>\n<li>\n<p>3，总结思考：</p>\n</li>\n<li>\n<p>AF 路由的优先级默认是：[VPN 路由]&gt;[静态路由 / 动态路由]&gt;[策略路由]&gt;[默认路由]。</p>\n</li>\n<li>\n<p>AF6.8 新增了【VPN 专线互备路由】功能，开启该功能后，路由优先级调整为：【静态路由 / 动态路由】&gt;【策略路由】&gt;【VPN 路由】&gt;【默认路由】。</p>\n</li>\n<li>\n<p>每一条外网线路必须至少有一条策略路由与之对应，源地址策略路由或多线路负载路由均可。</p>\n</li>\n<li>\n<p>源地址策略路由，通过直接填写路由的下一跳，可以实现从设备非 WAN 属性的接口转发数据。</p>\n</li>\n<li>\n<p>多线路负载路由选择的接口，必须开启链路故障检测功能，才能实现线路故障自动切换。</p>\n</li>\n<li>\n<p>多条策略路由，按照从上往下的顺序匹配，一旦匹配到某条策略路由后，不再往下匹配。</p>\n</li>\n</ul>\n<h2 id=\"终端安全检测和防御技术\"><a class=\"anchor\" href=\"#终端安全检测和防御技术\">#</a> <strong>终端安全检测和防御技术：</strong></h2>\n<h3 class=\"blue\" id=\"终端安全风险\"><a class=\"anchor\" href=\"#终端安全风险\">#</a> 终端安全风险</h3>\n<p class=\"red\">1，风险：</p>\n<div class=\"note info\">\n<p>提示提示</p>\n</div>\n<ul>\n<li>1，APT 攻击最常采用的跳板就是僵尸网络，黑客利用僵尸网络来实现：渗透，监视，窃取敏感数据等目的，危害非常大。</li>\n<li>2，僵尸网络的主要危害有：</li>\n<li>看不见的风险。</li>\n<li>高级持续威胁。</li>\n<li>本地渗透扩散。</li>\n<li>敏感信息窃取。</li>\n<li>脆弱信息收集。</li>\n</ul>\n<h3 class=\"blue\" id=\"终端上网安全可视可控技术\"><a class=\"anchor\" href=\"#终端上网安全可视可控技术\">#</a> 终端上网安全可视可控技术</h3>\n<p>1，背景：{.red}<br>\n<img data-src=\"https://s3.ax1x.com/2021/01/29/yiVsde.png\" alt=\"图片\"></p>\n<p class=\"red\">2，方案：</p>\n<div class=\"note info\">\n<p>简介</p>\n</div>\n<ul>\n<li>基于七层应用的深度数据包检测可实现终端安全可控</li>\n<li><img data-src=\"https://s3.ax1x.com/2021/01/29/yiZQfA.png\" alt=\"图片\"></li>\n</ul>\n<p class=\"red\">3，应用控制策略简介：</p>\n<div class=\"note info\">\n<p>简介</p>\n</div>\n<ul>\n<li>\n<p>1，应用控制策略可对<ins class=\"wavy\">应用 / 服务</ins>的访问做双向控制。AF 存在一条默认拒绝所有应用 / 服务的控制策略。</p>\n</li>\n<li>\n<p>2，基于应用的控制策略：</p>\n</li>\n<li>\n<p>通过匹配数据包特征来进行过滤动作，需要一定数量的数据包通行后，才能判断应用类型，然后进行拦截动作的判断。</p>\n</li>\n<li>\n<p>3，基于服务的控制策略：</p>\n</li>\n<li>\n<p>通过匹配数据包的五元组 (源地址，目的地址，源端口，目的端口，协议号) 来进行过滤动作，对于任何包可以立即进行拦截动作判断。</p>\n</li>\n</ul>\n<p class=\"red\">4，Web 过滤：</p>\n<div class=\"note info\">\n<p>简介</p>\n</div>\n<ul>\n<li>1，WEB 过滤是指针对符合设定条件的访问网页数据进行过滤。包括 URL 过滤，文件过滤，根据 HTTP 不同的动作进行区分，可以针对 HTTPS URL 进行过滤。</li>\n</ul>\n<h3 class=\"blue\" id=\"计算机病毒\"><a class=\"anchor\" href=\"#计算机病毒\">#</a> 计算机病毒</h3>\n<p class=\"red\">1，计算机病毒：</p>\n<div class=\"note info\">\n<p>简介</p>\n</div>\n<ul>\n<li>1，1994 年 2 月 18 日颁布实施的《中华人民共和国计算机信息系统安全保护条例》中明确指出：“计算机病毒，是编制或者在计算机程序中能插入的破坏计算机功能或者毁坏数据，影响计算机使用，并能自我复制的一组计算机指令或者程序代码”</li>\n<li><img data-src=\"https://s3.ax1x.com/2021/01/29/yinfhQ.png\" alt=\"图片\"></li>\n</ul>\n<p>2，计算机病毒工作步骤：{.red}<br>\n<img data-src=\"https://s3.ax1x.com/2021/01/29/yiKpGQ.png\" alt=\"图片\"></p>\n<p class=\"red\">3，杀毒防御产品的发展：</p>\n<div class=\"note info\">\n<p>简介</p>\n</div>\n<ul>\n<li>\n<p>1，发展过程：</p>\n</li>\n<li>\n<p>单机版杀毒软件 —— 网络版杀毒软件 —— 杀毒软件 + 杀毒网关。</p>\n</li>\n<li>\n<p>2，网络杀毒功能的优势 (防病毒网关)</p>\n</li>\n<li>\n<p>基于应用层过滤病毒</p>\n</li>\n<li>\n<p>过滤出入网关的数据</p>\n</li>\n<li>\n<p>网关阻断病毒传输，主动防御病毒于网络之外</p>\n</li>\n<li>\n<p>部署简单，方便管理，维护成本低</p>\n</li>\n<li>\n<p>与杀毒软件联动，建立多层防护</p>\n</li>\n<li>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/29/yiMCFO.png\" alt=\"图片\"></p>\n</li>\n</ul>\n<p class=\"red\">4，网关杀毒实现方式：</p>\n<div class=\"note info\">\n<p>简介</p>\n</div>\n<ul>\n<li>1，代理扫描方式：</li>\n<li>将所有经过网关的需要进行病毒检测的数据报文透明地交给网关自身的协议栈，通过网关的自身的协议栈将全部文件缓存下来后，再送入病毒检测引擎进行病毒检测。</li>\n<li>2，流扫描方式：</li>\n<li>依赖于状态检测技术以及协议解析技术，简单的提取文件的特征与本地前面库进行匹配。</li>\n</ul>\n<p>5，AF 网关杀毒实现方式：{.red}<br>\n<img data-src=\"https://s3.ax1x.com/2021/01/29/yiMbHP.png\" alt=\"图片\"></p>\n<p class=\"red\">6，AF 网关杀毒优势：</p>\n<div class=\"note info\">\n<p>简介</p>\n</div>\n<ul>\n<li>1，支持各类主流协议文件传播杀毒，包括 SMB v1/v2/v3 协议，通过采用 SAVE 智能文件检测引擎 (杀毒)，大幅提高恶意文件识别率。</li>\n<li>2，支持对邮件正文中的恶意域名，URL 进行检测。</li>\n<li>3，提供覆盖更广的杀毒能力，支持文档类，脚本类的非 PE 文件检测，office 宏病毒的杀毒能力。</li>\n<li>4，杀毒文件的大小限制，可以灵活调整，界面可调整的大小限制为 1-20M。</li>\n<li>5，支持对压缩文件的检测，且可设置层级，界面可调整的层级最多 16 层。</li>\n</ul>\n<p class=\"red\">7，SAVE 引擎优势：</p>\n<div class=\"note info\">\n<p>简介</p>\n</div>\n<ul>\n<li>1，基于 Ai 技术提取稳定可靠的高层次特征，拥有强大的泛化能力，能够识别未知病毒或者已知病毒的新变种。</li>\n<li>2，对勒索病毒检测效果达到业内领先，影响广泛的如：Wannacry，BadRabbit，Globelposter 等勒索病毒，Save 均有检测出新变种的案例，同时，对非勒索病毒也有较好的检出效果。</li>\n<li>3，轻量级，资源占用少，隔离网环境检测能力业内领先。</li>\n<li>4，云 + 边界设备 + 端联动，依托于深信服安全云脑海量的安全数据，SAVE 能够持续进化，不断更新模型并提示检测能力，未知威胁能够再云端分钟级返回检测结果并全网同步，构成了深信服的安全云脑 + 安全网关 AF/SIP/AC + 终端安全 EDR 的整体解决方案。</li>\n</ul>\n<p>8，网关杀毒配置思路：{.red}<br>\n<img data-src=\"https://s3.ax1x.com/2021/01/31/yAh7xP.png\" alt=\"图片\"></p>\n<ul>\n<li>\n<p><strong>服务器安全检测和防御技术：</strong></p>\n</li>\n<li>\n<p><strong>安全评估与动态检测技术：</strong></p>\n</li>\n</ul>\n<h1 id=\"第五章移动接入安全\"><a class=\"anchor\" href=\"#第五章移动接入安全\">#</a> 第五章【移动接入安全】</h1>\n<ul>\n<li><strong>移动接入方案概述：</strong></li>\n<li><strong>移动接入身份认证技术：</strong></li>\n<li><strong>资源发布与安全接入策略：</strong></li>\n</ul>\n<h1 id=\"第六章终端安全\"><a class=\"anchor\" href=\"#第六章终端安全\">#</a> 第六章【终端安全】</h1>\n<ul>\n<li><strong>EDR 部署与终端管理：</strong></li>\n<li><strong>EDR 策略配置及联动管理：</strong></li>\n<li><strong>EDR 知识串讲：</strong></li>\n</ul>\n<h1 id=\"第七章网络安全可视\"><a class=\"anchor\" href=\"#第七章网络安全可视\">#</a> 第七章【网络安全可视】</h1>\n<ul>\n<li><strong>态势感知概述与 SIP 部署：</strong></li>\n<li><strong>SIP 功能介绍与配置：</strong></li>\n</ul>\n<h1 id=\"实验部分\"><a class=\"anchor\" href=\"#实验部分\">#</a> 实验部分</h1>\n<h2 id=\"第二章-数据传输安全\"><a class=\"anchor\" href=\"#第二章-数据传输安全\">#</a> 第二章 - 数据传输安全</h2>\n<h3 id=\"22ipsec-vpn解决方案\"><a class=\"anchor\" href=\"#22ipsec-vpn解决方案\">#</a> 2.2IPsec VPN 解决方案</h3>\n",
            "tags": [
                "技术",
                "深信服"
            ]
        },
        {
            "id": "https://2memos.xyz/2021/01/13/%E8%B7%AF%E7%94%B1%E6%9D%BF%E5%9D%97/",
            "url": "https://2memos.xyz/2021/01/13/%E8%B7%AF%E7%94%B1%E6%9D%BF%E5%9D%97/",
            "title": "路由板块",
            "date_published": "2021-01-13T11:00:25.975Z",
            "content_html": "<h1 id=\"第一章ospf\"><a class=\"anchor\" href=\"#第一章ospf\">#</a> 第一章【OSPF】</h1>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>h</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre>OSPF【开放最短路径优先】（现网使用最多）【注：OSPF查看RFC2328文档】</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token number\">1</span>：动态路由协议分为：</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    距离矢量路由协议<span class=\"token punctuation\">(</span>RIP,EIGRP,BGP<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    链路状态路由协议<span class=\"token punctuation\">(</span>OSPF,ISIS<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token number\">2</span>，基础：管理距离<span class=\"token punctuation\">(</span>AD<span class=\"token punctuation\">)</span>:【注】管理距离不会传递，值越小越优</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    CISCO的AD值<span class=\"token punctuation\">[</span>ospf:110  static:1<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    HW的AD值<span class=\"token punctuation\">[</span>ospf:10 static:60<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token number\">3</span>，度量值：Metric【ospf用cosf来表示，并且ospf只用带宽来表示，值<span class=\"token operator\">=</span><span class=\"token number\">100</span>除以带宽<span class=\"token punctuation\">(</span>M<span class=\"token punctuation\">)</span>】</pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>，cost计算方法：路由收接口进行累加，<span class=\"token punctuation\">(</span>可以手动调,在收接口）</pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>cost：E口<span class=\"token operator\">=</span>10m，F口<span class=\"token operator\">=</span>100m，G口<span class=\"token operator\">=</span>1000m，TEN <span class=\"token assign-left variable\">G</span><span class=\"token operator\">=</span>10000m，S<span class=\"token operator\">=</span><span class=\"token number\">1</span>.544m <span class=\"token assign-left variable\">cost</span><span class=\"token operator\">=</span><span class=\"token number\">100</span>/1.544<span class=\"token operator\">=</span><span class=\"token number\">64</span>【注国内S<span class=\"token operator\">=</span>2m】</pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token number\">100</span>/带宽<span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">)</span>：其中100可以修改，命令：bandwidth-reference <span class=\"token number\">10000</span>。</pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token number\">4</span>，OSPF报文类型：</pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>，hello：建立<span class=\"token punctuation\">(</span>同区域，同网段<span class=\"token punctuation\">)</span>和维护<span class=\"token punctuation\">(</span>周期性发送，10s一次，40s超时，1800s重新泛洪，</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    3600s路由丢失<span class=\"token punctuation\">)</span>OSPF邻居关系。</pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>，DBD：链路状态数据库描述信息<span class=\"token punctuation\">(</span>描述LSDB中LSA头部的信息<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span>，LSR：链路状态请求<span class=\"token punctuation\">(</span>DBD中对应的路由信息<span class=\"token punctuation\">)</span>,向OSPF邻居请求链路状态信息。</pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span>，LSU：链路状态更新<span class=\"token punctuation\">(</span>发送路由信息<span class=\"token punctuation\">)</span>（包含一条或多条LSA）</pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span>，LSACK：链路状态确认包，对LSU中的LSA进行确认。</pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token number\">5</span>，OSPF区域：</pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>，骨干区域：area0<span class=\"token punctuation\">(</span>不能修改<span class=\"token punctuation\">)</span>。</pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>，非骨干区域；arother<span class=\"token punctuation\">(</span>可以修改<span class=\"token punctuation\">)</span>。</pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token number\">6</span>，OSPF的三张表：</pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>，邻居表；建立的邻居关系如何。查看：show <span class=\"token function\">ip</span> ospf neighbor。</pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>，拓扑表；所有有关OSPF传递过来的信息。查看：show <span class=\"token function\">ip</span> ospf database。</pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span>，路由表；使能的路由加入表项。 查看：show <span class=\"token function\">ip</span> route ospf。</pre></td></tr><tr><td data-num=\"26\"></td><td><pre><span class=\"token number\">7</span>，OSPF区域的配置<span class=\"token punctuation\">(</span>PK实验步骤<span class=\"token punctuation\">)</span>：</pre></td></tr><tr><td data-num=\"27\"></td><td><pre>R1：</pre></td></tr><tr><td data-num=\"28\"></td><td><pre>Router<span class=\"token punctuation\">(</span>config<span class=\"token punctuation\">)</span><span class=\"token comment\">#router ospf 1   &lt;1 代表进程，不同的进程相对独立 ></span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>Router<span class=\"token punctuation\">(</span>config-router<span class=\"token punctuation\">)</span><span class=\"token comment\">#network 172.16.12.0 0.0.0.255 area 1   &lt; 配置网段，反掩码，和区域 1></span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>R2：</pre></td></tr><tr><td data-num=\"31\"></td><td><pre>Router<span class=\"token punctuation\">(</span>config<span class=\"token punctuation\">)</span><span class=\"token comment\">#router ospf 1</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>Router<span class=\"token punctuation\">(</span>config-router<span class=\"token punctuation\">)</span><span class=\"token comment\">#network 172.16.12.0 0.0.0.255 area 1</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>Router<span class=\"token punctuation\">(</span>config-router<span class=\"token punctuation\">)</span><span class=\"token comment\">#network 172.16.23.0 0.0.0.255 area 0</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>R3：</pre></td></tr><tr><td data-num=\"35\"></td><td><pre>Router<span class=\"token punctuation\">(</span>config<span class=\"token punctuation\">)</span><span class=\"token comment\">#router ospf 1</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>Router<span class=\"token punctuation\">(</span>config-router<span class=\"token punctuation\">)</span><span class=\"token comment\">#network 172.16.23.0 0.0.0.255 area 0</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>Router<span class=\"token punctuation\">(</span>config-router<span class=\"token punctuation\">)</span><span class=\"token comment\">#network 172.16.34.0 0.0.0.255 area 2</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>R4：</pre></td></tr><tr><td data-num=\"39\"></td><td><pre>Router<span class=\"token punctuation\">(</span>config<span class=\"token punctuation\">)</span><span class=\"token comment\">#router ospf 1</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>Router<span class=\"token punctuation\">(</span>config-router<span class=\"token punctuation\">)</span><span class=\"token comment\">#network 172.16.34.0 0.0.0.255 area 2</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>验证：</pre></td></tr><tr><td data-num=\"42\"></td><td><pre>Router<span class=\"token comment\">#show ip ospf neighbor（查看邻居）</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>此时R1能ping通R4（由于OSPF的自动学习）</pre></td></tr><tr><td data-num=\"44\"></td><td><pre>思考：为什么能通？——》有路由<span class=\"token punctuation\">(</span>为什么?<span class=\"token punctuation\">)</span>——》建立邻居关系<span class=\"token punctuation\">(</span>为什么?<span class=\"token punctuation\">)</span>——》邻居表正常<span class=\"token punctuation\">(</span>为什么?<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>    - ——》宣告配置没问题。</pre></td></tr><tr><td data-num=\"46\"></td><td><pre><span class=\"token number\">8</span>，OSPF建立邻居的过程：七种状态 【注，重置进程命令：clear <span class=\"token function\">ip</span> ospf process】</pre></td></tr><tr><td data-num=\"47\"></td><td><pre><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>，down：</pre></td></tr><tr><td data-num=\"48\"></td><td><pre>    <span class=\"token number\">1</span>，没有宣告。</pre></td></tr><tr><td data-num=\"49\"></td><td><pre>    <span class=\"token number\">2</span>，接口down。</pre></td></tr><tr><td data-num=\"50\"></td><td><pre><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>，init<span class=\"token punctuation\">(</span>初始化<span class=\"token punctuation\">)</span>：</pre></td></tr><tr><td data-num=\"51\"></td><td><pre>    <span class=\"token number\">1</span>，互发hello包。</pre></td></tr><tr><td data-num=\"52\"></td><td><pre>    <span class=\"token number\">2</span>，router-id：标识对方设备在ospf中的名称。</pre></td></tr><tr><td data-num=\"53\"></td><td><pre>    router-id如何选举：（1）手动（命令：router-id <span class=\"token number\">2.2</span>.2.2）。</pre></td></tr><tr><td data-num=\"54\"></td><td><pre>    （2）逻辑接口IP地址最大<span class=\"token punctuation\">(</span>环回口<span class=\"token punctuation\">)</span>。（3）物理接口IP地址最大。</pre></td></tr><tr><td data-num=\"55\"></td><td><pre>    <span class=\"token number\">3</span>，跳转条件：设备之间了解了对方的router-id。</pre></td></tr><tr><td data-num=\"56\"></td><td><pre><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span>，two-way：</pre></td></tr><tr><td data-num=\"57\"></td><td><pre>    <span class=\"token number\">1</span>， 选举DR，【注：DR不抢占。】</pre></td></tr><tr><td data-num=\"58\"></td><td><pre>\t<span class=\"token number\">2</span>，DR概念：DR指定路由器，收集同一广播域其他DRother路由信息，进行打包发送。</pre></td></tr><tr><td data-num=\"59\"></td><td><pre>\t<span class=\"token number\">3</span>，选举过程：（1）DR优先级：越大越优<span class=\"token punctuation\">(</span>默认为1，为0时不参与选举，范围0-255<span class=\"token punctuation\">)</span>。</pre></td></tr><tr><td data-num=\"60\"></td><td><pre>\t    【注：优先级0的配置命令：ip ospf priority <span class=\"token number\">0</span>】</pre></td></tr><tr><td data-num=\"61\"></td><td><pre>        <span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>  Router-id:越大越优。</pre></td></tr><tr><td data-num=\"62\"></td><td><pre>\t<span class=\"token number\">4</span>，DR选举很慢，10-30s。</pre></td></tr><tr><td data-num=\"63\"></td><td><pre>\t<span class=\"token number\">5</span>，优化：ip ospf network point-to-point<span class=\"token punctuation\">(</span>两端同时配置<span class=\"token punctuation\">)</span> 配置为点对点，</pre></td></tr><tr><td data-num=\"64\"></td><td><pre>\t    不会选举DR。</pre></td></tr><tr><td data-num=\"65\"></td><td><pre><span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span>，exstart</pre></td></tr><tr><td data-num=\"66\"></td><td><pre><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span>，exchange</pre></td></tr><tr><td data-num=\"67\"></td><td><pre><span class=\"token punctuation\">(</span><span class=\"token number\">6</span><span class=\"token punctuation\">)</span>，loading</pre></td></tr><tr><td data-num=\"68\"></td><td><pre><span class=\"token punctuation\">(</span><span class=\"token number\">7</span><span class=\"token punctuation\">)</span>，full（最稳定）</pre></td></tr><tr><td data-num=\"69\"></td><td><pre><span class=\"token number\">9</span>，OSPF的组播地址：</pre></td></tr><tr><td data-num=\"70\"></td><td><pre>    <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>，224.0.0.5</pre></td></tr><tr><td data-num=\"71\"></td><td><pre>\t<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>，224.0.0.6</pre></td></tr><tr><td data-num=\"72\"></td><td><pre>\t<span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span>，DR接收 <span class=\"token number\">224.0</span>.0.6 DRother发送。</pre></td></tr><tr><td data-num=\"73\"></td><td><pre>\t<span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span>，DRother接收 <span class=\"token number\">224.0</span>.0.5 DR发送。</pre></td></tr><tr><td data-num=\"74\"></td><td><pre>\t<span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span>，LSU：路由信息,224.0.0.6就是LSU。</pre></td></tr><tr><td data-num=\"75\"></td><td><pre><span class=\"token number\">10</span>，DRother与DRother之间是two-way。（不传递路由信息）</pre></td></tr><tr><td data-num=\"76\"></td><td><pre><span class=\"token number\">11</span>，two-way与full：</pre></td></tr><tr><td data-num=\"77\"></td><td><pre>    <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>，2way—邻居（不传递路由信息）。</pre></td></tr><tr><td data-num=\"78\"></td><td><pre>\t<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>，full—邻接 （传递所有信息）。</pre></td></tr><tr><td data-num=\"79\"></td><td><pre><span class=\"token number\">12</span>，稳定状态下只能看到Hello包。</pre></td></tr></table></figure><h1 id=\"第二章交换基础\"><a class=\"anchor\" href=\"#第二章交换基础\">#</a> 第二章【交换基础】</h1>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>h</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token number\">1</span>，交换机类型：</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token number\">1</span>，二层交换机。</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\t    二层：可网管，只能配置一个IP，配置一条的静态路由，相对便宜，MAC地址转发。</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\t<span class=\"token number\">2</span>，三层交换机。</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>\t    三层：可以配置ip地址。</pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token number\">2</span>，交换机用芯片转发速度快，路由器用cpu转发速度慢。</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>未完待续<span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span></pre></td></tr></table></figure><h1 id=\"第三章交换机的vlan-trunk\"><a class=\"anchor\" href=\"#第三章交换机的vlan-trunk\">#</a> 第三章【交换机的 VLAN TRUNK】</h1>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>h</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token number\">1</span>，VLAN隔离：切割广播域，同一VALN属于同一广播域。</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token number\">2</span>，默认情况下交换机属于同一VLAN——VLAN1。</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token number\">3</span>，同一VLAN能互发信息，不同VLAN不能。</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token number\">4</span>，VLAN操作流程：</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    交换机接口<span class=\"token punctuation\">(</span>ACCESS接口<span class=\"token punctuation\">)</span>：入方向：打上TAG。 出方向：去掉TAG。</pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token number\">5</span>，ACCESS配置方式：【PK实验】</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token number\">1</span>，新建VLAN：vlan <span class=\"token number\">10</span>。</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token number\">2</span>，查看新建的VLAN：show vlan。</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>\t<span class=\"token number\">3</span>，配置物理接口类型：<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>access：关联vlan，命令:switchport mode access。</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>\t    <span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>trunk:命令：switchport mode trunk。</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>\t<span class=\"token number\">4</span>，物理接口关联vlan10命令：switchport access vlan <span class=\"token number\">10</span>。</pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token number\">6</span>，TRUNK配置方式：【PK实验】</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token number\">1</span>，TRUNK接口模式：Switch<span class=\"token punctuation\">(</span>config-if<span class=\"token punctuation\">)</span><span class=\"token comment\">#switchport mode trunk</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>\t<span class=\"token number\">2</span>，注意：trunk接口两端都要配置！！</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>\t<span class=\"token number\">3</span>，trunk不允许指定vlan <span class=\"token number\">10</span>口通过：Switch<span class=\"token punctuation\">(</span>config-if<span class=\"token punctuation\">)</span><span class=\"token comment\">#switchport trunk allowed </span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>\t    vlan remove  <span class=\"token number\">10</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>\t<span class=\"token number\">4</span>，允许指定接口通过：Switch<span class=\"token punctuation\">(</span>config-if<span class=\"token punctuation\">)</span><span class=\"token comment\">#switchport trunk allowed vlan 10</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>\t<span class=\"token number\">5</span>，允许所有接口通过：Switch<span class=\"token punctuation\">(</span>config-if<span class=\"token punctuation\">)</span><span class=\"token comment\">#switchport trunk allowed vlan all</span></pre></td></tr></table></figure><h1 id=\"第四章单臂路由svi\"><a class=\"anchor\" href=\"#第四章单臂路由svi\">#</a> 第四章【单臂路由 SVI】</h1>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>h</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token number\">1</span>，路由器物理接口：</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    本身是没办法关联VLAN。</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token number\">2</span>，路由器子接口：数据入方向：去TAG，数据出方向：打上TAG。</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token number\">3</span>，单臂路由配置：【PK实验】</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token number\">1</span>，开启物理接口：</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>\t    Router<span class=\"token punctuation\">(</span>config<span class=\"token punctuation\">)</span><span class=\"token comment\">#int g0/0/0</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\t    Router<span class=\"token punctuation\">(</span>config-if<span class=\"token punctuation\">)</span><span class=\"token comment\">#no shutdown</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>\t<span class=\"token number\">2</span>，配置子接口：</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>\t    <span class=\"token number\">1</span>，Router<span class=\"token punctuation\">(</span>config-if<span class=\"token punctuation\">)</span><span class=\"token comment\">#int g0/0/0.1   // 进入子接口</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>\t\t<span class=\"token number\">2</span>，Router<span class=\"token punctuation\">(</span>config-subif<span class=\"token punctuation\">)</span><span class=\"token comment\">#encapsulation dot1Q 10   // 进行封装。</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>\t\t<span class=\"token number\">3</span>，Router<span class=\"token punctuation\">(</span>config-subif<span class=\"token punctuation\">)</span><span class=\"token comment\">#ip address 172.16.10.254 255.255.255.0  </span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>\t\t//配置网段</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>\t\t<span class=\"token number\">4</span>，Router<span class=\"token punctuation\">(</span>config-subif<span class=\"token punctuation\">)</span><span class=\"token comment\">#no shutdown    // 开启接口</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>\t<span class=\"token number\">3</span>，注意：PC机一定要配置默认网关！！！</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>\t<span class=\"token number\">4</span>，具体流程解释：</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>\t    <span class=\"token number\">1</span>，PC1：源地址：172.16.10.2 目的地址：172.16.11.2 不同网段：</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>\t\t发给网关<span class=\"token punctuation\">(</span>路由器的172.16.10.254<span class=\"token punctuation\">)</span>。</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>\t\t<span class=\"token number\">2</span>，交换机：access接口vlan10收到。打上TAG10标签。trunk接口发送出</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>\t\t保留TAG10。</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>\t\t<span class=\"token number\">3</span>，路由器：g0/0/0接收到TAG10，在入方向去掉TAG10。</pre></td></tr><tr><td data-num=\"21\"></td><td><pre>\t\t<span class=\"token number\">4</span>，查询路由表：目的地址172.16.11.2   g0/0/0.2 。g0/0/0.2对应</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>\t\tvlan20，数据发出去打上TAG20。</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>\t\t<span class=\"token number\">5</span>，交换机：trunk接口收到保留TAG20，源：172.16.10.2 目的：</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>\t\t    <span class=\"token number\">172.16</span>.11.2。access VLAN20接口发送出去。</pre></td></tr><tr><td data-num=\"25\"></td><td><pre>\t<span class=\"token number\">5</span>，SVI<span class=\"token punctuation\">(</span>三层交换机使用<span class=\"token punctuation\">)</span>:</pre></td></tr><tr><td data-num=\"26\"></td><td><pre>\t    <span class=\"token number\">1</span>，int  vlan <span class=\"token number\">10</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>\t\t<span class=\"token number\">2</span>，ip addr <span class=\"token number\">172.16</span>.10.1 <span class=\"token number\">255.255</span>.255.0</pre></td></tr><tr><td data-num=\"28\"></td><td><pre>\t\t<span class=\"token number\">3</span>，int vlan <span class=\"token number\">10</span> </pre></td></tr><tr><td data-num=\"29\"></td><td><pre>\t\t<span class=\"token number\">4</span>，ip addr <span class=\"token number\">172.16</span>.11.1 <span class=\"token number\">255.255</span>.255.0</pre></td></tr></table></figure><h1 id=\"第五章生成树\"><a class=\"anchor\" href=\"#第五章生成树\">#</a> 第五章【生成树】</h1>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>h</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token number\">1</span>，什么是冗余：备份，备胎。</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token number\">2</span>，二层环路不可解，三层环路可解<span class=\"token punctuation\">(</span>TTL值为零停止<span class=\"token punctuation\">)</span>。</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token number\">3</span>，生成树<span class=\"token punctuation\">(</span>STP<span class=\"token punctuation\">)</span>解决二层环路。</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token number\">4</span>，生成树有：STP，RSTP，MSTP<span class=\"token punctuation\">(</span>HW默认运行<span class=\"token punctuation\">)</span>，PVST+<span class=\"token punctuation\">(</span>CS默认运行<span class=\"token punctuation\">)</span>，PVRST+。</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>【注：1，2，3，共有的。4，5，私有】</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token number\">1</span>，STP基本了解：</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\t    <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>,ROOT根桥，选举条件:桥ID：由<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>优先级<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>MAC地址组成。</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>\t\t值都是4096的倍数。每台设备都有桥ID。选举条件：桥ID 越小越优先。</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>\t\t各个设备的桥I封装在BPDU里进行发送。</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>\t<span class=\"token number\">2</span>，RP<span class=\"token punctuation\">(</span>根端口<span class=\"token punctuation\">)</span>，选举条件:</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>\t    <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>，COST值：10m <span class=\"token assign-left variable\">cost</span><span class=\"token operator\">=</span><span class=\"token number\">100</span>，100m <span class=\"token assign-left variable\">cost</span><span class=\"token operator\">=</span><span class=\"token number\">19</span>，1000mcost<span class=\"token operator\">=</span><span class=\"token number\">4</span>，</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>\t\t10000m <span class=\"token assign-left variable\">cost</span><span class=\"token operator\">=</span><span class=\"token number\">2</span>。只能 是非ROOT才可以选举！</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>\t\t<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>，发送端的桥ID:越小越优先。</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>\t\t<span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span>，发送端的接口 ID：越小越优先。作用：接收最优的BPDU包。</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>\t\t【注：一台设备只有一个RP】</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>\t<span class=\"token number\">3</span>，DP<span class=\"token punctuation\">(</span>指定端口<span class=\"token punctuation\">)</span>：</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>\t    <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>，作用：发送最优的BPDU包，</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>\t\t<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>，选举条件：1，Cost值，2，桥ID。【注：根桥所有端口都为 DP！】</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>\t<span class=\"token number\">4</span>，NDP<span class=\"token punctuation\">(</span>非指定端口<span class=\"token punctuation\">)</span>：</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>\t    <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>，作用：1，discarding<span class=\"token punctuation\">(</span>阻塞<span class=\"token punctuation\">)</span>，2，阻塞数据转发，3，只能接受BPDU包。</pre></td></tr><tr><td data-num=\"21\"></td><td><pre>\t\t<span class=\"token number\">4</span>，dis到lis需要20s<span class=\"token punctuation\">(</span>dis状态只收不发，lis同时收发<span class=\"token punctuation\">)</span>lis到lea需要15s</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>\t\t<span class=\"token punctuation\">(</span>学习MAC表<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>\t<span class=\"token number\">5</span>，具体状态：</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>\t    <span class=\"token number\">1</span>，DISCARDING状态<span class=\"token punctuation\">(</span>只接收BPDU,不转发数据<span class=\"token punctuation\">)</span>—<span class=\"token operator\">></span>NDP口。</pre></td></tr><tr><td data-num=\"25\"></td><td><pre>\t\t<span class=\"token number\">2</span>，到LISTING状态<span class=\"token punctuation\">(</span>接收和发送BPDU，也不转发数据 <span class=\"token punctuation\">)</span>需要20s。</pre></td></tr><tr><td data-num=\"26\"></td><td><pre>\t\t<span class=\"token number\">3</span>，到LEARNING状态<span class=\"token punctuation\">(</span>接收和发送BPDU，也不转发数据，但学习MAC地址<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>\t\t需要15s。</pre></td></tr><tr><td data-num=\"28\"></td><td><pre>\t\t<span class=\"token number\">4</span>，到FORWARDING状态<span class=\"token punctuation\">(</span>转发数据， <span class=\"token punctuation\">)</span>需要15s。【注：BPDU每2s发送一个】</pre></td></tr><tr><td data-num=\"29\"></td><td><pre>\t\t<span class=\"token number\">5</span>，RP：接收数据包<span class=\"token punctuation\">(</span>BPDU<span class=\"token punctuation\">)</span>，DP：发送数据包<span class=\"token punctuation\">(</span>BPDU<span class=\"token punctuation\">)</span>。</pre></td></tr><tr><td data-num=\"30\"></td><td><pre>\t<span class=\"token number\">6</span>，PC接入到运行 STP交换机<span class=\"token punctuation\">(</span>标准生成树时间为30s<span class=\"token punctuation\">)</span>：从，LIS，LES，FWD共30s。</pre></td></tr><tr><td data-num=\"31\"></td><td><pre>\t<span class=\"token number\">7</span>，PC直连STP交换机可以配置边缘端口<span class=\"token punctuation\">(</span>速度快<span class=\"token punctuation\">)</span>，具体配置如下：</pre></td></tr><tr><td data-num=\"32\"></td><td><pre>\t    <span class=\"token number\">1</span>，HW：</pre></td></tr><tr><td data-num=\"33\"></td><td><pre>\t\tint g0/0/0  stp edged-port enable。</pre></td></tr><tr><td data-num=\"34\"></td><td><pre>\t\t针对全局的access端口开启edge：stp edge-port default。</pre></td></tr><tr><td data-num=\"35\"></td><td><pre>\t\t<span class=\"token number\">2</span>，CSICO：</pre></td></tr><tr><td data-num=\"36\"></td><td><pre>\t\tspanning-tree portfast default</pre></td></tr><tr><td data-num=\"37\"></td><td><pre>\t<span class=\"token number\">8</span>，批量配置端口；</pre></td></tr><tr><td data-num=\"38\"></td><td><pre>\t    <span class=\"token number\">1</span>，HW:</pre></td></tr><tr><td data-num=\"39\"></td><td><pre>\t\tport-group group-number g0/0/0 to g0/0/24。</pre></td></tr><tr><td data-num=\"40\"></td><td><pre>\t\t<span class=\"token number\">2</span>，CISCO:</pre></td></tr><tr><td data-num=\"41\"></td><td><pre>\t\tint ran g0/30 - <span class=\"token number\">48</span> </pre></td></tr><tr><td data-num=\"42\"></td><td><pre>\t<span class=\"token number\">9</span>，Cost新标准：2乘以10的七次方除以带宽<span class=\"token punctuation\">(</span>M<span class=\"token punctuation\">)</span>。</pre></td></tr><tr><td data-num=\"43\"></td><td><pre>\t<span class=\"token number\">10</span>，STP最大缺点：</pre></td></tr><tr><td data-num=\"44\"></td><td><pre>\t    <span class=\"token number\">1</span>，时间慢！！再好的设备也没用。</pre></td></tr><tr><td data-num=\"45\"></td><td><pre>\t    <span class=\"token number\">2</span>，NDP阻塞所有的VLAN，不会只阻塞其中的一个。</pre></td></tr><tr><td data-num=\"46\"></td><td><pre>\t<span class=\"token number\">11</span>，STP配置命令<span class=\"token punctuation\">(</span>HW<span class=\"token punctuation\">)</span>：</pre></td></tr><tr><td data-num=\"47\"></td><td><pre>\t    <span class=\"token number\">1</span>，stp mode stp</pre></td></tr><tr><td data-num=\"48\"></td><td><pre>\t\t<span class=\"token number\">2</span>，stp priority <span class=\"token number\">4096</span>（配置优先级）。【配置简单，理论难】</pre></td></tr></table></figure><h1 id=\"第六章端口聚合\"><a class=\"anchor\" href=\"#第六章端口聚合\">#</a> 第六章【端口聚合】</h1>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>h</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token number\">1</span>，端口聚合：带宽加倍。</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token number\">2</span>，捆绑接口<span class=\"token punctuation\">(</span>以太网捆绑<span class=\"token punctuation\">)</span>：</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token number\">1</span>，把多条线路进行叠加使用。1000*2<span class=\"token operator\">=</span>2000m。</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\t<span class=\"token number\">2</span>，冗余。</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token number\">3</span>，注意：线路最好偶数使用。否则，负载不均等。</pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token number\">4</span>，查看捆绑情况命令<span class=\"token punctuation\">(</span>CISCO<span class=\"token punctuation\">)</span>：sh etherchannel summary。</pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token number\">5</span>，负载方式：</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token number\">1</span>，数据包<span class=\"token punctuation\">(</span>交换接口上使用最多，均等分重组的问题，但线路的快慢会受影响<span class=\"token punctuation\">)</span>。</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>\t<span class=\"token number\">2</span>，数据流<span class=\"token punctuation\">(</span>路由器最多使用，现网使用最多，不均等分，五因素：1，源ip,</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>\t    <span class=\"token number\">2</span>,目的ip，3，源端口，4，目的端口，5，协议号<span class=\"token punctuation\">)</span>。</pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token number\">6</span>，协议：</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token number\">1</span>，动态：LACP<span class=\"token punctuation\">(</span>共有协议<span class=\"token punctuation\">)</span>，PAGP<span class=\"token punctuation\">(</span>思科私有<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>\t<span class=\"token number\">2</span>，静态<span class=\"token punctuation\">(</span>推荐<span class=\"token punctuation\">)</span>：LACP静态。</pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token number\">7</span>，配置命令：</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token number\">1</span>，静态<span class=\"token punctuation\">(</span>CISCO<span class=\"token punctuation\">)</span>：</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>\t    int range g0/1 - <span class=\"token number\">3</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>\t    channel-group <span class=\"token number\">1</span> mode on </pre></td></tr><tr><td data-num=\"18\"></td><td><pre>\t    <span class=\"token function\">shutdown</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>\t    【配置完成生成port <span class=\"token number\">1</span>端口】</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>\t    int port <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>\t    sw mode ac</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>\t    sw acc vlan <span class=\"token number\">10</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>\t【注：两端都配置完成之后再启用接口，防止接口起不来】</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>\t<span class=\"token number\">2</span>，HW配置命令:</pre></td></tr><tr><td data-num=\"25\"></td><td><pre>\t    <span class=\"token function\">clear</span> configuration interface g0/0/1<span class=\"token punctuation\">(</span>清除接口以前的配置<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>\t\tport-group group-member g0/0/1 g0/0/2（要配置的接口）</pre></td></tr><tr><td data-num=\"27\"></td><td><pre>\t\t【注：两端都要配置】</pre></td></tr><tr><td data-num=\"28\"></td><td><pre>\t\tint eth-trunk <span class=\"token number\">1</span>（创建trunk1端口）</pre></td></tr><tr><td data-num=\"29\"></td><td><pre>\t\tint g0/0/1<span class=\"token punctuation\">(</span>加入捆绑口1<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>\t\teth-trunk <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>\t\tint g0/0/2</pre></td></tr><tr><td data-num=\"32\"></td><td><pre>\t\teth-trunk <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre><span class=\"token number\">8</span>，什么是堆叠：</pre></td></tr><tr><td data-num=\"34\"></td><td><pre>    把两台物理设备变为一台设备。二层交换机不能堆叠，</pre></td></tr><tr><td data-num=\"35\"></td><td><pre>\t【注：堆叠+捆绑去STP！！ ！堆叠必须与捆绑在一起使用】</pre></td></tr></table></figure><h1 id=\"第七章首跳冗余协议hsrpvrrp\"><a class=\"anchor\" href=\"#第七章首跳冗余协议hsrpvrrp\">#</a> 第七章【首跳冗余协议 HSRP，VRRP】</h1>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>h</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token number\">1</span>，与冗余有关联。</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token number\">2</span>，冗余概念：</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token number\">1</span>，能通。</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\t<span class=\"token number\">2</span>，故障情况下稳定使用，如：</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>\t    <span class=\"token number\">1</span>，单线路故障<span class=\"token punctuation\">(</span>解决<span class=\"token punctuation\">)</span>——多线路捆绑。</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>\t    <span class=\"token number\">2</span>，单台设备故障<span class=\"token punctuation\">(</span>解决<span class=\"token punctuation\">)</span>——堆叠或VRRP。</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\t\t<span class=\"token number\">3</span>，电源——双电源<span class=\"token punctuation\">(</span>市电，UPS<span class=\"token punctuation\">)</span>。</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token number\">4</span>，服务器<span class=\"token punctuation\">(</span>解决<span class=\"token punctuation\">)</span>——集群<span class=\"token punctuation\">(</span>LB负载均衡器<span class=\"token punctuation\">(</span>分法数据<span class=\"token punctuation\">)</span>。</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>\t\t前端应用<span class=\"token punctuation\">(</span>多台服务器<span class=\"token punctuation\">)</span>，数据库<span class=\"token punctuation\">(</span>主备冗余<span class=\"token punctuation\">)</span>，存储<span class=\"token punctuation\">(</span>阵列，多个磁盘柜<span class=\"token punctuation\">)</span>。</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token number\">5</span>，机房冗余<span class=\"token punctuation\">(</span>解决<span class=\"token punctuation\">)</span>：A机房，B机房。</pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token number\">3</span>，VRRP配置<span class=\"token punctuation\">(</span>HW<span class=\"token punctuation\">)</span>:</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    int vlan <span class=\"token number\">10</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>\tvrrp vrid <span class=\"token number\">1</span> virtual-ip <span class=\"token number\">172.16</span>.10.254</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>\tvrrp vrid  <span class=\"token number\">1</span> priority <span class=\"token number\">101</span><span class=\"token punctuation\">(</span>配置优先级，越大越优先。<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>\t【注】vrid：1，一个网段占用一个vrid。2，虚拟IP的MAC地址是根据vrid生产的。</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>\t查看的命令：dis vrrp brief</pre></td></tr></table></figure><h1 id=\"第八章acl访问控制列表\"><a class=\"anchor\" href=\"#第八章acl访问控制列表\">#</a> 第八章【ACL (访问控制列表)】</h1>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>h</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token number\">1</span>，ACL层面：</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token number\">1</span>，控制层面：路由。</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\t<span class=\"token number\">2</span>，转发层面：数据。</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token number\">2</span>，作用：过滤/抓取数据。</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token number\">3</span>，动作：允许-permit。拒绝-deny。</pre></td></tr></table></figure>",
            "tags": [
                "技术",
                "路由"
            ]
        },
        {
            "id": "https://2memos.xyz/2021/01/10/hello-world/",
            "url": "https://2memos.xyz/2021/01/10/hello-world/",
            "title": "Welcome",
            "date_published": "2021-01-10T12:03:25.104Z",
            "content_html": "<p class=\"rainbow\">Welcome to <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvLw==\">Hexo</span>! This is my second blog post.Author:Ruri Shimotsuki @優萌初華. If you get any problems when using Hexo, you can ask me on <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2pvY2VseW5mbG9yZXNYWFg=\">GitHub</span>.</p>\n",
            "tags": []
        },
        {
            "id": "https://2memos.xyz/2021/01/10/%E5%8D%9A%E5%AE%A2%E8%AE%BE%E7%BD%AE/",
            "url": "https://2memos.xyz/2021/01/10/%E5%8D%9A%E5%AE%A2%E8%AE%BE%E7%BD%AE/",
            "title": "博客设置",
            "date_published": "2021-01-09T21:14:37.000Z",
            "content_html": "<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><h1 id=\"effects-文字特效\"><a class=\"anchor\" href=\"#effects-文字特效\">#</a> effects 文字特效</h1>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>h</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre>++ 下划线 ++</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>++ 波浪线 ++<span class=\"token punctuation\">&#123;</span>.wavy<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>++ 着重点 ++<span class=\"token punctuation\">&#123;</span>.dot<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>++ 紫色下划线 ++<span class=\"token punctuation\">&#123;</span>.primary<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>++ 绿色波浪线 ++<span class=\"token punctuation\">&#123;</span>.wavy .success<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>++ 黄色着重点 ++<span class=\"token punctuation\">&#123;</span>.dot .warning<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>~~ 删除线～～</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>~~ 红色删除线～～<span class=\"token punctuation\">&#123;</span>.danger<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token operator\">==</span> 荧光高亮 <span class=\"token operator\">==</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token punctuation\">[</span>赤橙黄绿青蓝紫<span class=\"token punctuation\">]</span><span class=\"token punctuation\">&#123;</span>.rainbow<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token punctuation\">[</span>红色<span class=\"token punctuation\">]</span><span class=\"token punctuation\">&#123;</span>.red<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token punctuation\">[</span>粉色<span class=\"token punctuation\">]</span><span class=\"token punctuation\">&#123;</span>.pink<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token punctuation\">[</span>橙色<span class=\"token punctuation\">]</span><span class=\"token punctuation\">&#123;</span>.orange<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token punctuation\">[</span>红色<span class=\"token punctuation\">]</span><span class=\"token punctuation\">&#123;</span>.yellow<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token punctuation\">[</span>绿色<span class=\"token punctuation\">]</span><span class=\"token punctuation\">&#123;</span>.green<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token punctuation\">[</span>靛青<span class=\"token punctuation\">]</span><span class=\"token punctuation\">&#123;</span>.aqua<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token punctuation\">[</span>蓝色<span class=\"token punctuation\">]</span><span class=\"token punctuation\">&#123;</span>.blue<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token punctuation\">[</span>紫色<span class=\"token punctuation\">]</span><span class=\"token punctuation\">&#123;</span>.purple<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token punctuation\">[</span>灰色<span class=\"token punctuation\">]</span><span class=\"token punctuation\">&#123;</span>.grey<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>快捷键 <span class=\"token punctuation\">[</span>Ctrl<span class=\"token punctuation\">]</span><span class=\"token punctuation\">&#123;</span>.kbd<span class=\"token punctuation\">&#125;</span> + <span class=\"token punctuation\">[</span>C<span class=\"token punctuation\">]</span><span class=\"token punctuation\">&#123;</span>.kbd .red<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>H~2~0</pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token number\">29</span>^th^</pre></td></tr></table></figure><p><ins>下划线</ins><br>\n<ins class=\"wavy\">波浪线</ins><br>\n<ins class=\"dot\">着重点</ins><br>\n<ins class=\"primary\">紫色下划线</ins><br>\n<ins class=\"wavy success\">绿色波浪线</ins><br>\n<ins class=\"dot warning\">黄色着重点</ins><br>\n<s>删除线</s><br>\n<s class=\"danger\">红色删除线</s><br>\n<mark>荧光高亮</mark><br>\n<span class=\"rainbow\">赤橙黄绿青蓝紫</span><br>\n<span class=\"red\">红色</span><br>\n<span class=\"pink\">粉色</span><br>\n<span class=\"orange\">橙色</span><br>\n<span class=\"yellow\">红色</span><br>\n<span class=\"green\">绿色</span><br>\n<span class=\"aqua\">靛青</span><br>\n<span class=\"blue\">蓝色</span><br>\n<span class=\"purple\">紫色</span><br>\n<span class=\"grey\">灰色</span><br>\n快捷键 <span class=\"kbd\">Ctrl</span> + <span class=\"kbd red\">C</span><br>\nH<sub>2</sub>0<br>\n29<sup>th</sup></p>\n<h1 id=\"spoiler-隐藏文字\"><a class=\"anchor\" href=\"#spoiler-隐藏文字\">#</a> spoiler 隐藏文字</h1>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>h</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token operator\">!</span><span class=\"token operator\">!</span> 黑幕黑幕黑幕黑幕黑幕黑幕！！： 鼠标滑过显示内容</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token operator\">!</span><span class=\"token operator\">!</span> 模糊模糊模糊模糊模糊模糊！！<span class=\"token punctuation\">&#123;</span>.bulr<span class=\"token punctuation\">&#125;</span> ： 选中文字显示内容</pre></td></tr></table></figure><p><span class=\"spoiler\" title=\"你知道得太多了\">黑幕黑幕黑幕黑幕黑幕黑幕</span>：鼠标滑过显示内容<br>\n<span class=\"spoiler bulr\" title=\"你知道得太多了\">模糊模糊模糊模糊模糊模糊</span>：选中文字显示内容</p>\n<h1 id=\"label-标签块\"><a class=\"anchor\" href=\"#label-标签块\">#</a> label 标签块</h1>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>h</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">[</span>default<span class=\"token punctuation\">]</span><span class=\"token punctuation\">&#123;</span>.label<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">[</span>primary<span class=\"token punctuation\">]</span><span class=\"token punctuation\">&#123;</span>.label .primary<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token punctuation\">[</span>info<span class=\"token punctuation\">]</span><span class=\"token punctuation\">&#123;</span>.label .info<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token punctuation\">[</span>:heavy_check_mark:success<span class=\"token punctuation\">]</span><span class=\"token punctuation\">&#123;</span>.label .success<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token punctuation\">[</span>warning<span class=\"token punctuation\">]</span><span class=\"token punctuation\">&#123;</span>.label .warning<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">[</span>:broken_heart:danger<span class=\"token punctuation\">]</span><span class=\"token punctuation\">&#123;</span>.label .danger<span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p><span class=\"label\">default</span><br>\n<span class=\"label primary\">primary</span><br>\n<span class=\"label info\">info</span><br>\n<span class=\"label success\">✔️success</span><br>\n<span class=\"label warning\">warning</span><br>\n<span class=\"label danger\">💔danger</span></p>\n<h1 id=\"note-提醒块\"><a class=\"anchor\" href=\"#note-提醒块\">#</a> note 提醒块</h1>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>h</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre>:::default</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>默认默认</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>:::</pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>:::primary</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>基本基本</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>:::</pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>:::info</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>提示提示</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>:::</pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>:::success</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>成功成功</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>:::</pre></td></tr><tr><td data-num=\"16\"></td><td><pre></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>:::warning</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>警告警告</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>:::</pre></td></tr><tr><td data-num=\"20\"></td><td><pre></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>:::danger</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>危险危险</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>:::</pre></td></tr><tr><td data-num=\"24\"></td><td><pre></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>:::danger no-icon</pre></td></tr><tr><td data-num=\"26\"></td><td><pre>危险危险</pre></td></tr><tr><td data-num=\"27\"></td><td><pre>:::</pre></td></tr></table></figure><div class=\"note default\">\n<p>默认默认</p>\n</div>\n<div class=\"note primary\">\n<p>基本基本</p>\n</div>\n<div class=\"note info\">\n<p>提示提示</p>\n</div>\n<div class=\"note success\">\n<p>成功成功</p>\n</div>\n<div class=\"note warning\">\n<p>警告警告</p>\n</div>\n<div class=\"note danger\">\n<p>危险危险</p>\n</div>\n<div class=\"note danger no-icon\">\n<p>危险危险</p>\n</div>\n<h1 id=\"collapse-折叠块\"><a class=\"anchor\" href=\"#collapse-折叠块\">#</a> collapse 折叠块</h1>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>h</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre>+++ 默认默认 这里是一段文字</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>++ 下划线 ++</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>+++</pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>+++primary 紫色</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>:::info</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>参考信息</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>:::</pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>- 第一行</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>- 第二行</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>+++</pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>+++info  蓝色</pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token punctuation\">;</span><span class=\"token punctuation\">;</span><span class=\"token punctuation\">;</span>id3 卡片 <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>这里是卡片 <span class=\"token number\">1</span> 的内容</pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token punctuation\">;</span><span class=\"token punctuation\">;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token punctuation\">;</span><span class=\"token punctuation\">;</span><span class=\"token punctuation\">;</span>id3 卡片 <span class=\"token number\">2</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>这里是卡片 <span class=\"token number\">2</span> 的内容</pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token punctuation\">;</span><span class=\"token punctuation\">;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>+++</pre></td></tr><tr><td data-num=\"23\"></td><td><pre></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>+++success 绿色</pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span>--swig￼0--<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>+++</pre></td></tr><tr><td data-num=\"27\"></td><td><pre></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>+++warning 黄色</pre></td></tr><tr><td data-num=\"29\"></td><td><pre><span class=\"token operator\">!</span><span class=\"token operator\">!</span> 警告警告警告警告警告！！<span class=\"token punctuation\">&#123;</span>.bulr<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre><span class=\"token punctuation\">[</span>label<span class=\"token punctuation\">]</span><span class=\"token punctuation\">&#123;</span>.label .success<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>+++</pre></td></tr><tr><td data-num=\"32\"></td><td><pre></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>+++danger 红色</pre></td></tr><tr><td data-num=\"34\"></td><td><pre><span class=\"token punctuation\">[</span>danger<span class=\"token punctuation\">]</span><span class=\"token punctuation\">&#123;</span>.label .danger<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>+++</pre></td></tr></table></figure><details><summary>默认默认 这里是一段文字</summary><div>\n<p>++ 下划线 ++</p>\n</div></details>\n<details class=\"primary\"><summary>紫色</summary><div>\n<div class=\"note info\">\n<p>参考信息</p>\n</div>\n<ul>\n<li>第一行</li>\n<li>第二行</li>\n</ul>\n</div></details>\n<details class=\"info\"><summary>蓝色</summary><div>\n<div class=\"tab\" data-id=\"id3\" data-title=\"卡片 1\">\n<p>这里是卡片 1 的内容</p>\n</div>\n<div class=\"tab\" data-id=\"id3\" data-title=\"卡片 2\">\n<p>这里是卡片 2 的内容</p>\n</div>\n</div></details>\n<details class=\"success\"><summary>绿色</summary><div>\n<p><div class=\"links\"><div class=\"item\" title=\"優萌初華\" style=\"--block-color:#e9546b;\"><a href=\"https://2memos.xyz/\" class=\"image\" data-background-image=\"/images/404.png\"></a>\n          <div class=\"info\">\n          <a href=\"https://2memos.xyz/\" class=\"title\">優萌初華</a>\n          <p class=\"desc\">https://2memos.xyz/</p>\n          </div></div></div></p>\n</div></details>\n<details class=\"warning\"><summary>黄色</summary><div>\n<p>!! 警告警告警告警告警告！！{.bulr}<br>\n<span class=\"label success\">label</span></p>\n</div></details>\n<details class=\"danger\"><summary>红色</summary><div>\n<p><span class=\"label danger\">danger</span></p>\n</div></details>\n<h1 id=\"tasklist-待办事项\"><a class=\"anchor\" href=\"#tasklist-待办事项\">#</a> taskList 待办事项</h1>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>h</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre>- <span class=\"token punctuation\">[</span> <span class=\"token punctuation\">]</span> 这是一个小叉叉</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>- <span class=\"token punctuation\">[</span>x<span class=\"token punctuation\">]</span> 这是一个红色勾勾</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token punctuation\">&#123;</span>.danger<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>- <span class=\"token punctuation\">[</span> <span class=\"token punctuation\">]</span> 未完成</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>- <span class=\"token punctuation\">[</span>x<span class=\"token punctuation\">]</span> 完成</pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token punctuation\">&#123;</span>.primary<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>- <span class=\"token punctuation\">[</span> <span class=\"token punctuation\">]</span> 未完成</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>- <span class=\"token punctuation\">[</span>x<span class=\"token punctuation\">]</span> 默认颜色</pre></td></tr></table></figure><ul class=\"task-list danger\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_0\" disabled=\"true\"><label for=\"cbx_0\"> 这是一个小叉叉</label></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_1\" checked=\"true\" disabled=\"true\"><label for=\"cbx_1\"> 这是一个红色勾勾</label></li>\n</ul>\n<ul class=\"task-list primary\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_2\" disabled=\"true\"><label for=\"cbx_2\"> 未完成</label></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_3\" checked=\"true\" disabled=\"true\"><label for=\"cbx_3\"> 完成</label></li>\n</ul>\n<ul class=\"task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_4\" disabled=\"true\"><label for=\"cbx_4\"> 未完成</label></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_5\" checked=\"true\" disabled=\"true\"><label for=\"cbx_5\"> 默认颜色</label></li>\n</ul>\n",
            "tags": []
        }
    ]
}