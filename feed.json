{
    "version": "https://jsonfeed.org/version/1",
    "title": "WE",
    "subtitle": "",
    "icon": "https://2memos.xyz/images/favicon.ico",
    "description": "",
    "home_page_url": "https://2memos.xyz",
    "items": [
        {
            "id": "https://2memos.xyz/2021/01/14/%E6%B7%B1%E4%BF%A1%E6%9C%8DSCSA/",
            "url": "https://2memos.xyz/2021/01/14/%E6%B7%B1%E4%BF%A1%E6%9C%8DSCSA/",
            "title": "深信服SCSA",
            "date_published": "2021-01-14T12:46:30.884Z",
            "content_html": "<h1 id=\"第一章信息安全概念\"><a class=\"anchor\" href=\"#第一章信息安全概念\">#</a> 第一章【信息安全概念】</h1>\n<ul>\n<li>\n<p><strong>安全概念与网络层攻击：</strong><br>\n1，信息安全：通过采用<em><strong>软硬件技术，网络技术，密钥技术</strong></em>等安全技术和各种组织管理措施，来保护信息在其生命周期内的产生，传输，交换，处理和存储的各个环节中，信息的<em><strong>机密性，完整性和可用性</strong></em>不被破环。<br>\n2，信息安全四个阶段：<em><strong>1，通信保密阶段。2，计算机安全阶段。3，信息技术安全阶段。4，信息保障阶段。</strong></em><br>\n3，信息安全五要素：<em><strong>保密性，完整性，可用性，可控性，不可否认性。</strong></em><br>\n4，五要素具体介绍：</p>\n<ul>\n<li>保密性：确保信息不暴露给未授权的实体或进程。目的：即使信息被窃听或者截获，攻击者也无法知晓信息的真实内容，可以对抗网络攻击中的被动攻击。通过加密技术保障信息的保密性。</li>\n<li>完整性：只有得到允许的人才能修改实体或进程，并且能够判别出实体或进程是否以被修改。完整性鉴别机制，保障只有允许的人才能修改数据，可以防篡改。靠 HASH。</li>\n<li>可用性：得到授权的实体可获得服务，用访问控制机制，阻止非授权用户进入网络，使静态・信息可见，动态信息可操作，防止业务突然中断。</li>\n<li>可控性：对信息进行监视审查，实现对网络资源及信息的可控性。</li>\n<li>不可否认性：对出现的安全问题提供调查的依据和手段，使用审计，监控，防抵赖等安全机制，实现信息安全法的可审查性。</li>\n</ul>\n</li>\n<li>\n<p><strong>应用层攻击防护：</strong></p>\n</li>\n</ul>\n<h1 id=\"第二章数据传输安全\"><a class=\"anchor\" href=\"#第二章数据传输安全\">#</a> 第二章【数据传输安全】</h1>\n<ul>\n<li>\n<p><strong>VPN 技术概念：</strong></p>\n</li>\n<li>\n<p><strong>IPSec 协议详解：</strong></p>\n</li>\n<li>\n<p><strong>IPSec VPN 解决方案：</strong></p>\n</li>\n<li>\n<p><strong>SANGFOR VPN 解决方案：</strong></p>\n</li>\n</ul>\n<h1 id=\"第三章上网行为安全\"><a class=\"anchor\" href=\"#第三章上网行为安全\">#</a> 第三章【上网行为安全】</h1>\n<ul>\n<li>\n<p><strong>AC 概念与部署：</strong></p>\n</li>\n<li>\n<p><strong>用户认证技术：</strong></p>\n</li>\n<li>\n<p><strong>应用控制技术：</strong></p>\n</li>\n<li>\n<p><strong>终端与流量管理：</strong></p>\n</li>\n<li>\n<p><strong>审计与 BA 部署：</strong></p>\n</li>\n<li>\n<p><strong>全网行为管理：</strong></p>\n</li>\n<li>\n<p><strong>AC 知识串讲：</strong></p>\n</li>\n</ul>\n<h1 id=\"第四章网络边界安全\"><a class=\"anchor\" href=\"#第四章网络边界安全\">#</a> 第四章【网络边界安全】</h1>\n<ul>\n<li>\n<p><strong>NGAF 概述与组网方案：</strong></p>\n</li>\n<li>\n<p><strong>终端安全检测和防御技术：</strong></p>\n</li>\n<li>\n<p><strong>服务器安全检测和防御技术：</strong></p>\n</li>\n<li>\n<p><strong>安全评估与动态检测技术：</strong></p>\n</li>\n</ul>\n<h1 id=\"第五章移动接入安全\"><a class=\"anchor\" href=\"#第五章移动接入安全\">#</a> 第五章【移动接入安全】</h1>\n<ul>\n<li><strong>移动接入方案概述：</strong></li>\n<li><strong>移动接入身份认证技术：</strong></li>\n<li><strong>资源发布与安全接入策略：</strong></li>\n</ul>\n<h1 id=\"第六章终端安全\"><a class=\"anchor\" href=\"#第六章终端安全\">#</a> 第六章【终端安全】</h1>\n<ul>\n<li><strong>EDR 部署与终端管理：</strong></li>\n<li><strong>EDR 策略配置及联动管理：</strong></li>\n<li><strong>EDR 知识串讲：</strong></li>\n</ul>\n<h1 id=\"第七章网络安全可视\"><a class=\"anchor\" href=\"#第七章网络安全可视\">#</a> 第七章【网络安全可视】</h1>\n<ul>\n<li><strong>态势感知概述与 SIP 部署：</strong></li>\n<li><strong>SIP 功能介绍与配置：</strong></li>\n</ul>\n",
            "tags": [
                "技术",
                "深信服"
            ]
        },
        {
            "id": "https://2memos.xyz/2021/01/13/%E8%B7%AF%E7%94%B1%E6%9D%BF%E5%9D%97/",
            "url": "https://2memos.xyz/2021/01/13/%E8%B7%AF%E7%94%B1%E6%9D%BF%E5%9D%97/",
            "title": "路由板块",
            "date_published": "2021-01-13T11:00:25.975Z",
            "content_html": "<h1 id=\"第一章ospf\"><a class=\"anchor\" href=\"#第一章ospf\">#</a> 第一章【OSPF】</h1>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>h</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre>OSPF【开放最短路径优先】（现网使用最多）【注：OSPF查看RFC2328文档】</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token number\">1</span>：动态路由协议分为：</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    距离矢量路由协议<span class=\"token punctuation\">(</span>RIP,EIGRP,BGP<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    链路状态路由协议<span class=\"token punctuation\">(</span>OSPF,ISIS<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token number\">2</span>，基础：管理距离<span class=\"token punctuation\">(</span>AD<span class=\"token punctuation\">)</span>:【注】管理距离不会传递，值越小越优</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    CISCO的AD值<span class=\"token punctuation\">[</span>ospf:110  static:1<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    HW的AD值<span class=\"token punctuation\">[</span>ospf:10 static:60<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token number\">3</span>，度量值：Metric【ospf用cosf来表示，并且ospf只用带宽来表示，值<span class=\"token operator\">=</span><span class=\"token number\">100</span>除以带宽<span class=\"token punctuation\">(</span>M<span class=\"token punctuation\">)</span>】</pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>，cost计算方法：路由收接口进行累加，<span class=\"token punctuation\">(</span>可以手动调,在收接口）</pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>cost：E口<span class=\"token operator\">=</span>10m，F口<span class=\"token operator\">=</span>100m，G口<span class=\"token operator\">=</span>1000m，TEN <span class=\"token assign-left variable\">G</span><span class=\"token operator\">=</span>10000m，S<span class=\"token operator\">=</span><span class=\"token number\">1</span>.544m <span class=\"token assign-left variable\">cost</span><span class=\"token operator\">=</span><span class=\"token number\">100</span>/1.544<span class=\"token operator\">=</span><span class=\"token number\">64</span>【注国内S<span class=\"token operator\">=</span>2m】</pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token number\">100</span>/带宽<span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">)</span>：其中100可以修改，命令：bandwidth-reference <span class=\"token number\">10000</span>。</pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token number\">4</span>，OSPF报文类型：</pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>，hello：建立<span class=\"token punctuation\">(</span>同区域，同网段<span class=\"token punctuation\">)</span>和维护<span class=\"token punctuation\">(</span>周期性发送，10s一次，40s超时，1800s重新泛洪，</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    3600s路由丢失<span class=\"token punctuation\">)</span>OSPF邻居关系。</pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>，DBD：链路状态数据库描述信息<span class=\"token punctuation\">(</span>描述LSDB中LSA头部的信息<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span>，LSR：链路状态请求<span class=\"token punctuation\">(</span>DBD中对应的路由信息<span class=\"token punctuation\">)</span>,向OSPF邻居请求链路状态信息。</pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span>，LSU：链路状态更新<span class=\"token punctuation\">(</span>发送路由信息<span class=\"token punctuation\">)</span>（包含一条或多条LSA）</pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span>，LSACK：链路状态确认包，对LSU中的LSA进行确认。</pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token number\">5</span>，OSPF区域：</pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>，骨干区域：area0<span class=\"token punctuation\">(</span>不能修改<span class=\"token punctuation\">)</span>。</pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>，非骨干区域；arother<span class=\"token punctuation\">(</span>可以修改<span class=\"token punctuation\">)</span>。</pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token number\">6</span>，OSPF的三张表：</pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>，邻居表；建立的邻居关系如何。查看：show <span class=\"token function\">ip</span> ospf neighbor。</pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>，拓扑表；所有有关OSPF传递过来的信息。查看：show <span class=\"token function\">ip</span> ospf database。</pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span>，路由表；使能的路由加入表项。 查看：show <span class=\"token function\">ip</span> route ospf。</pre></td></tr><tr><td data-num=\"26\"></td><td><pre><span class=\"token number\">7</span>，OSPF区域的配置<span class=\"token punctuation\">(</span>PK实验步骤<span class=\"token punctuation\">)</span>：</pre></td></tr><tr><td data-num=\"27\"></td><td><pre>R1：</pre></td></tr><tr><td data-num=\"28\"></td><td><pre>Router<span class=\"token punctuation\">(</span>config<span class=\"token punctuation\">)</span><span class=\"token comment\">#router ospf 1   &lt;1 代表进程，不同的进程相对独立 ></span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>Router<span class=\"token punctuation\">(</span>config-router<span class=\"token punctuation\">)</span><span class=\"token comment\">#network 172.16.12.0 0.0.0.255 area 1   &lt; 配置网段，反掩码，和区域 1></span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>R2：</pre></td></tr><tr><td data-num=\"31\"></td><td><pre>Router<span class=\"token punctuation\">(</span>config<span class=\"token punctuation\">)</span><span class=\"token comment\">#router ospf 1</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>Router<span class=\"token punctuation\">(</span>config-router<span class=\"token punctuation\">)</span><span class=\"token comment\">#network 172.16.12.0 0.0.0.255 area 1</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>Router<span class=\"token punctuation\">(</span>config-router<span class=\"token punctuation\">)</span><span class=\"token comment\">#network 172.16.23.0 0.0.0.255 area 0</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>R3：</pre></td></tr><tr><td data-num=\"35\"></td><td><pre>Router<span class=\"token punctuation\">(</span>config<span class=\"token punctuation\">)</span><span class=\"token comment\">#router ospf 1</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>Router<span class=\"token punctuation\">(</span>config-router<span class=\"token punctuation\">)</span><span class=\"token comment\">#network 172.16.23.0 0.0.0.255 area 0</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>Router<span class=\"token punctuation\">(</span>config-router<span class=\"token punctuation\">)</span><span class=\"token comment\">#network 172.16.34.0 0.0.0.255 area 2</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>R4：</pre></td></tr><tr><td data-num=\"39\"></td><td><pre>Router<span class=\"token punctuation\">(</span>config<span class=\"token punctuation\">)</span><span class=\"token comment\">#router ospf 1</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>Router<span class=\"token punctuation\">(</span>config-router<span class=\"token punctuation\">)</span><span class=\"token comment\">#network 172.16.34.0 0.0.0.255 area 2</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>验证：</pre></td></tr><tr><td data-num=\"42\"></td><td><pre>Router<span class=\"token comment\">#show ip ospf neighbor（查看邻居）</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>此时R1能ping通R4（由于OSPF的自动学习）</pre></td></tr><tr><td data-num=\"44\"></td><td><pre>思考：为什么能通？——》有路由<span class=\"token punctuation\">(</span>为什么?<span class=\"token punctuation\">)</span>——》建立邻居关系<span class=\"token punctuation\">(</span>为什么?<span class=\"token punctuation\">)</span>——》邻居表正常<span class=\"token punctuation\">(</span>为什么?<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>    - ——》宣告配置没问题。</pre></td></tr><tr><td data-num=\"46\"></td><td><pre><span class=\"token number\">8</span>，OSPF建立邻居的过程：七种状态 【注，重置进程命令：clear <span class=\"token function\">ip</span> ospf process】</pre></td></tr><tr><td data-num=\"47\"></td><td><pre><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>，down：</pre></td></tr><tr><td data-num=\"48\"></td><td><pre>    <span class=\"token number\">1</span>，没有宣告。</pre></td></tr><tr><td data-num=\"49\"></td><td><pre>    <span class=\"token number\">2</span>，接口down。</pre></td></tr><tr><td data-num=\"50\"></td><td><pre><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>，init<span class=\"token punctuation\">(</span>初始化<span class=\"token punctuation\">)</span>：</pre></td></tr><tr><td data-num=\"51\"></td><td><pre>    <span class=\"token number\">1</span>，互发hello包。</pre></td></tr><tr><td data-num=\"52\"></td><td><pre>    <span class=\"token number\">2</span>，router-id：标识对方设备在ospf中的名称。</pre></td></tr><tr><td data-num=\"53\"></td><td><pre>    router-id如何选举：（1）手动（命令：router-id <span class=\"token number\">2.2</span>.2.2）。</pre></td></tr><tr><td data-num=\"54\"></td><td><pre>    （2）逻辑接口IP地址最大<span class=\"token punctuation\">(</span>环回口<span class=\"token punctuation\">)</span>。（3）物理接口IP地址最大。</pre></td></tr><tr><td data-num=\"55\"></td><td><pre>    <span class=\"token number\">3</span>，跳转条件：设备之间了解了对方的router-id。</pre></td></tr><tr><td data-num=\"56\"></td><td><pre><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span>，two-way：</pre></td></tr><tr><td data-num=\"57\"></td><td><pre>    <span class=\"token number\">1</span>， 选举DR，【注：DR不抢占。】</pre></td></tr><tr><td data-num=\"58\"></td><td><pre>\t<span class=\"token number\">2</span>，DR概念：DR指定路由器，收集同一广播域其他DRother路由信息，进行打包发送。</pre></td></tr><tr><td data-num=\"59\"></td><td><pre>\t<span class=\"token number\">3</span>，选举过程：（1）DR优先级：越大越优<span class=\"token punctuation\">(</span>默认为1，为0时不参与选举，范围0-255<span class=\"token punctuation\">)</span>。</pre></td></tr><tr><td data-num=\"60\"></td><td><pre>\t    【注：优先级0的配置命令：ip ospf priority <span class=\"token number\">0</span>】</pre></td></tr><tr><td data-num=\"61\"></td><td><pre>        <span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>  Router-id:越大越优。</pre></td></tr><tr><td data-num=\"62\"></td><td><pre>\t<span class=\"token number\">4</span>，DR选举很慢，10-30s。</pre></td></tr><tr><td data-num=\"63\"></td><td><pre>\t<span class=\"token number\">5</span>，优化：ip ospf network point-to-point<span class=\"token punctuation\">(</span>两端同时配置<span class=\"token punctuation\">)</span> 配置为点对点，</pre></td></tr><tr><td data-num=\"64\"></td><td><pre>\t    不会选举DR。</pre></td></tr><tr><td data-num=\"65\"></td><td><pre><span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span>，exstart</pre></td></tr><tr><td data-num=\"66\"></td><td><pre><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span>，exchange</pre></td></tr><tr><td data-num=\"67\"></td><td><pre><span class=\"token punctuation\">(</span><span class=\"token number\">6</span><span class=\"token punctuation\">)</span>，loading</pre></td></tr><tr><td data-num=\"68\"></td><td><pre><span class=\"token punctuation\">(</span><span class=\"token number\">7</span><span class=\"token punctuation\">)</span>，full（最稳定）</pre></td></tr><tr><td data-num=\"69\"></td><td><pre><span class=\"token number\">9</span>，OSPF的组播地址：</pre></td></tr><tr><td data-num=\"70\"></td><td><pre>    <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>，224.0.0.5</pre></td></tr><tr><td data-num=\"71\"></td><td><pre>\t<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>，224.0.0.6</pre></td></tr><tr><td data-num=\"72\"></td><td><pre>\t<span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span>，DR接收 <span class=\"token number\">224.0</span>.0.6 DRother发送。</pre></td></tr><tr><td data-num=\"73\"></td><td><pre>\t<span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span>，DRother接收 <span class=\"token number\">224.0</span>.0.5 DR发送。</pre></td></tr><tr><td data-num=\"74\"></td><td><pre>\t<span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span>，LSU：路由信息,224.0.0.6就是LSU。</pre></td></tr><tr><td data-num=\"75\"></td><td><pre><span class=\"token number\">10</span>，DRother与DRother之间是two-way。（不传递路由信息）</pre></td></tr><tr><td data-num=\"76\"></td><td><pre><span class=\"token number\">11</span>，two-way与full：</pre></td></tr><tr><td data-num=\"77\"></td><td><pre>    <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>，2way—邻居（不传递路由信息）。</pre></td></tr><tr><td data-num=\"78\"></td><td><pre>\t<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>，full—邻接 （传递所有信息）。</pre></td></tr><tr><td data-num=\"79\"></td><td><pre><span class=\"token number\">12</span>，稳定状态下只能看到Hello包。</pre></td></tr></table></figure><h1 id=\"第二章交换基础\"><a class=\"anchor\" href=\"#第二章交换基础\">#</a> 第二章【交换基础】</h1>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>h</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token number\">1</span>，交换机类型：</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token number\">1</span>，二层交换机。</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\t    二层：可网管，只能配置一个IP，配置一条的静态路由，相对便宜，MAC地址转发。</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\t<span class=\"token number\">2</span>，三层交换机。</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>\t    三层：可以配置ip地址。</pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token number\">2</span>，交换机用芯片转发速度快，路由器用cpu转发速度慢。</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>未完待续<span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span></pre></td></tr></table></figure><h1 id=\"第三章交换机的vlan-trunk\"><a class=\"anchor\" href=\"#第三章交换机的vlan-trunk\">#</a> 第三章【交换机的 VLAN TRUNK】</h1>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>h</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token number\">1</span>，VLAN隔离：切割广播域，同一VALN属于同一广播域。</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token number\">2</span>，默认情况下交换机属于同一VLAN——VLAN1。</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token number\">3</span>，同一VLAN能互发信息，不同VLAN不能。</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token number\">4</span>，VLAN操作流程：</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    交换机接口<span class=\"token punctuation\">(</span>ACCESS接口<span class=\"token punctuation\">)</span>：入方向：打上TAG。 出方向：去掉TAG。</pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token number\">5</span>，ACCESS配置方式：【PK实验】</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token number\">1</span>，新建VLAN：vlan <span class=\"token number\">10</span>。</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token number\">2</span>，查看新建的VLAN：show vlan。</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>\t<span class=\"token number\">3</span>，配置物理接口类型：<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>access：关联vlan，命令:switchport mode access。</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>\t    <span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>trunk:命令：switchport mode trunk。</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>\t<span class=\"token number\">4</span>，物理接口关联vlan10命令：switchport access vlan <span class=\"token number\">10</span>。</pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token number\">6</span>，TRUNK配置方式：【PK实验】</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token number\">1</span>，TRUNK接口模式：Switch<span class=\"token punctuation\">(</span>config-if<span class=\"token punctuation\">)</span><span class=\"token comment\">#switchport mode trunk</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>\t<span class=\"token number\">2</span>，注意：trunk接口两端都要配置！！</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>\t<span class=\"token number\">3</span>，trunk不允许指定vlan <span class=\"token number\">10</span>口通过：Switch<span class=\"token punctuation\">(</span>config-if<span class=\"token punctuation\">)</span><span class=\"token comment\">#switchport trunk allowed </span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>\t    vlan remove  <span class=\"token number\">10</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>\t<span class=\"token number\">4</span>，允许指定接口通过：Switch<span class=\"token punctuation\">(</span>config-if<span class=\"token punctuation\">)</span><span class=\"token comment\">#switchport trunk allowed vlan 10</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>\t<span class=\"token number\">5</span>，允许所有接口通过：Switch<span class=\"token punctuation\">(</span>config-if<span class=\"token punctuation\">)</span><span class=\"token comment\">#switchport trunk allowed vlan all</span></pre></td></tr></table></figure><h1 id=\"第四章单臂路由svi\"><a class=\"anchor\" href=\"#第四章单臂路由svi\">#</a> 第四章【单臂路由 SVI】</h1>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>h</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token number\">1</span>，路由器物理接口：</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    本身是没办法关联VLAN。</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token number\">2</span>，路由器子接口：数据入方向：去TAG，数据出方向：打上TAG。</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token number\">3</span>，单臂路由配置：【PK实验】</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token number\">1</span>，开启物理接口：</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>\t    Router<span class=\"token punctuation\">(</span>config<span class=\"token punctuation\">)</span><span class=\"token comment\">#int g0/0/0</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\t    Router<span class=\"token punctuation\">(</span>config-if<span class=\"token punctuation\">)</span><span class=\"token comment\">#no shutdown</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>\t<span class=\"token number\">2</span>，配置子接口：</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>\t    <span class=\"token number\">1</span>，Router<span class=\"token punctuation\">(</span>config-if<span class=\"token punctuation\">)</span><span class=\"token comment\">#int g0/0/0.1   // 进入子接口</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>\t\t<span class=\"token number\">2</span>，Router<span class=\"token punctuation\">(</span>config-subif<span class=\"token punctuation\">)</span><span class=\"token comment\">#encapsulation dot1Q 10   // 进行封装。</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>\t\t<span class=\"token number\">3</span>，Router<span class=\"token punctuation\">(</span>config-subif<span class=\"token punctuation\">)</span><span class=\"token comment\">#ip address 172.16.10.254 255.255.255.0  </span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>\t\t//配置网段</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>\t\t<span class=\"token number\">4</span>，Router<span class=\"token punctuation\">(</span>config-subif<span class=\"token punctuation\">)</span><span class=\"token comment\">#no shutdown    // 开启接口</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>\t<span class=\"token number\">3</span>，注意：PC机一定要配置默认网关！！！</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>\t<span class=\"token number\">4</span>，具体流程解释：</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>\t    <span class=\"token number\">1</span>，PC1：源地址：172.16.10.2 目的地址：172.16.11.2 不同网段：</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>\t\t发给网关<span class=\"token punctuation\">(</span>路由器的172.16.10.254<span class=\"token punctuation\">)</span>。</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>\t\t<span class=\"token number\">2</span>，交换机：access接口vlan10收到。打上TAG10标签。trunk接口发送出</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>\t\t保留TAG10。</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>\t\t<span class=\"token number\">3</span>，路由器：g0/0/0接收到TAG10，在入方向去掉TAG10。</pre></td></tr><tr><td data-num=\"21\"></td><td><pre>\t\t<span class=\"token number\">4</span>，查询路由表：目的地址172.16.11.2   g0/0/0.2 。g0/0/0.2对应</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>\t\tvlan20，数据发出去打上TAG20。</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>\t\t<span class=\"token number\">5</span>，交换机：trunk接口收到保留TAG20，源：172.16.10.2 目的：</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>\t\t    <span class=\"token number\">172.16</span>.11.2。access VLAN20接口发送出去。</pre></td></tr><tr><td data-num=\"25\"></td><td><pre>\t<span class=\"token number\">5</span>，SVI<span class=\"token punctuation\">(</span>三层交换机使用<span class=\"token punctuation\">)</span>:</pre></td></tr><tr><td data-num=\"26\"></td><td><pre>\t    <span class=\"token number\">1</span>，int  vlan <span class=\"token number\">10</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>\t\t<span class=\"token number\">2</span>，ip addr <span class=\"token number\">172.16</span>.10.1 <span class=\"token number\">255.255</span>.255.0</pre></td></tr><tr><td data-num=\"28\"></td><td><pre>\t\t<span class=\"token number\">3</span>，int vlan <span class=\"token number\">10</span> </pre></td></tr><tr><td data-num=\"29\"></td><td><pre>\t\t<span class=\"token number\">4</span>，ip addr <span class=\"token number\">172.16</span>.11.1 <span class=\"token number\">255.255</span>.255.0</pre></td></tr></table></figure><h1 id=\"第五章生成树\"><a class=\"anchor\" href=\"#第五章生成树\">#</a> 第五章【生成树】</h1>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>h</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token number\">1</span>，什么是冗余：备份，备胎。</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token number\">2</span>，二层环路不可解，三层环路可解<span class=\"token punctuation\">(</span>TTL值为零停止<span class=\"token punctuation\">)</span>。</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token number\">3</span>，生成树<span class=\"token punctuation\">(</span>STP<span class=\"token punctuation\">)</span>解决二层环路。</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token number\">4</span>，生成树有：STP，RSTP，MSTP<span class=\"token punctuation\">(</span>HW默认运行<span class=\"token punctuation\">)</span>，PVST+<span class=\"token punctuation\">(</span>CS默认运行<span class=\"token punctuation\">)</span>，PVRST+。</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>【注：1，2，3，共有的。4，5，私有】</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token number\">1</span>，STP基本了解：</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\t    <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>,ROOT根桥，选举条件:桥ID：由<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>优先级<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>MAC地址组成。</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>\t\t值都是4096的倍数。每台设备都有桥ID。选举条件：桥ID 越小越优先。</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>\t\t各个设备的桥I封装在BPDU里进行发送。</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>\t<span class=\"token number\">2</span>，RP<span class=\"token punctuation\">(</span>根端口<span class=\"token punctuation\">)</span>，选举条件:</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>\t    <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>，COST值：10m <span class=\"token assign-left variable\">cost</span><span class=\"token operator\">=</span><span class=\"token number\">100</span>，100m <span class=\"token assign-left variable\">cost</span><span class=\"token operator\">=</span><span class=\"token number\">19</span>，1000mcost<span class=\"token operator\">=</span><span class=\"token number\">4</span>，</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>\t\t10000m <span class=\"token assign-left variable\">cost</span><span class=\"token operator\">=</span><span class=\"token number\">2</span>。只能 是非ROOT才可以选举！</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>\t\t<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>，发送端的桥ID:越小越优先。</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>\t\t<span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span>，发送端的接口 ID：越小越优先。作用：接收最优的BPDU包。</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>\t\t【注：一台设备只有一个RP】</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>\t<span class=\"token number\">3</span>，DP<span class=\"token punctuation\">(</span>指定端口<span class=\"token punctuation\">)</span>：</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>\t    <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>，作用：发送最优的BPDU包，</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>\t\t<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>，选举条件：1，Cost值，2，桥ID。【注：根桥所有端口都为 DP！】</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>\t<span class=\"token number\">4</span>，NDP<span class=\"token punctuation\">(</span>非指定端口<span class=\"token punctuation\">)</span>：</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>\t    <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>，作用：1，discarding<span class=\"token punctuation\">(</span>阻塞<span class=\"token punctuation\">)</span>，2，阻塞数据转发，3，只能接受BPDU包。</pre></td></tr><tr><td data-num=\"21\"></td><td><pre>\t\t<span class=\"token number\">4</span>，dis到lis需要20s<span class=\"token punctuation\">(</span>dis状态只收不发，lis同时收发<span class=\"token punctuation\">)</span>lis到lea需要15s</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>\t\t<span class=\"token punctuation\">(</span>学习MAC表<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>\t<span class=\"token number\">5</span>，具体状态：</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>\t    <span class=\"token number\">1</span>，DISCARDING状态<span class=\"token punctuation\">(</span>只接收BPDU,不转发数据<span class=\"token punctuation\">)</span>—<span class=\"token operator\">></span>NDP口。</pre></td></tr><tr><td data-num=\"25\"></td><td><pre>\t\t<span class=\"token number\">2</span>，到LISTING状态<span class=\"token punctuation\">(</span>接收和发送BPDU，也不转发数据 <span class=\"token punctuation\">)</span>需要20s。</pre></td></tr><tr><td data-num=\"26\"></td><td><pre>\t\t<span class=\"token number\">3</span>，到LEARNING状态<span class=\"token punctuation\">(</span>接收和发送BPDU，也不转发数据，但学习MAC地址<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>\t\t需要15s。</pre></td></tr><tr><td data-num=\"28\"></td><td><pre>\t\t<span class=\"token number\">4</span>，到FORWARDING状态<span class=\"token punctuation\">(</span>转发数据， <span class=\"token punctuation\">)</span>需要15s。【注：BPDU每2s发送一个】</pre></td></tr><tr><td data-num=\"29\"></td><td><pre>\t\t<span class=\"token number\">5</span>，RP：接收数据包<span class=\"token punctuation\">(</span>BPDU<span class=\"token punctuation\">)</span>，DP：发送数据包<span class=\"token punctuation\">(</span>BPDU<span class=\"token punctuation\">)</span>。</pre></td></tr><tr><td data-num=\"30\"></td><td><pre>\t<span class=\"token number\">6</span>，PC接入到运行 STP交换机<span class=\"token punctuation\">(</span>标准生成树时间为30s<span class=\"token punctuation\">)</span>：从，LIS，LES，FWD共30s。</pre></td></tr><tr><td data-num=\"31\"></td><td><pre>\t<span class=\"token number\">7</span>，PC直连STP交换机可以配置边缘端口<span class=\"token punctuation\">(</span>速度快<span class=\"token punctuation\">)</span>，具体配置如下：</pre></td></tr><tr><td data-num=\"32\"></td><td><pre>\t    <span class=\"token number\">1</span>，HW：</pre></td></tr><tr><td data-num=\"33\"></td><td><pre>\t\tint g0/0/0  stp edged-port enable。</pre></td></tr><tr><td data-num=\"34\"></td><td><pre>\t\t针对全局的access端口开启edge：stp edge-port default。</pre></td></tr><tr><td data-num=\"35\"></td><td><pre>\t\t<span class=\"token number\">2</span>，CSICO：</pre></td></tr><tr><td data-num=\"36\"></td><td><pre>\t\tspanning-tree portfast default</pre></td></tr><tr><td data-num=\"37\"></td><td><pre>\t<span class=\"token number\">8</span>，批量配置端口；</pre></td></tr><tr><td data-num=\"38\"></td><td><pre>\t    <span class=\"token number\">1</span>，HW:</pre></td></tr><tr><td data-num=\"39\"></td><td><pre>\t\tport-group group-number g0/0/0 to g0/0/24。</pre></td></tr><tr><td data-num=\"40\"></td><td><pre>\t\t<span class=\"token number\">2</span>，CISCO:</pre></td></tr><tr><td data-num=\"41\"></td><td><pre>\t\tint ran g0/30 - <span class=\"token number\">48</span> </pre></td></tr><tr><td data-num=\"42\"></td><td><pre>\t<span class=\"token number\">9</span>，Cost新标准：2乘以10的七次方除以带宽<span class=\"token punctuation\">(</span>M<span class=\"token punctuation\">)</span>。</pre></td></tr><tr><td data-num=\"43\"></td><td><pre>\t<span class=\"token number\">10</span>，STP最大缺点：</pre></td></tr><tr><td data-num=\"44\"></td><td><pre>\t    <span class=\"token number\">1</span>，时间慢！！再好的设备也没用。</pre></td></tr><tr><td data-num=\"45\"></td><td><pre>\t    <span class=\"token number\">2</span>，NDP阻塞所有的VLAN，不会只阻塞其中的一个。</pre></td></tr><tr><td data-num=\"46\"></td><td><pre>\t<span class=\"token number\">11</span>，STP配置命令<span class=\"token punctuation\">(</span>HW<span class=\"token punctuation\">)</span>：</pre></td></tr><tr><td data-num=\"47\"></td><td><pre>\t    <span class=\"token number\">1</span>，stp mode stp</pre></td></tr><tr><td data-num=\"48\"></td><td><pre>\t\t<span class=\"token number\">2</span>，stp priority <span class=\"token number\">4096</span>（配置优先级）。【配置简单，理论难】</pre></td></tr></table></figure><h1 id=\"第六章端口聚合\"><a class=\"anchor\" href=\"#第六章端口聚合\">#</a> 第六章【端口聚合】</h1>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>h</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token number\">1</span>，端口聚合：带宽加倍。</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token number\">2</span>，捆绑接口<span class=\"token punctuation\">(</span>以太网捆绑<span class=\"token punctuation\">)</span>：</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token number\">1</span>，把多条线路进行叠加使用。1000*2<span class=\"token operator\">=</span>2000m。</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\t<span class=\"token number\">2</span>，冗余。</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token number\">3</span>，注意：线路最好偶数使用。否则，负载不均等。</pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token number\">4</span>，查看捆绑情况命令<span class=\"token punctuation\">(</span>CISCO<span class=\"token punctuation\">)</span>：sh etherchannel summary。</pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token number\">5</span>，负载方式：</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token number\">1</span>，数据包<span class=\"token punctuation\">(</span>交换接口上使用最多，均等分重组的问题，但线路的快慢会受影响<span class=\"token punctuation\">)</span>。</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>\t<span class=\"token number\">2</span>，数据流<span class=\"token punctuation\">(</span>路由器最多使用，现网使用最多，不均等分，五因素：1，源ip,</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>\t    <span class=\"token number\">2</span>,目的ip，3，源端口，4，目的端口，5，协议号<span class=\"token punctuation\">)</span>。</pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token number\">6</span>，协议：</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token number\">1</span>，动态：LACP<span class=\"token punctuation\">(</span>共有协议<span class=\"token punctuation\">)</span>，PAGP<span class=\"token punctuation\">(</span>思科私有<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>\t<span class=\"token number\">2</span>，静态<span class=\"token punctuation\">(</span>推荐<span class=\"token punctuation\">)</span>：LACP静态。</pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token number\">7</span>，配置命令：</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token number\">1</span>，静态<span class=\"token punctuation\">(</span>CISCO<span class=\"token punctuation\">)</span>：</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>\t    int range g0/1 - <span class=\"token number\">3</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>\t    channel-group <span class=\"token number\">1</span> mode on </pre></td></tr><tr><td data-num=\"18\"></td><td><pre>\t    <span class=\"token function\">shutdown</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>\t    【配置完成生成port <span class=\"token number\">1</span>端口】</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>\t    int port <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>\t    sw mode ac</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>\t    sw acc vlan <span class=\"token number\">10</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>\t【注：两端都配置完成之后再启用接口，防止接口起不来】</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>\t<span class=\"token number\">2</span>，HW配置命令:</pre></td></tr><tr><td data-num=\"25\"></td><td><pre>\t    <span class=\"token function\">clear</span> configuration interface g0/0/1<span class=\"token punctuation\">(</span>清除接口以前的配置<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>\t\tport-group group-member g0/0/1 g0/0/2（要配置的接口）</pre></td></tr><tr><td data-num=\"27\"></td><td><pre>\t\t【注：两端都要配置】</pre></td></tr><tr><td data-num=\"28\"></td><td><pre>\t\tint eth-trunk <span class=\"token number\">1</span>（创建trunk1端口）</pre></td></tr><tr><td data-num=\"29\"></td><td><pre>\t\tint g0/0/1<span class=\"token punctuation\">(</span>加入捆绑口1<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>\t\teth-trunk <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>\t\tint g0/0/2</pre></td></tr><tr><td data-num=\"32\"></td><td><pre>\t\teth-trunk <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre><span class=\"token number\">8</span>，什么是堆叠：</pre></td></tr><tr><td data-num=\"34\"></td><td><pre>    把两台物理设备变为一台设备。二层交换机不能堆叠，</pre></td></tr><tr><td data-num=\"35\"></td><td><pre>\t【注：堆叠+捆绑去STP！！ ！堆叠必须与捆绑在一起使用】</pre></td></tr></table></figure><h1 id=\"第七章首跳冗余协议hsrpvrrp\"><a class=\"anchor\" href=\"#第七章首跳冗余协议hsrpvrrp\">#</a> 第七章【首跳冗余协议 HSRP，VRRP】</h1>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>h</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token number\">1</span>，与冗余有关联。</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token number\">2</span>，冗余概念：</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token number\">1</span>，能通。</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\t<span class=\"token number\">2</span>，故障情况下稳定使用，如：</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>\t    <span class=\"token number\">1</span>，单线路故障<span class=\"token punctuation\">(</span>解决<span class=\"token punctuation\">)</span>——多线路捆绑。</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>\t    <span class=\"token number\">2</span>，单台设备故障<span class=\"token punctuation\">(</span>解决<span class=\"token punctuation\">)</span>——堆叠或VRRP。</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\t\t<span class=\"token number\">3</span>，电源——双电源<span class=\"token punctuation\">(</span>市电，UPS<span class=\"token punctuation\">)</span>。</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token number\">4</span>，服务器<span class=\"token punctuation\">(</span>解决<span class=\"token punctuation\">)</span>——集群<span class=\"token punctuation\">(</span>LB负载均衡器<span class=\"token punctuation\">(</span>分法数据<span class=\"token punctuation\">)</span>。</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>\t\t前端应用<span class=\"token punctuation\">(</span>多台服务器<span class=\"token punctuation\">)</span>，数据库<span class=\"token punctuation\">(</span>主备冗余<span class=\"token punctuation\">)</span>，存储<span class=\"token punctuation\">(</span>阵列，多个磁盘柜<span class=\"token punctuation\">)</span>。</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token number\">5</span>，机房冗余<span class=\"token punctuation\">(</span>解决<span class=\"token punctuation\">)</span>：A机房，B机房。</pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token number\">3</span>，VRRP配置<span class=\"token punctuation\">(</span>HW<span class=\"token punctuation\">)</span>:</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    int vlan <span class=\"token number\">10</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>\tvrrp vrid <span class=\"token number\">1</span> virtual-ip <span class=\"token number\">172.16</span>.10.254</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>\tvrrp vrid  <span class=\"token number\">1</span> priority <span class=\"token number\">101</span><span class=\"token punctuation\">(</span>配置优先级，越大越优先。<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>\t【注】vrid：1，一个网段占用一个vrid。2，虚拟IP的MAC地址是根据vrid生产的。</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>\t查看的命令：dis vrrp brief</pre></td></tr></table></figure><h1 id=\"第八章acl访问控制列表\"><a class=\"anchor\" href=\"#第八章acl访问控制列表\">#</a> 第八章【ACL (访问控制列表)】</h1>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>h</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token number\">1</span>，ACL层面：</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token number\">1</span>，控制层面：路由。</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\t<span class=\"token number\">2</span>，转发层面：数据。</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token number\">2</span>，作用：过滤/抓取数据。</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token number\">3</span>，动作：允许-permit。拒绝-deny。</pre></td></tr></table></figure>",
            "tags": [
                "技术",
                "路由"
            ]
        },
        {
            "id": "https://2memos.xyz/2021/01/10/hello-world/",
            "url": "https://2memos.xyz/2021/01/10/hello-world/",
            "title": "Hello",
            "date_published": "2021-01-10T12:03:25.104Z",
            "content_html": "<p>Welcome to <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvLw==\">Hexo</span>! This is my second blog post.Author:Ruri Shimotsuki @優萌初華. If you get any problems when using Hexo, you can ask me on <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2pvY2VseW5mbG9yZXNYWFg=\">GitHub</span>.</p>\n",
            "tags": []
        }
    ]
}